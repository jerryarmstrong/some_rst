<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../../../../../../" id="documentation_options" src="../../../../../../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>package com.twitter.timelines.prediction.features.common</p>
<p>import com.twitter.dal.personal_data.thriftjava.PersonalDataType._
import com.twitter.ml.api.Feature.Binary
import com.twitter.ml.api.Feature.Continuous
import com.twitter.ml.api.Feature.Discrete
import com.twitter.ml.api.Feature.SparseBinary
import com.twitter.ml.api.Feature.SparseContinuous
import com.twitter.ml.api.Feature.Text
import com.twitter.timelines.data_processing.ml_util.aggregation_framework.TypedAggregateGroup
import scala.collection.JavaConverters._</p>
<p>object TimelinesSharedFeatures extends TimelinesSharedFeatures(“”)
object InReplyToTweetTimelinesSharedFeatures extends TimelinesSharedFeatures(“in_reply_to_tweet”)</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Defines shared features</p></li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>/</p>
</dd>
<dt>class TimelinesSharedFeatures(prefix: String) {</dt><dd><dl>
<dt>private def name(featureName: String): String = {</dt><dd><dl class="simple">
<dt>if (prefix.nonEmpty) {</dt><dd><p>s”$prefix.$featureName”</p>
</dd>
<dt>} else {</dt><dd><p>featureName</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>// meta
val EXPERIMENT_META = new SparseBinary(</p>
<blockquote>
<div><p>name(“timelines.meta.experiment_meta”),
Set(ExperimentId, ExperimentName).asJava)</p>
</div></blockquote>
<p>// historically used in the “combined models” to distinguish in-network and out of network tweets.
// now the feature denotes which adapter (recap or rectweet) was used to generate the datarecords.
// and is used by the data collection pipeline to split the training data.
val INJECTION_TYPE = new Discrete(name(“timelines.meta.injection_type”))</p>
<p>// Used to indicate which injection module is this
val INJECTION_MODULE_NAME = new Text(name(“timelines.meta.injection_module_name”))</p>
<p>val LIST_ID = new Discrete(name(“timelines.meta.list_id”))
val LIST_IS_PINNED = new Binary(name(“timelines.meta.list_is_pinned”))</p>
<p>// internal id per each PS request. mainly to join back commomn features and candidate features later
val PREDICTION_REQUEST_ID = new Discrete(name(“timelines.meta.prediction_request_id”))
// internal id per each TLM request. mainly to deduplicate re-served cached tweets in logging
val SERVED_REQUEST_ID = new Discrete(name(“timelines.meta.served_request_id”))
// internal id used for join key in kafka logging, equal to servedRequestId if tweet is cached,
// else equal to predictionRequestId
val SERVED_ID = new Discrete(name(“timelines.meta.served_id”))
val REQUEST_JOIN_ID = new Discrete(name(“timelines.meta.request_join_id”))</p>
<p>// Internal boolean flag per tweet, whether the tweet is served from RankedTweetsCache: TQ-14050
// this feature should not be trained on, blacklisted in feature_config: D838346
val IS_READ_FROM_CACHE = new Binary(name(“timelines.meta.is_read_from_cache”))</p>
<p>// model score discounts
val PHOTO_DISCOUNT = new Continuous(name(“timelines.score_discounts.photo”))
val VIDEO_DISCOUNT = new Continuous(name(“timelines.score_discounts.video”))
val TWEET_HEIGHT_DISCOUNT = new Continuous(name(“timelines.score_discounts.tweet_height”))
val TOXICITY_DISCOUNT = new Continuous(name(“timelines.score_discounts.toxicity”))</p>
<p>// engagements
val ENGAGEMENT_TYPE = new Discrete(name(“timelines.engagement.type”))
val PREDICTED_IS_FAVORITED =</p>
<blockquote>
<div><p>new Continuous(name(“timelines.engagement_predicted.is_favorited”), Set(EngagementScore).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val PREDICTED_IS_RETWEETED =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_retweeted”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_QUOTED =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_quoted”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_REPLIED =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_replied”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_OPEN_LINKED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_open_linked”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_GOOD_OPEN_LINK = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_good_open_link”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_PROFILE_CLICKED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_profile_clicked”),
Set(EngagementScore).asJava</p>
</dd>
</dl>
<p>)
val PREDICTED_IS_PROFILE_CLICKED_AND_PROFILE_ENGAGED = new Continuous(</p>
<blockquote>
<div><p>name(“timelines.engagement_predicted.is_profile_clicked_and_profile_engaged”),
Set(EngagementScore).asJava</p>
</div></blockquote>
<p>)
val PREDICTED_IS_CLICKED =</p>
<blockquote>
<div><p>new Continuous(name(“timelines.engagement_predicted.is_clicked”), Set(EngagementScore).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val PREDICTED_IS_PHOTO_EXPANDED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_photo_expanded”),
Set(EngagementScore).asJava</p>
</dd>
</dl>
<p>)
val PREDICTED_IS_FOLLOWED =</p>
<blockquote>
<div><p>new Continuous(name(“timelines.engagement_predicted.is_followed”), Set(EngagementScore).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val PREDICTED_IS_DONT_LIKE =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_dont_like”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_VIDEO_PLAYBACK_50 = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_video_playback_50”),
Set(EngagementScore).asJava</p>
</dd>
</dl>
<p>)
val PREDICTED_IS_VIDEO_QUALITY_VIEWED = new Continuous(</p>
<blockquote>
<div><p>name(“timelines.engagement_predicted.is_video_quality_viewed”),
Set(EngagementScore).asJava</p>
</div></blockquote>
<p>)
val PREDICTED_IS_GOOD_CLICKED_V1 = new Continuous(</p>
<blockquote>
<div><p>name(“timelines.engagement_predicted.is_good_clicked_convo_desc_favorited_or_replied”),
Set(EngagementScore).asJava)</p>
</div></blockquote>
<dl>
<dt>val PREDICTED_IS_GOOD_CLICKED_V2 = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_good_clicked_convo_desc_v2”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_TWEET_DETAIL_DWELLED_8_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_tweet_detail_dwelled_8_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_TWEET_DETAIL_DWELLED_15_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_tweet_detail_dwelled_15_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_TWEET_DETAIL_DWELLED_25_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_tweet_detail_dwelled_25_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_TWEET_DETAIL_DWELLED_30_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_tweet_detail_dwelled_30_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_GOOD_CLICKED_WITH_DWELL_SUM_GTE_60S = new Continuous(</dt><dd><dl class="simple">
<dt>name(</dt><dd><p>“timelines.engagement_predicted.is_good_clicked_convo_desc_favorited_or_replied_or_dwell_sum_gte_60_secs”),</p>
</dd>
</dl>
<p>Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_FAVORITED_FAV_ENGAGED_BY_AUTHOR = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_favorited_fav_engaged_by_author”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_REPORT_TWEET_CLICKED =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_report_tweet_clicked”),
Set(EngagementScore).asJava)</p>
</dd>
</dl>
</dd>
<dt>val PREDICTED_IS_NEGATIVE_FEEDBACK = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_negative_feedback”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_NEGATIVE_FEEDBACK_V2 = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_negative_feedback_v2”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_WEAK_NEGATIVE_FEEDBACK = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_weak_negative_feedback”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_STRONG_NEGATIVE_FEEDBACK = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_strong_negative_feedback”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_DWELLED_IN_BOUNDS_V1 = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_dwelled_in_bounds_v1”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_DWELL_NORMALIZED_OVERALL = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.dwell_normalized_overall”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_DWELL_CDF =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.dwell_cdf”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_DWELL_CDF_OVERALL = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.dwell_cdf_overall”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_DWELLED =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_dwelled”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_HOME_LATEST_VISITED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_home_latest_visited”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_BOOKMARKED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_bookmarked”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_SHARED =</dt><dd><p>new Continuous(name(“timelines.engagement_predicted.is_shared”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_SHARE_MENU_CLICKED = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_share_menu_clicked”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_PROFILE_DWELLED_20_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_profile_dwelled_20_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_FULLSCREEN_VIDEO_DWELLED_5_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_fullscreen_video_dwelled_5_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_FULLSCREEN_VIDEO_DWELLED_10_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_fullscreen_video_dwelled_10_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_FULLSCREEN_VIDEO_DWELLED_20_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_fullscreen_video_dwelled_20_sec”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_IS_FULLSCREEN_VIDEO_DWELLED_30_SEC = new Continuous(</dt><dd><p>name(“timelines.engagement_predicted.is_fullscreen_video_dwelled_30_sec”),
Set(EngagementScore).asJava)</p>
</dd>
</dl>
<p>// Please use this timestamp, not the <cite>meta.timestamp</cite>, for the actual served timestamp.
val SERVED_TIMESTAMP =</p>
<blockquote>
<div><p>new Discrete(“timelines.meta.timestamp.served”, Set(PrivateTimestamp).asJava)</p>
</div></blockquote>
<p>// timestamp when the engagement has occurred. do not train on these features
val TIMESTAMP_FAVORITED =</p>
<blockquote>
<div><p>new Discrete(“timelines.meta.timestamp.engagement.favorited”, Set(PublicTimestamp).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TIMESTAMP_RETWEETED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.retweeted”, Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_REPLIED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.replied”, Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_PROFILE_CLICKED = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.profile_clicked”,
Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_CLICKED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.clicked”, Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_PHOTO_EXPANDED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.photo_expanded”, Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_DWELLED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.dwelled”, Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_VIDEO_PLAYBACK_50 = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.video_playback_50”,
Set(PrivateTimestamp).asJava)</p>
</dd>
</dl>
<p>// reply engaged by author
val TIMESTAMP_REPLY_FAVORITED_BY_AUTHOR = new Discrete(</p>
<blockquote>
<div><p>“timelines.meta.timestamp.engagement.reply_favorited_by_author”,
Set(PublicTimestamp).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TIMESTAMP_REPLY_REPLIED_BY_AUTHOR = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.reply_replied_by_author”,
Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_REPLY_RETWEETED_BY_AUTHOR = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.reply_retweeted_by_author”,
Set(PublicTimestamp).asJava)</p>
</dd>
</dl>
<p>// fav engaged by author
val TIMESTAMP_FAV_FAVORITED_BY_AUTHOR = new Discrete(</p>
<blockquote>
<div><p>“timelines.meta.timestamp.engagement.fav_favorited_by_author”,
Set(PublicTimestamp).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TIMESTAMP_FAV_REPLIED_BY_AUTHOR = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.fav_replied_by_author”,
Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_FAV_RETWEETED_BY_AUTHOR = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.fav_retweeted_by_author”,
Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_FAV_FOLLOWED_BY_AUTHOR = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.fav_followed_by_author”,
Set(PublicTimestamp).asJava)</p>
</dd>
</dl>
<p>// good click
val TIMESTAMP_GOOD_CLICK_CONVO_DESC_FAVORITED = new Discrete(</p>
<blockquote>
<div><p>“timelines.meta.timestamp.engagement.good_click_convo_desc_favorited”,
Set(PrivateTimestamp).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TIMESTAMP_GOOD_CLICK_CONVO_DESC_REPLIIED = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.good_click_convo_desc_replied”,
Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_GOOD_CLICK_CONVO_DESC_PROFILE_CLICKED = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.good_click_convo_desc_profiile_clicked”,
Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_NEGATIVE_FEEDBACK = new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.negative_feedback”,
Set(PrivateTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_REPORT_TWEET_CLICK =</dt><dd><dl class="simple">
<dt>new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.report_tweet_click”,
Set(PrivateTimestamp).asJava)</p>
</dd>
</dl>
</dd>
<dt>val TIMESTAMP_IMPRESSED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.impressed”, Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_TWEET_DETAIL_DWELLED =</dt><dd><dl class="simple">
<dt>new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.tweet_detail_dwelled”,
Set(PublicTimestamp).asJava)</p>
</dd>
</dl>
</dd>
<dt>val TIMESTAMP_PROFILE_DWELLED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.profile_dwelled”, Set(PublicTimestamp).asJava)</p>
</dd>
<dt>val TIMESTAMP_FULLSCREEN_VIDEO_DWELLED =</dt><dd><dl class="simple">
<dt>new Discrete(</dt><dd><p>“timelines.meta.timestamp.engagement.fullscreen_video_dwelled”,
Set(PublicTimestamp).asJava)</p>
</dd>
</dl>
</dd>
<dt>val TIMESTAMP_LINK_DWELLED =</dt><dd><p>new Discrete(“timelines.meta.timestamp.engagement.link_dwelled”, Set(PublicTimestamp).asJava)</p>
</dd>
</dl>
<p>// these are used to dup and split the negative instances during streaming processing (kafka)
val TRAINING_FOR_FAVORITED =</p>
<blockquote>
<div><p>new Binary(“timelines.meta.training_data.for_favorited”, Set(EngagementId).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TRAINING_FOR_RETWEETED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_retweeted”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_REPLIED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_replied”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_PROFILE_CLICKED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_profile_clicked”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_CLICKED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_clicked”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_PHOTO_EXPANDED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_photo_expanded”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_VIDEO_PLAYBACK_50 =</dt><dd><p>new Binary(“timelines.meta.training_data.for_video_playback_50”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_NEGATIVE_FEEDBACK =</dt><dd><p>new Binary(“timelines.meta.training_data.for_negative_feedback”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_REPORTED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_reported”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_DWELLED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_dwelled”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_SHARED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_shared”, Set(EngagementId).asJava)</p>
</dd>
<dt>val TRAINING_FOR_SHARE_MENU_CLICKED =</dt><dd><p>new Binary(“timelines.meta.training_data.for_share_menu_clicked”, Set(EngagementId).asJava)</p>
</dd>
</dl>
<p>// Warning: do not train on these features
val PREDICTED_SCORE = new Continuous(name(“timelines.score”), Set(EngagementScore).asJava)
val PREDICTED_SCORE_FAV = new Continuous(name(“timelines.score.fav”), Set(EngagementScore).asJava)
val PREDICTED_SCORE_RETWEET =</p>
<blockquote>
<div><p>new Continuous(name(“timelines.score.retweet”), Set(EngagementScore).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val PREDICTED_SCORE_REPLY =</dt><dd><p>new Continuous(name(“timelines.score.reply”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_OPEN_LINK =</dt><dd><p>new Continuous(name(“timelines.score.open_link”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_GOOD_OPEN_LINK =</dt><dd><p>new Continuous(name(“timelines.score.good_open_link”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_PROFILE_CLICK =</dt><dd><p>new Continuous(name(“timelines.score.profile_click”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DETAIL_EXPAND =</dt><dd><p>new Continuous(name(“timelines.score.detail_expand”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_PHOTO_EXPAND =</dt><dd><p>new Continuous(name(“timelines.score.photo_expand”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_PLAYBACK_50 =</dt><dd><p>new Continuous(name(“timelines.score.playback_50”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_VIDEO_QUALITY_VIEW =</dt><dd><p>new Continuous(name(“timelines.score.video_quality_view”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DONT_LIKE =</dt><dd><p>new Continuous(name(“timelines.score.dont_like”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_PROFILE_CLICKED_AND_PROFILE_ENGAGED =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.score.profile_clicked_and_profile_engaged”),
Set(EngagementScore).asJava)</p>
</dd>
</dl>
</dd>
<dt>val PREDICTED_SCORE_GOOD_CLICKED_V1 =</dt><dd><p>new Continuous(name(“timelines.score.good_clicked_v1”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_GOOD_CLICKED_V2 =</dt><dd><p>new Continuous(name(“timelines.score.good_clicked_v2”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DWELL =</dt><dd><p>new Continuous(name(“timelines.score.dwell”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DWELL_CDF =</dt><dd><p>new Continuous(name(“timelines.score.dwell_cfd”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DWELL_CDF_OVERALL =</dt><dd><p>new Continuous(name(“timelines.score.dwell_cfd_overall”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_DWELL_NORMALIZED_OVERALL =</dt><dd><p>new Continuous(name(“timelines.score.dwell_normalized_overall”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_NEGATIVE_FEEDBACK =</dt><dd><p>new Continuous(name(“timelines.score.negative_feedback”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_NEGATIVE_FEEDBACK_V2 =</dt><dd><p>new Continuous(name(“timelines.score.negative_feedback_v2”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_WEAK_NEGATIVE_FEEDBACK =</dt><dd><p>new Continuous(name(“timelines.score.weak_negative_feedback”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_STRONG_NEGATIVE_FEEDBACK =</dt><dd><p>new Continuous(name(“timelines.score.strong_negative_feedback”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_REPORT_TWEET_CLICKED =</dt><dd><p>new Continuous(name(“timelines.score.report_tweet_clicked”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_UNFOLLOW_TOPIC =</dt><dd><p>new Continuous(name(“timelines.score.unfollow_topic”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_FOLLOW =</dt><dd><p>new Continuous(name(“timelines.score.follow”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_RELEVANCE_PROMPT_YES_CLICKED =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.score.relevance_prompt_yes_clicked”),
Set(EngagementScore).asJava)</p>
</dd>
</dl>
</dd>
<dt>val PREDICTED_SCORE_BOOKMARK =</dt><dd><p>new Continuous(name(“timelines.score.bookmark”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_SHARE =</dt><dd><p>new Continuous(name(“timelines.score.share”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_SHARE_MENU_CLICK =</dt><dd><p>new Continuous(name(“timelines.score.share_menu_click”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_PROFILE_DWELLED =</dt><dd><p>new Continuous(name(“timelines.score.good_profile_dwelled”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_TWEET_DETAIL_DWELLED =</dt><dd><p>new Continuous(name(“timelines.score.tweet_detail_dwelled”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val PREDICTED_SCORE_FULLSCREEN_VIDEO_DWELL =</dt><dd><p>new Continuous(name(“timelines.score.fullscreen_video_dwell”), Set(EngagementScore).asJava)</p>
</dd>
</dl>
<p>// hydrated in TimelinesSharedFeaturesAdapter that recap adapter calls
val ORIGINAL_AUTHOR_ID = new Discrete(name(“entities.original_author_id”), Set(UserId).asJava)
val SOURCE_AUTHOR_ID = new Discrete(name(“entities.source_author_id”), Set(UserId).asJava)
val SOURCE_TWEET_ID = new Discrete(name(“entities.source_tweet_id”), Set(TweetId).asJava)
val TOPIC_ID = new Discrete(name(“entities.topic_id”), Set(SemanticcoreClassification).asJava)
val INFERRED_TOPIC_IDS =</p>
<blockquote>
<div><p>new SparseBinary(name(“entities.inferred_topic_ids”), Set(SemanticcoreClassification).asJava)</p>
</div></blockquote>
<p>val INFERRED_TOPIC_ID = TypedAggregateGroup.sparseFeature(INFERRED_TOPIC_IDS)</p>
<dl class="simple">
<dt>val WEIGHTED_FAV_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.weighted_fav_count”),
Set(CountOfPrivateLikes, CountOfPublicLikes).asJava)</p>
</dd>
<dt>val WEIGHTED_RETWEET_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.weighted_retweet_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val WEIGHTED_REPLY_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.weighted_reply_count”),
Set(CountOfPrivateReplies, CountOfPublicReplies).asJava)</p>
</dd>
<dt>val WEIGHTED_QUOTE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.weighted_quote_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val EMBEDS_IMPRESSION_COUNT_V2 = new Continuous(</dt><dd><p>name(“timelines.earlybird.embeds_impression_count_v2”),
Set(CountOfImpression).asJava)</p>
</dd>
<dt>val EMBEDS_URL_COUNT_V2 = new Continuous(</dt><dd><p>name(“timelines.earlybird.embeds_url_count_v2”),
Set(CountOfPrivateTweetEntitiesAndMetadata, CountOfPublicTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val DECAYED_FAVORITE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.decayed_favorite_count”),
Set(CountOfPrivateLikes, CountOfPublicLikes).asJava)</p>
</dd>
<dt>val DECAYED_RETWEET_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.decayed_retweet_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val DECAYED_REPLY_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.decayed_reply_count”),
Set(CountOfPrivateReplies, CountOfPublicReplies).asJava)</p>
</dd>
<dt>val DECAYED_QUOTE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.decayed_quote_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val FAKE_FAVORITE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.fake_favorite_count”),
Set(CountOfPrivateLikes, CountOfPublicLikes).asJava)</p>
</dd>
<dt>val FAKE_RETWEET_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.fake_retweet_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val FAKE_REPLY_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.fake_reply_count”),
Set(CountOfPrivateReplies, CountOfPublicReplies).asJava)</p>
</dd>
<dt>val FAKE_QUOTE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.fake_quote_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
<dt>val QUOTE_COUNT = new Continuous(</dt><dd><p>name(“timelines.earlybird.quote_count”),
Set(CountOfPrivateRetweets, CountOfPublicRetweets).asJava)</p>
</dd>
</dl>
<p>// Safety features
val LABEL_ABUSIVE_FLAG =</p>
<blockquote>
<div><p>new Binary(name(“timelines.earlybird.label_abusive_flag”), Set(TweetSafetyLabels).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val LABEL_ABUSIVE_HI_RCL_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_abusive_hi_rcl_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
<dt>val LABEL_DUP_CONTENT_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_dup_content_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
<dt>val LABEL_NSFW_HI_PRC_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_nsfw_hi_prc_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
<dt>val LABEL_NSFW_HI_RCL_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_nsfw_hi_rcl_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
<dt>val LABEL_SPAM_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_spam_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
<dt>val LABEL_SPAM_HI_RCL_FLAG =</dt><dd><p>new Binary(name(“timelines.earlybird.label_spam_hi_rcl_flag”), Set(TweetSafetyLabels).asJava)</p>
</dd>
</dl>
<p>// Periscope features
val PERISCOPE_EXISTS = new Binary(</p>
<blockquote>
<div><p>name(“timelines.earlybird.periscope_exists”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val PERISCOPE_IS_LIVE = new Binary(</dt><dd><p>name(“timelines.earlybird.periscope_is_live”),
Set(PrivateBroadcastMetrics, PublicBroadcastMetrics).asJava)</p>
</dd>
<dt>val PERISCOPE_HAS_BEEN_FEATURED = new Binary(</dt><dd><p>name(“timelines.earlybird.periscope_has_been_featured”),
Set(PrivateBroadcastMetrics, PublicBroadcastMetrics).asJava)</p>
</dd>
<dt>val PERISCOPE_IS_CURRENTLY_FEATURED = new Binary(</dt><dd><p>name(“timelines.earlybird.periscope_is_currently_featured”),
Set(PrivateBroadcastMetrics, PublicBroadcastMetrics).asJava</p>
</dd>
</dl>
<p>)
val PERISCOPE_IS_FROM_QUALITY_SOURCE = new Binary(</p>
<blockquote>
<div><p>name(“timelines.earlybird.periscope_is_from_quality_source”),
Set(PrivateBroadcastMetrics, PublicBroadcastMetrics).asJava</p>
</div></blockquote>
<p>)</p>
<p>val VISIBLE_TOKEN_RATIO = new Continuous(name(“timelines.earlybird.visible_token_ratio”))
val HAS_QUOTE = new Binary(</p>
<blockquote>
<div><p>name(“timelines.earlybird.has_quote”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val IS_COMPOSER_SOURCE_CAMERA = new Binary(</dt><dd><p>name(“timelines.earlybird.is_composer_source_camera”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val EARLYBIRD_SCORE = new Continuous(</dt><dd><p>name(“timelines.earlybird_score”),
Set(EngagementScore).asJava</p>
</dd>
</dl>
<p>) // separating from the rest of “timelines.earlybird.” namespace</p>
<dl class="simple">
<dt>val DWELL_TIME_MS = new Continuous(</dt><dd><p>name(“timelines.engagement.dwell_time_ms”),
Set(EngagementDurationAndTimestamp, ImpressionMetadata, PrivateTimestamp).asJava)</p>
</dd>
<dt>val TWEET_DETAIL_DWELL_TIME_MS = new Continuous(</dt><dd><p>name(“timelines.engagement.tweet_detail_dwell_time_ms”),
Set(EngagementDurationAndTimestamp, ImpressionMetadata, PrivateTimestamp).asJava)</p>
</dd>
<dt>val PROFILE_DWELL_TIME_MS = new Continuous(</dt><dd><p>name(“timelines.engagement.profile_dwell_time_ms”),
Set(EngagementDurationAndTimestamp, ImpressionMetadata, PrivateTimestamp).asJava)</p>
</dd>
<dt>val FULLSCREEN_VIDEO_DWELL_TIME_MS = new Continuous(</dt><dd><p>name(“timelines.engagement.fullscreen_video_dwell_time_ms”),
Set(EngagementDurationAndTimestamp, ImpressionMetadata, PrivateTimestamp).asJava)</p>
</dd>
<dt>val LINK_DWELL_TIME_MS = new Continuous(</dt><dd><p>name(“timelines.engagement.link_dwell_time_ms”),
Set(EngagementDurationAndTimestamp, ImpressionMetadata, PrivateTimestamp).asJava)</p>
</dd>
<dt>val ASPECT_RATIO_DEN = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.aspect_ratio_den”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val ASPECT_RATIO_NUM = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.aspect_ratio_num”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val BIT_RATE = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.bit_rate”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HEIGHT_2 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.height_2”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HEIGHT_1 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.height_1”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HEIGHT_3 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.height_3”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HEIGHT_4 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.height_4”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val RESIZE_METHOD_1 = new Discrete(</dt><dd><p>name(“tweetsource.tweet.media.resize_method_1”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val RESIZE_METHOD_2 = new Discrete(</dt><dd><p>name(“tweetsource.tweet.media.resize_method_2”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val RESIZE_METHOD_3 = new Discrete(</dt><dd><p>name(“tweetsource.tweet.media.resize_method_3”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val RESIZE_METHOD_4 = new Discrete(</dt><dd><p>name(“tweetsource.tweet.media.resize_method_4”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val VIDEO_DURATION = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.video_duration”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val WIDTH_1 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.width_1”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val WIDTH_2 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.width_2”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val WIDTH_3 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.width_3”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val WIDTH_4 = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.width_4”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val NUM_MEDIA_TAGS = new Continuous(</dt><dd><p>name(“tweetsource.tweet.media.num_tags”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val MEDIA_TAG_SCREEN_NAMES = new SparseBinary(</dt><dd><p>name(“tweetsource.tweet.media.tag_screen_names”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val STICKER_IDS = new SparseBinary(</dt><dd><p>name(“tweetsource.tweet.media.sticker_ids”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val NUM_COLOR_PALLETTE_ITEMS = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.num_color_pallette_items”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val COLOR_1_RED = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.color_1_red”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val COLOR_1_BLUE = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.color_1_blue”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val COLOR_1_GREEN = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.color_1_green”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val COLOR_1_PERCENTAGE = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.color_1_percentage”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val MEDIA_PROVIDERS = new SparseBinary(</dt><dd><p>name(“tweetsource.v2.tweet.media.providers”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val IS_360 = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.is_360”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val VIEW_COUNT =</dt><dd><p>new Continuous(name(“tweetsource.v2.tweet.media.view_count”), Set(MediaContentMetrics).asJava)</p>
</dd>
<dt>val IS_MANAGED = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.is_managed”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val IS_MONETIZABLE = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.is_monetizable”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val IS_EMBEDDABLE = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.is_embeddable”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val CLASSIFICATION_LABELS = new SparseContinuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.classification_labels”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val NUM_STICKERS = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.num_stickers”),
Set(PublicTweetEntitiesAndMetadata, PrivateTweetEntitiesAndMetadata).asJava)</p>
</dd>
<dt>val NUM_FACES = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.num_faces”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val FACE_AREAS = new Continuous(</dt><dd><p>name(“tweetsource.v2.tweet.media.face_areas”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_SELECTED_PREVIEW_IMAGE = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_selected_preview_image”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_TITLE = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_title”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_DESCRIPTION = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_description”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_VISIT_SITE_CALL_TO_ACTION = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_visit_site_call_to_action”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_APP_INSTALL_CALL_TO_ACTION = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_app_install_call_to_action”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val HAS_WATCH_NOW_CALL_TO_ACTION = new Binary(</dt><dd><p>name(“tweetsource.v2.tweet.media.has_watch_now_call_to_action”),
Set(MediaFile, MediaProcessingInformation).asJava)</p>
</dd>
<dt>val NUM_CAPS =</dt><dd><p>new Continuous(name(“tweetsource.tweet.text.num_caps”), Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val TWEET_LENGTH =</dt><dd><p>new Continuous(name(“tweetsource.tweet.text.length”), Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val TWEET_LENGTH_TYPE = new Discrete(</dt><dd><p>name(“tweetsource.tweet.text.length_type”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val NUM_WHITESPACES = new Continuous(</dt><dd><p>name(“tweetsource.tweet.text.num_whitespaces”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val HAS_QUESTION =</dt><dd><p>new Binary(name(“tweetsource.tweet.text.has_question”), Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val NUM_NEWLINES = new Continuous(</dt><dd><p>name(“tweetsource.tweet.text.num_newlines”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val EMOJI_TOKENS = new SparseBinary(</dt><dd><p>name(“tweetsource.v3.tweet.text.emoji_tokens”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val EMOTICON_TOKENS = new SparseBinary(</dt><dd><p>name(“tweetsource.v3.tweet.text.emoticon_tokens”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val NUM_EMOJIS = new Continuous(</dt><dd><p>name(“tweetsource.v3.tweet.text.num_emojis”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val NUM_EMOTICONS = new Continuous(</dt><dd><p>name(“tweetsource.v3.tweet.text.num_emoticons”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val POS_UNIGRAMS = new SparseBinary(</dt><dd><p>name(“tweetsource.v3.tweet.text.pos_unigrams”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val POS_BIGRAMS = new SparseBinary(</dt><dd><p>name(“tweetsource.v3.tweet.text.pos_bigrams”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
<dt>val TEXT_TOKENS = new SparseBinary(</dt><dd><p>name(“tweetsource.v4.tweet.text.tokens”),
Set(PublicTweets, PrivateTweets).asJava)</p>
</dd>
</dl>
<p>// Health features model scores (see go/toxicity, go/pblock, go/pspammytweet)
val PBLOCK_SCORE =</p>
<blockquote>
<div><p>new Continuous(name(“timelines.earlybird.pblock_score”), Set(TweetSafetyScores).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val TOXICITY_SCORE =</dt><dd><p>new Continuous(name(“timelines.earlybird.toxicity_score”), Set(TweetSafetyScores).asJava)</p>
</dd>
<dt>val EXPERIMENTAL_HEALTH_MODEL_SCORE_1 =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.earlybird.experimental_health_model_score_1”),
Set(TweetSafetyScores).asJava)</p>
</dd>
</dl>
</dd>
<dt>val EXPERIMENTAL_HEALTH_MODEL_SCORE_2 =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.earlybird.experimental_health_model_score_2”),
Set(TweetSafetyScores).asJava)</p>
</dd>
</dl>
</dd>
<dt>val EXPERIMENTAL_HEALTH_MODEL_SCORE_3 =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.earlybird.experimental_health_model_score_3”),
Set(TweetSafetyScores).asJava)</p>
</dd>
</dl>
</dd>
<dt>val EXPERIMENTAL_HEALTH_MODEL_SCORE_4 =</dt><dd><dl class="simple">
<dt>new Continuous(</dt><dd><p>name(“timelines.earlybird.experimental_health_model_score_4”),
Set(TweetSafetyScores).asJava)</p>
</dd>
</dl>
</dd>
<dt>val PSPAMMY_TWEET_SCORE =</dt><dd><p>new Continuous(name(“timelines.earlybird.pspammy_tweet_score”), Set(TweetSafetyScores).asJava)</p>
</dd>
<dt>val PREPORTED_TWEET_SCORE =</dt><dd><p>new Continuous(name(“timelines.earlybird.preported_tweet_score”), Set(TweetSafetyScores).asJava)</p>
</dd>
</dl>
<p>// where record was displayed e.g. recap vs ranked timeline vs recycled
// (do NOT use for training in prediction, since this is set post-scoring)
// This differs from TimelinesSharedFeatures.INJECTION_TYPE, which is only
// set to Recap or Rectweet, and is available pre-scoring.
// This also differs from TimeFeatures.IS_TWEET_RECYCLED, which is set
// pre-scoring and indicates if a tweet is being considered for recycling.
// In contrast, DISPLAY_SUGGEST_TYPE == RecycledTweet means the tweet
// was actually served in a recycled tweet module. The two should currently
// have the same value, but need not in future, so please only use
// IS_TWEET_RECYCLED/CANDIDATE_TWEET_SOURCE_ID for training models and
// only use DISPLAY_SUGGEST_TYPE for offline analysis of tweets actually
// served in recycled modules.
val DISPLAY_SUGGEST_TYPE = new Discrete(name(“recap.display.suggest_type”))</p>
<p>// Candidate tweet source id - related to DISPLAY_SUGGEST_TYPE above, but this is a
// property of the candidate rather than display location so is safe to use
// in model training, unlike DISPLAY_SUGGEST_TYPE.
val CANDIDATE_TWEET_SOURCE_ID =</p>
<blockquote>
<div><p>new Discrete(name(“timelines.meta.candidate_tweet_source_id”), Set(TweetId).asJava)</p>
</div></blockquote>
<p>// Was at least 50% of this tweet in the user’s viewport for at least 500 ms,
// OR did the user engage with the tweet publicly or privately
val IS_LINGER_IMPRESSION =</p>
<blockquote>
<div><p>new Binary(name(“timelines.engagement.is_linger_impression”), Set(EngagementsPrivate).asJava)</p>
</div></blockquote>
<p>// Features to create rollups
val LANGUAGE_GROUP = new Discrete(name(“timelines.tweet.text.language_group”))</p>
<p>// The final position index of the tweet being trained on in the timeline
// served from TLM (could still change later in TLS-API), as recorded by
// PositionIndexLoggingEnvelopeTransform.
val FINAL_POSITION_INDEX = new Discrete(name(“timelines.display.final_position_index”))</p>
<p>// The traceId of the timeline request, can be used to group tweets in the same response.
val TRACE_ID = new Discrete(name(“timelines.display.trace_id”), Set(TfeTransactionId).asJava)</p>
<p>// Whether this tweet was randomly injected into the timeline or not, for exploration purposes
val IS_RANDOM_TWEET = new Binary(name(“timelines.display.is_random_tweet”))</p>
<p>//  Whether this tweet was reordered with softmax ranking for explore/exploit, and needs to
//  be excluded from exploit only holdback
val IS_SOFTMAX_RANKING_TWEET = new Binary(name(“timelines.display.is_softmax_ranking_tweet”))</p>
<p>// Whether the user viewing the tweet has disabled ranked timeline.
val IS_RANKED_TIMELINE_DISABLER = new Binary(</p>
<blockquote>
<div><p>name(“timelines.user_features.is_ranked_timeline_disabler”),
Set(AnnotationValue, GeneralSettings).asJava)</p>
</div></blockquote>
<p>// Whether the user viewing the tweet was one of those released from DDG 4205 control
// as part of <a class="reference external" href="http://go/shrink-4205">http://go/shrink-4205</a> process to shrink the quality features holdback.
val IS_USER_RELEASED_FROM_QUALITY_HOLDBACK = new Binary(</p>
<blockquote>
<div><p>name(“timelines.user_features.is_released_from_quality_holdback”),
Set(ExperimentId, ExperimentName).asJava)</p>
</div></blockquote>
<dl class="simple">
<dt>val INITIAL_PREDICTION_FAV =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.fav”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_RETWEET =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.retweet”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_REPLY =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.reply”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_OPEN_LINK =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.open_link”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_PROFILE_CLICK =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.profile_click”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_VIDEO_PLAYBACK_50 = new Continuous(</dt><dd><p>name(“timelines.initial_prediction.video_playback_50”),
Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_DETAIL_EXPAND =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.detail_expand”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val INITIAL_PREDICTION_PHOTO_EXPAND =</dt><dd><p>new Continuous(name(“timelines.initial_prediction.photo_expand”), Set(EngagementScore).asJava)</p>
</dd>
<dt>val VIEWER_FOLLOWS_ORIGINAL_AUTHOR =</dt><dd><p>new Binary(name(“timelines.viewer_follows_original_author”), Set(Follow).asJava)</p>
</dd>
</dl>
<p>val IS_TOP_ONE = new Binary(name(“timelines.position.is_top_one”))
val IS_TOP_FIVE =</p>
<blockquote>
<div><p>new Binary(name(featureName = “timelines.position.is_top_five”))</p>
</div></blockquote>
<dl class="simple">
<dt>val IS_TOP_TEN =</dt><dd><p>new Binary(name(featureName = “timelines.position.is_top_ten”))</p>
</dd>
<dt>val LOG_POSITION =</dt><dd><p>new Continuous(name(featureName = “timelines.position.log_10”))</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../../../../../../_sources/src/scala/com/twitter/timelines/prediction/features/common/TimelinesSharedFeatures.scala.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>