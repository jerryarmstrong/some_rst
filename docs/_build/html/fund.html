<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/fund.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=039e1c02" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-fund-md">
<h1>docs/fund.md<a class="headerlink" href="#docs-fund-md" title="Permalink to this heading">Â¶</a></h1>
<p>Last edited: 2022-12-05 19:44:34</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gh"># Fund</span>
</pre></div>
</div>
<p>The Fund program implements a decentralized, non-custodial, and trustless capital management protocol. It is built on top of supported liquidity protocols, including Farm Vaults. Fund Managers are responsible for selecting a portfolio of assets their Fund will hold. These assets can be in various forms: individual tokens, liquidity invested into different Pools, staked into Farms, or deposited into Farm Vaults.</p>
<p>Fund Managers are allowed to perform specific operations with tokens: swap, add/remove liquidity, stake/unstake/harvest, etc., and only in approved Pools, while all other actions are forbidden. It is enforced by the Fund program and allows investors to earn passive returns while maintaining custody of their assets (by holding Fund tokens that are minted upon each deposit and can be withdrawn for underlying assets).</p>
<p>There could be any number of Funds, each implementing its own assets management strategy. Because of the blockchain nature, historical performance and current allocations are always transparent, so investors can make an informed decision on which Funds they want to invest in.</p>
<p>## Build &amp; Deploy</p>
<p>To run the Fund, first, build and deploy Farm programs and upload metadata as described in the [Quick Start Guide](<a class="reference external" href="https://github.com/solana-labs/farms/blob/master/docs/quick_start.md">https://github.com/solana-labs/farms/blob/master/docs/quick_start.md</a>).</p>
<p>To build and deploy the Fund program, run:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">cd</span> <span class="pre">farms/fund</span>
<span class="pre">cargo</span> <span class="pre">build-bpf</span>
<span class="pre">solana</span> <span class="pre">program</span> <span class="pre">deploy</span> <span class="pre">../target/deploy/solana_fund.so</span>
<span class="pre">`</span></code></p>
<p>Integration tests are located in the <cite>fund/tests</cite> directory and can be started as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">cargo</span> <span class="pre">test</span> <span class="pre">--</span> <span class="pre">--nocapture</span> <span class="pre">--test-threads=1</span> <span class="pre">--ignored</span>
<span class="pre">`</span></code></p>
<p>These tests execute transactions on mainnet, which will cost you some SOL.</p>
<p>The next step is to generate Fund metadata:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">solana-farm-ctrl</span> <span class="pre">--keypair</span> <span class="pre">main_admin.json</span> <span class="pre">generate</span> <span class="pre">Fund</span> <span class="pre">[FUND_PROGRAM_ADDRESS]</span> <span class="pre">[FUND_NAME]</span>
<span class="pre">`</span></code></p>
<p>Generated metadata should be manually saved to JSON files (tokens and funds separately) using a format similar to other tokens and vault files. And then uploaded with:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">solana-farm-ctrl</span> <span class="pre">--keypair</span> <span class="pre">main_admin.json</span> <span class="pre">load</span> <span class="pre">token</span> <span class="pre">fund_tokens.json</span>
<span class="pre">solana-farm-ctrl</span> <span class="pre">--keypair</span> <span class="pre">main_admin.json</span> <span class="pre">load</span> <span class="pre">fund</span> <span class="pre">funds.json</span>
<span class="pre">`</span></code></p>
<p>To verify metadata and installation, run <cite>solana-farm-ctrl get-all fund</cite> and <cite>solana-farm-client fund-info [FUND_NAME]</cite>.</p>
<p>## Initialization</p>
<p>Before a Fund can be used it, must be initialized with <cite>solana-farm-ctrl fund-init [FUNDNAME]</cite>. Instead of executing commands with <cite>Farm Ctrl CLI</cite>, alternatively, you can create and send corresponding instructions with [HTTP Client](<a class="reference external" href="https://github.com/solana-labs/farms/blob/master/docs/http_client.md">https://github.com/solana-labs/farms/blob/master/docs/http_client.md</a>) or [Rust Client](<a class="reference external" href="https://github.com/solana-labs/farms/blob/master/docs/rust_client.md">https://github.com/solana-labs/farms/blob/master/docs/rust_client.md</a>).</p>
<p>Each Fund has three types of configuration settings. First is Fund Assets Tracking Config, which can be set with <cite>fund-set-assets-tracking-config</cite>. It defines parameters such as assets limit, oracle price minimum quality, and whether or not to issue Fund tokens to depositors. Only admins are allowed to alter these settings. The other configs are Deposit and Withdrawal Schedules, which can be set with <cite>fund-set-deposit-schedule</cite> and <cite>fund-set-withdrawal-schedule</cite>. They define when deposits/withdrawals can be made, whether they will require the approval of the Fund Manager, fees, and amount limits. Deposit/Withdrawal configs can be set or modified by admins or Fund managers.</p>
<p>Funds keep all assets in custodies. There are two types of custodies - DepositWithdraw and Trading. The former is used to accept initial deposits or process withdrawals and the latter to perform trading operations. Custodies can be added with <cite>fund-add-custody</cite>. Users will be allowed to make deposits and withdrawals only in tokens for which DepositWithdraw custodies have been created. Similarly, trading operations (like swaps, adding liquidity to a Farm or Vault, etc.) require corresponding Trading custodies to be pre-created, including the ones for holding LP tokens. Fund Manager can move tokens from DepositWithdraw custody to Trading or vice versa using <cite>fund-lock-assets</cite> and <cite>fund-unlock-assets</cite>.</p>
<p>Liquidity Pools, Farms, and Vaults that particular Fund will be allowed to trade in or deposit liquidity to must be explicitly whitelisted. This can be done with <cite>fund-add-vault</cite> and require admin privileges.</p>
<p>Fund Managers perform trading operations, deposit and withdrawal approvals (if enabled). New Fund Manager can be set with <cite>fund-set-manager</cite>.</p>
<p>Whether the Fund is properly initialized can be verified with client tools, e.g. <cite>solana-farm-client fund-info [FUND_NAME]</cite>.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/fund.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>