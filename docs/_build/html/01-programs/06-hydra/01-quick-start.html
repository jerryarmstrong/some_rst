<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/01-programs/06-hydra/01-quick-start.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-01-programs-06-hydra-01-quick-start-md">
<h1>docs/01-programs/06-hydra/01-quick-start.md<a class="headerlink" href="#docs-01-programs-06-hydra-01-quick-start-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-08 19:56:25</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gh"># Quick Start</span>
</pre></div>
</div>
<p>To get started with Hydra, you’ll need the package for your programming environment.</p>
<p>If you are using Rust grab the crate here:</p>
<p><a class="reference external" href="https://crates.io/crates/hydra_wallet">https://crates.io/crates/hydra_wallet</a></p>
<p>If you are using Javascript, grab the package here:</p>
<p><a class="reference external" href="https://www.npmjs.com/package/&#64;glasseaters/hydra-sdk">https://www.npmjs.com/package/&#64;glasseaters/hydra-sdk</a></p>
<p>:::warning</p>
<p>Everything is brand new so expect frequent changes.
We don’t support the use of the Anchor TS library, we only support the Hydra SDK. This is because we can add accounts
and arguments without breaking backward compatibility.</p>
<p>::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Quick Start - JS</span>
</pre></div>
</div>
<p>Install the package from npm:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">yarn</span> <span class="pre">add</span> <span class="pre">&#64;glasseaters/hydra-sdk</span>
<span class="pre">`</span></code></p>
<p>This is how you’d set up a Hydra with the Wallet [membership model](./intro#adding-members).</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>ts
import { Connection, Keypair, LAMPORTS_PER_SOL } from “&#64;solana/web3.js”;
import { ASSOCIATED_TOKEN_PROGRAM_ID, Token, TOKEN_PROGRAM_ID } from “&#64;solana/spl-token”;
import { airdrop } from “&#64;metaplex-foundation/amman”;
import {</p>
<blockquote>
<div><p>Fanout,
FanoutClient,
FanoutMembershipMintVoucher,
FanoutMembershipVoucher,
FanoutMint,
MembershipModel</p>
</div></blockquote>
<p>} from “&#64;glasseaters/hydra-sdk”;</p>
<p>const connection = new Connection(“devnet”, “confirmed”);
const authorityWallet = Keypair.generate();</p>
<p>await airdrop(connection, authorityWallet.publicKey, LAMPORTS_PER_SOL * 2);</p>
<dl class="simple">
<dt>const fanoutSdk = new FanoutClient(</dt><dd><p>connection,
new NodeWallet(new Account(authorityWallet.secretKey))</p>
</dd>
</dl>
<p>);</p>
<p>// Initialize the Hydra Wallet
const { fanout, nativeAccount } = await fanoutSdk.initializeFanout({</p>
<blockquote>
<div><p>totalShares: 100,
name: <cite>Your Globally Unique Wallet Name</cite>,
membershipModel: MembershipModel.Wallet,</p>
</div></blockquote>
<p>});</p>
<p>// fanout is your fanout config address
// nativeAccount is your account address</p>
<p>// Retrieve the On-chain Hydra Wallet
const fanoutAccount = await fanoutSdk.fetch&lt;Fanout&gt;(</p>
<blockquote>
<div><p>fanout,
Fanout</p>
</div></blockquote>
<p>);</p>
<p>console.log(fanoutAccount); // Shows you all the parameters in your Hydra</p>
<p>// This is your Hydra Wallet Address
let HydraAccountKey = fanoutAccount.accountKey // this is the same thing as nativeAccount above</p>
<p>// If you only know the Hydra name, this is how you can retrieve the account key
let name = <cite>Your Globally Unique Wallet Name</cite>
let [key, bump] = await fanoutSdk.fanoutKey(name)
let [holdingAccount, bump] = await fanoutSdk.nativeAccount(key)</p>
<p>// Add members</p>
<p>const member1 = new Keypair();
const { membershipAccount1 } = await fanoutSdk.addMemberWallet({</p>
<blockquote>
<div><p>fanout: init.fanout,
fanoutNativeAccount: init.nativeAccount,
membershipKey: member1.publicKey,
shares: 10</p>
</div></blockquote>
<p>});</p>
<p>//Repeat for all members until sum(shares) == totalShares from initialization
…</p>
<p>// Send some Sol to the Hydra Wallet so you can distribute
await airdrop(connection, HydraAccountKey, 2);</p>
<p>// Generate the distribution instructions
let distMember1 = await fanoutSdk.distributeWalletMemberInstructions(</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>distributeForMint: false,
member: member1.wallet.publicKey,
fanout: fanout,
payer: authorityWallet.publicKey, // This can be changed to whoever sends the tx</p>
</dd>
</dl>
<p>},</p>
</div></blockquote>
<p>);</p>
<p>// Send the distribution instructions
const tx = await fanoutSdk.sendInstructions(</p>
<blockquote>
<div><p>[…distMember1.instructions],
[authorityWallet],
authorityWallet.publicKey</p>
</div></blockquote>
<p>);
if (!!tx.RpcResponseAndContext.value.err) {</p>
<blockquote>
<div><p>const txdetails = await connection.getConfirmedTransaction(tx.TransactionSignature);
console.log(txdetails, tx.RpcResponseAndContext.value.err);</p>
</div></blockquote>
<p>}</p>
<p>// Member1 Should have 0.2 more sol in their wallet</p>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/01-programs/06-hydra/01-quick-start.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>