<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/01-programs/03-auction-house/02-auction-house-settings.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-01-programs-03-auction-house-02-auction-house-settings-md">
<h1>docs/01-programs/03-auction-house/02-auction-house-settings.md<a class="headerlink" href="#docs-01-programs-03-auction-house-02-auction-house-settings-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-08 19:56:25</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>description: “Explains Auction House settings in great detail.”
—</p>
<p>import { Accordion, AccordionItem } from ‘/src/accordion.jsx’;</p>
<p># Auction House Settings</p>
<p>## Introduction</p>
<p>On this page, we will discuss settings that are available on an Auction House. These settings include some general settings that define how an Auction House operates, defination of some accounts (PDAs) that support the operation of the Auction House and some more specific settings that provide further configurability to the Auction House program.</p>
<p>## The Authority</p>
<p>The authority is the wallet which controls the usage of an account, and in this case, the Auction House instance. The authority address can be be mentioned when creating an Auction House. If not mentioned, the wallet which is being used to create the Auction House defaults as the authority.</p>
<p>The authority can also be transferred to another wallet after the creation of the Auction House, which transfers control of the Auction House. This action should be performed carefully.</p>
<p>Authority wallet also plays another important role of guarding which assets could be listed and sold on the marketplace. We’ll talk more about this functionality of the authority when we discuss [<cite>requireSignOff</cite>](#requiresignoff)</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>When using the JS SDK, the authority of a Auction House will always default to the wallet being used to create the Auction House. You may explicitly set this authority by providing a valid signer to the authority property.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>tsx
import { Keypair } from “&#64;solana/web3.js”;</p>
<p>const myCustomAuthority = Keypair.generate();
const auctionHouseSettings = {</p>
<blockquote>
<div><p>authority: myCustomAuthority,</p>
</div></blockquote>
<section id="id5">
<h2>};<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Trade Settings</p>
<p>These are trading-specific settings that can be set on an Auction House. These settings help in defining how a user interacts with the marketplace:</p>
<ol class="arabic simple">
<li><p><cite>treasuryMint</cite>: This defines the mint account of the SPL-token to be used as the currency of exchange in the marketplace. Most marketplaces on Solana usually use SOL as the currency of exchange and for trading assets. Using this setting, the authority of the Auction House can set any SPL-token to be used to buy and sell assets on the given marketplace.</p></li>
<li><p><cite>sellerFeeBasisPoints</cite>: This defines the secondary sale royalties that a marketplace receives on each sale of every asset on the given marketplace. <cite>250</cite> means <cite>2.5%</cite> royalty share.</p></li>
</ol>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>In this snippet we are creating an spl-token and setting it as the <cite>treasuryMint</cite> of the Auction House. We are also setting the marketplace royalties using <cite>sellerFeeBasisPoints</cite>.</p>
<p><a href="#id6"><span class="problematic" id="id7">``</span></a><a href="#id8"><span class="problematic" id="id9">`</span></a>tsx
import { clusterApiUrl, Connection, Keypair } from “&#64;solana/web3.js”;
import { Token, TOKEN_PROGRAM_ID } from “&#64;solana/spl-token”;</p>
<p>const myKeypair = Keypair.generate();
const connection = new Connection(</p>
<blockquote>
<div><p>clusterApiUrl(‘devnet’),
‘confirmed’,</p>
</div></blockquote>
<p>);
const myCustomToken = splToken.Token.createMint(connection, myKeypair, myKeypair.publicKey, null, 9, splToken.TOKEN_PROGRAM_ID)
const auctionHouseSettings = {</p>
<blockquote>
<div><p>treasuryMint: myCustomToken,
sellerFeeBasisPoints: 150</p>
</div></blockquote>
</section>
<section id="id10">
<h2>};<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Helper Accounts</p>
<p>There are several accounts that are necessary for the Auction House to function properly. Once set by the Auction House, the authority can reset and configure these accounts as per their liking.</p>
<p>There are some accounts that are created and controlled by the Auction House program. These accounts are Program Derived Addresses (PDAs) which you can read more about [here](<a class="reference external" href="https://solanacookbook.com/core-concepts/pdas.html">https://solanacookbook.com/core-concepts/pdas.html</a>). These are the two settings that can be used to set these accounts:</p>
<ol class="arabic simple">
<li><p><cite>auctionHouseFeeAccount</cite>: The public key of the fee account which stores funds for paying for Auction House related transactions on behalf of the users.</p></li>
<li><p><cite>auctionHouseTreasury</cite>: The public key of the treasury account which stores the funds received on every sale, as marketplace royalty.</p></li>
</ol>
<p>There are other accounts that are not created by the Auction House program, but are essential for withdrawing different types of funds from the Auction House, back to the authority:</p>
<ol class="arabic simple">
<li><p><cite>feeWithdrawalDestination</cite>: The public key of the account to which the funds can be withdrawn from the fee account.</p></li>
<li><p><cite>treasuryWithdrawalDestination</cite>: The public key of the account to which the funds can be withdrawn from the treasury account.</p></li>
</ol>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>The following code snippet builds four different keypairs, corresponding to the four accounts discussed above and sets them.</p>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a>tsx
import { Keypair } from “&#64;solana/web3.js”;</p>
<p>const feeAccount = Keypair.generate();
const treasuryAccount = Keypair.generate();
const feeWithdrawalDestination = Keypair.generate();
const treasuryWithdrawalDestination = Keypair.generate();
const auctionHouseSettings = {</p>
<blockquote>
<div><p>auctionHouseFeeAccount: feeAccount,
auctionHouseTreasury: treasuryAccount,
feeWithdrawalDestination: feeWithdrawalDestination,
treasuryWithdrawalDestination: treasuryWithdrawalDestination,</p>
</div></blockquote>
</section>
<section id="id15">
<h2>};<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Require Sign Off
This setting allows marketplaces to gate asset listing and sales. As discussed in the authority section, the Auction House authority plays a role in the gating of assets. This censorship or centralised control can only take place when <cite>requireSignOff = true</cite>.</p>
<p>When this happens, every transaction on the marketplace: listing, bidding and execution of sales needs to be signed by the Auction House authority. Fully decentralised marketplaces can choose to keep the <cite>requireSignOff</cite> setting as <cite>false</cite> to avoid censorship or centralised control of actions on that marketplace.</p>
<p>Setting <cite>requireSignOff = true</cite> has other powers as well: it allows marketplaces to implement their own custom order matching algorithms. We will talk more about this in the next section.</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>The following code snippet sets <cite>requireSignOff</cite> to <cite>true</cite>.</p>
<p><a href="#id16"><span class="problematic" id="id17">``</span></a><a href="#id18"><span class="problematic" id="id19">`</span></a>tsx
const auctionHouseSettings = {</p>
<blockquote>
<div><p>requireSignOff: true</p>
</div></blockquote>
</section>
<section id="id20">
<h2>};<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Can Change Sale Price</p>
<p><cite>canChangeSalePrice</cite> allows marketplaces to change the sale price of an asset, when a user intentionally lists an asset for free, or for 0 SOL (or any other SPL-token). By listing the asset for 0 SOL, the user allows marketplaces to apply custom matching algorithms in order to find the best price match for the “freely” listed asset.</p>
<p>An important point to note here is that <cite>canChangeSalePrice</cite> can be set to <cite>true</cite> only if <cite>requireSignOff</cite> is also set to <cite>true</cite>. This is because custom matching is not possible in the case of permissionless listing and bidding. The Auction House should be able to “sign off” on a matching bid and execute the sale of the asset.</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>The following code snippet sets <cite>canChangeSalePrice</cite> to <cite>true</cite>, while also ensuring that <cite>requireSignOff</cite> is also <cite>true</cite></p>
<p><a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a>tsx
const auctionHouseSettings = {</p>
<blockquote>
<div><p>requireSignOff: true,
canChangeSalePrice: true</p>
</div></blockquote>
</section>
<section id="id25">
<h2>};<a class="headerlink" href="#id25" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Auctioneer Settings</p>
<p>The <cite>Auctioneer</cite> account is a PDA which uses the composability pattern of the Auction House program to control an Auction House Instance.</p>
<p>The Auctioneer has the ability to be given the control, or Delegation over an Auction House instance using the <cite>DelegateAuctioneer</cite> instruction which we will discuss in the Auctioneer guide (<em>comming soon</em>).</p>
<p>There are three setting pertaining to the Auctioneer which can be configured in the Auction House:</p>
<ol class="arabic simple">
<li><p><cite>hasAuctioneer</cite>: True if an <cite>Auctioneer</cite> instance exists for the given Auction House instance.</p></li>
<li><p><cite>auctioneerAuthority</cite>: The Auctioneer authority key. It is required when the Auction House is going to have Auctioneer enabled.</p></li>
<li><p><cite>auctioneerScopes</cite>: The list of scopes available to the user in the Auctioneer, for example: Bid, List, Execute Sale. It only takes place when the Auction House has Auctioneer enabled.</p></li>
</ol>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>The following code snippet sets <cite>hasAuctioneer</cite> to <cite>true</cite>. It also points the <cite>auctioneerAuthority</cite> to a generated public key and sets <cite>auctioneerScopes</cite> to allow the Auctioneer to buy, sell and excecute the sale on behalf of the Auction House.</p>
<p><a href="#id26"><span class="problematic" id="id27">``</span></a><a href="#id28"><span class="problematic" id="id29">`</span></a>tsx
import { Keypair } from “&#64;solana/web3.js”;
import { AuthorityScope } from <a class="reference external" href="mailto:'&#37;&#52;&#48;metaplex-foundation/mpl-auction-house">‘<span>&#64;</span>metaplex-foundation/mpl-auction-house</a>’;</p>
<p>const newAuthority = Keypair.generate();
const auctionHouseSettings = {</p>
<blockquote>
<div><p>hasAuctioneer: true,
auctioneerAuthority: newAuthority,
auctioneerScopes: [</p>
<blockquote>
<div><p>AuthorityScope.Buy,
AuthorityScope.Sell,
AuthorityScope.ExecuteSale,</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
</section>
<section id="id30">
<h2>};<a class="headerlink" href="#id30" title="Permalink to this heading">¶</a></h2>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Conclusion
Now that we know about Auction House settings, on the [next page](/programs/auction-house/managing-auction-house), we’ll see how we can use them to create and update our own Auction House.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/01-programs/03-auction-house/02-auction-house-settings.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>