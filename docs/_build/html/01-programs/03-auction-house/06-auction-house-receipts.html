<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/01-programs/03-auction-house/06-auction-house-receipts.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-01-programs-03-auction-house-06-auction-house-receipts-md">
<h1>docs/01-programs/03-auction-house/06-auction-house-receipts.md<a class="headerlink" href="#docs-01-programs-03-auction-house-06-auction-house-receipts-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-08 19:56:25</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>description: “Explains how to generate Auction House receipts.”
—</p>
<p>import { Accordion, AccordionItem } from ‘/src/accordion.jsx’;</p>
<p># Auction House Receipts</p>
<p>## Introduction</p>
<p>To aid transaction / activity tracking on marketplaces, the Auction House program supports the generation of receipts for listings, bids and sales.</p>
<p>In addition to printing receipts, Auction House cancels receipts when the corresponding instruction (bid, listing or sale) is cancelled.</p>
<p>Let us see how receipts are printed.</p>
<p>## Printing Receipts</p>
<p>To generate these receipts, the receipt printing function should be called immediately after the corresponding transaction (<cite>PrintListingReceipt</cite>, <cite>PrintBidReceipt</cite>, and <cite>PrintPurchaseReceipt</cite>).</p>
<p>Additionally, the <cite>CancelListingReceipt `and `CancelBidReceipt</cite> instructions should be called in the case of canceled listings and bids. Calling these two instructions will fill the <cite>canceled_at</cite> fields of the <cite>ListingReceipt</cite> and <cite>BidReceipt</cite> accounts.</p>
<p>&gt; While the receipts can be retrieved using the standard getProgramAccounts data flow, the official recommendation is to use Solana’s AccountsDB plug-in to index and track the generated receipts.</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>There are two fields that can be introduced to each function above to print the corresponding receipt:</p>
<ol class="arabic simple">
<li><p><cite>printReceipt</cite>: This is a boolean field that defaults to <cite>true</cite>. When this field is set to <cite>true</cite>, a receipt is printed for the corresponding function.</p></li>
<li><p><cite>bookkeeper</cite>: The address of the bookkeeper wallet responsible for the receipt. In other words, the bookeeper is the wallet that paid for the receipt. It’s only responsibility at this time is tracking the payer of the receipt so that in the future if the account is allowed to be closed the program knows who should be refunded for the rent. This field defaults to <cite>metaplex.identity()</cite>.</p></li>
</ol>
<p>Here’s an example of printing receipts for bid, list and execute sale instructions.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>tsx
// printing the ListReceipt
await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.createListing({</p>
<blockquote>
<div><p>printReceipt: true,
bookkeeper: metaplex.identity()</p>
</div></blockquote>
<p>})</p>
</div></blockquote>
<p>// printing the BidReceipt
await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.createBid({</p>
<blockquote>
<div><p>printReceipt: true,
bookkeeper: metaplex.identity()</p>
</div></blockquote>
<p>})</p>
</div></blockquote>
<p>// printing the PurchaseReceipt
await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.executeSale({</p>
<blockquote>
<div><p>printReceipt: true,
bookkeeper: metaplex.identity()</p>
</div></blockquote>
<p>})</p>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Conclusion</p>
<p>Now that we know how to print receipts for easy transaction tracking, how do we actually fetch details regarding these actions in practice? Let us explore ways to find bids, listings and sales for an Auction House in the [next page](/programs/auction-house/finding-bids-listings-and-sales).</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/01-programs/03-auction-house/06-auction-house-receipts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>