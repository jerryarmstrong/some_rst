<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/01-programs/03-auction-house/07-finding-bids-listings-and-sales.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-01-programs-03-auction-house-07-finding-bids-listings-and-sales-md">
<h1>docs/01-programs/03-auction-house/07-finding-bids-listings-and-sales.md<a class="headerlink" href="#docs-01-programs-03-auction-house-07-finding-bids-listings-and-sales-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-08 19:56:25</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>description: “Explains how to find bids, listings and sales.”
—</p>
<p>import { Accordion, AccordionItem } from ‘/src/accordion.jsx’;</p>
<p># Finding bids, listings and sales</p>
<p>## Introduction</p>
<p>In the previous page we saw how to make receipts for bids, listings and sales. These receipts make it easier for the marketplace operators to keep track of these actions. But how does one fetch these bids, listings and sales?</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>There are three types of functions provided for fetching bids, listings and sales:</p>
<ol class="arabic simple">
<li><p><strong>Find all in an auction house</strong>: using this type of function, all bids / listings / sales can be found for a given Auction House.</p></li>
<li><p><strong>Find by receipt</strong>: using this type of function, a single bid / listing / sale can be found, given the address of the corresponding receipt account.</p></li>
<li><p><strong>Find by trade state</strong>: We talked about [Trade States in the overview page](/programs/auction-house/overview). Trade state PDA accounts encoding the bid / listing / sale orders can also be used to find the corresponding action.</p></li>
</ol>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>### Find All in an Auction House</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>There are multiple criteria to find all bids, listings and sales (or <em>purchases</em>) in an Auction House.</p>
<p>Below is the snippet for finding bids by multiple criteria. You can use any combination of keys.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>tsx
// Find all bids in an Auction House.
const bids = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findBids({ auctionHouse });</p>
</div></blockquote>
<p>// Find bids by buyer and mint.
const bids = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findBids({ auctionHouse, buyer, mint });</p>
</div></blockquote>
<p>// Find bids by metadata.
const bids = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findBids({ auctionHouse, metadata });</p>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>Here’s a snippet for finding listings by multiple criteria. Again, you can use any combination of keys.</p>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>tsx
// Find all listings in an Auction House.
const listings = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findListings({ auctionHouse });</p>
</div></blockquote>
<p>// Find listings by seller and mint.
const listings = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findListings({ auctionHouse, seller, mint });</p>
</div></blockquote>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">`</span></a></p>
<p>Below is a snippet for finding purchases by multiple criteria. It supports only 3 criteria at the same time including the required <cite>auctionHouse</cite> attribute.</p>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>ts
// Find all purchases in an Auction House.
const purchases = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchases({ auctionHouse });</p>
</div></blockquote>
<p>// Find purchases by buyer and mint.
const purchases = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchases({ auctionHouse, buyer, mint });</p>
</div></blockquote>
<p>// Find purchases by metadata.
const purchases = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchases({ auctionHouse, metadata });</p>
</div></blockquote>
<p>// Find purchases by seller and buyer.
const purchases = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchases({ auctionHouse, seller, buyer });</p>
</div></blockquote>
<p><a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a></p>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>### Find by Receipt</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>Below is the snippet for finding bids, listings and sales by corresponding receipt acccount address.</p>
<p><a href="#id25"><span class="problematic" id="id26">``</span></a><a href="#id27"><span class="problematic" id="id28">`</span></a>tsx
// Find a bid by receipt
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findBidByReceipt({ receiptAddress, auctionHouse };</p>
</div></blockquote>
<p>// Find a listing by receipt
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findListingByReceipt({ receiptAddress, auctionHouse };</p>
</div></blockquote>
<p>// Find a sale / purchase by receipt
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchaseByReceipt({ receiptAddress, auctionHouse };</p>
</div></blockquote>
<p><a href="#id29"><span class="problematic" id="id30">``</span></a><a href="#id31"><span class="problematic" id="id32">`</span></a></p>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>### Find by Trade State</p>
<p>&lt;Accordion&gt;
&lt;AccordionItem title=”JS SDK” open={true}&gt;
&lt;div className=”accordion-item-padding”&gt;</p>
<p>Below is the snippet for finding bids, listings and sales by corresponding trade state PDA accounts.</p>
<p><a href="#id33"><span class="problematic" id="id34">``</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a>tsx
// Find a bid by trade state
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findBidByTradeState({ tradeStateAddress, auctionHouse };</p>
</div></blockquote>
<p>// Find a listing by trade state
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findListingByTradeState({ tradeStateAddress, auctionHouse };</p>
</div></blockquote>
<p>// Find a sale / purchase by trade state
const nft = await metaplex</p>
<blockquote>
<div><p>.auctionHouse()
.findPurchaseByTradeState({ sellerTradeState, buyerTradeState, auctionHouse };</p>
</div></blockquote>
<p><a href="#id37"><span class="problematic" id="id38">``</span></a><a href="#id39"><span class="problematic" id="id40">`</span></a></p>
<p>&lt;/div&gt;
&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</p>
<p>## Conclusion</p>
<p>We have finally covered all corners for managing trading on a marketplace. Everything covered till now was explained using code snippets using the JS SDK.</p>
<p>Next up we’ll see how one can create and manage Auction Houses and the trading on them [using CLI](/programs/auction-house/how-to-guides/manage-auction-house-using-cli).</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/01-programs/03-auction-house/07-finding-bids-listings-and-sales.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>