<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/governance.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=039e1c02" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-governance-md">
<h1>docs/governance.md<a class="headerlink" href="#docs-governance-md" title="Permalink to this heading">Â¶</a></h1>
<p>Last edited: 2022-12-05 19:44:34</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gh"># Governance</span>
</pre></div>
</div>
<p>To initialize the DAO, first build and deploy the governance program:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">cd</span> <span class="pre">solana-program-library/governance/program</span>
<span class="pre">cargo</span> <span class="pre">build-bpf</span>
<span class="pre">solana</span> <span class="pre">program</span> <span class="pre">deploy</span> <span class="pre">--commitment</span> <span class="pre">finalized</span> <span class="pre">target/deploy/spl_governance.so</span>
<span class="pre">`</span></code></p>
<p>Then initialize the DAO using the Main Router admin account with:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">solana-farm-ctrl</span> <span class="pre">--keypair</span> <span class="pre">main_admin.json</span> <span class="pre">governance</span> <span class="pre">init</span> <span class="pre">[DAO_PROGRAM_ADDRESS]</span> <span class="pre">[DAO_TOKENS_TO_MINT]</span>
<span class="pre">`</span></code></p>
<p>It will take over on-chain programs upgrade authorities (including the DAO program itself) and DAO mint. Realm authority will also be removed. DAO tokens will be deposited to the admin account for further distribution.</p>
<p>Farm client can be used to perform all DAO operations: create proposals, deposit tokens, sign-off, add or execute instructions, vote, etc. See help for details:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">solana-farm-client</span> <span class="pre">governance</span> <span class="pre">help</span>
<span class="pre">`</span></code></p>
<p>As part of DAO initialization, SOL token custody will be created (and more tokens can be added permissionless). Custody can be used to govern all interactions with Pools, Farms, or Vaults. It is useful if a third party manages funds, and every operation must be voted on first. [Rust Client](<a class="reference external" href="https://github.com/solana-labs/farms/blob/master/docs/rust_client.md">https://github.com/solana-labs/farms/blob/master/docs/rust_client.md</a>) or [Farm Client CLI](<a class="reference external" href="https://github.com/solana-labs/farms/blob/master/docs/farm_client_cli.md">https://github.com/solana-labs/farms/blob/master/docs/farm_client_cli.md</a>) simplify instruction creation and verification process, here is a workflow example for already initialized DAO:</p>
<p><code class="docutils literal notranslate"><span class="pre">`sh</span>
<span class="pre">solana-farm-client</span> <span class="pre">governance</span> <span class="pre">proposal-new</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">SwapTokens</span> <span class="pre">http://description.com</span> <span class="pre">0</span>
<span class="pre">solana-farm-client</span> <span class="pre">governance</span> <span class="pre">signatory-add</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span> <span class="pre">J7paVZ8axBfUaGFDNknc7XF3GHjVLZzvL57FaCuxjJo7</span>
<span class="pre">solana-farm-client</span> <span class="pre">governance</span> <span class="pre">instruction-insert-swap</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">RDM</span> <span class="pre">RAY</span> <span class="pre">SRM</span> <span class="pre">1.0</span> <span class="pre">0.0</span>
<span class="pre">solana-farm-client</span> <span class="pre">-k</span> <span class="pre">signer.json</span> <span class="pre">governance</span> <span class="pre">sign-off</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span>
<span class="pre">solana-farm-client</span> <span class="pre">-k</span> <span class="pre">voter.json</span> <span class="pre">governance</span> <span class="pre">instruction-verify-swap</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">RDM</span> <span class="pre">RAY</span> <span class="pre">SRM</span> <span class="pre">1.0</span> <span class="pre">0.0</span>
<span class="pre">solana-farm-client</span> <span class="pre">-k</span> <span class="pre">voter.json</span> <span class="pre">governance</span> <span class="pre">vote-cast</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span> <span class="pre">1</span>
<span class="pre">solana-farm-client</span> <span class="pre">governance</span> <span class="pre">vote-finalize</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span>
<span class="pre">solana-farm-client</span> <span class="pre">-k</span> <span class="pre">anyone.json</span> <span class="pre">governance</span> <span class="pre">instruction-execute</span> <span class="pre">FarmCustodyGovernance</span> <span class="pre">0</span> <span class="pre">0</span>
<span class="pre">`</span></code></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/governance.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>