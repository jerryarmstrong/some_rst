<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/static/katex/contrib/copy-tex.js &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-static-katex-contrib-copy-tex-js">
<h1>docs/static/katex/contrib/copy-tex.js<a class="headerlink" href="#docs-static-katex-contrib-copy-tex-js" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="nx">webpackUniversalModuleDefinition</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span><span class="w"> </span><span class="nx">factory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">exports</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">module</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">factory</span><span class="p">();</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">define</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">)</span>
<span class="w">            </span><span class="nx">define</span><span class="p">([],</span><span class="w"> </span><span class="nx">factory</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">factory</span><span class="p">();</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">exports</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">exports</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">root</span><span class="p">)[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>})((typeof self !== ‘undefined’ ? self : this), function() {
return /<strong>**</strong>/ (function(modules) { // webpackBootstrap
/<strong>**</strong>/        // The module cache
/<strong>**</strong>/        var installedModules = {};
/<strong>**</strong>/
/<strong>**</strong>/        // The require function
/<strong>**</strong>/        function __webpack_require__(moduleId) {
/<strong>**</strong>/
/<strong>**</strong>/                // Check if module is in cache
/<strong>**</strong>/                if(installedModules[moduleId]) {
/<strong>**</strong>/                        return installedModules[moduleId].exports;
/<strong>**</strong>/                }
/<strong>**</strong>/                // Create a new module (and put it into the cache)
/<strong>**</strong>/                var module = installedModules[moduleId] = {
/<strong>**</strong>/                        i: moduleId,
/<strong>**</strong>/                        l: false,
/<strong>**</strong>/                        exports: {}
/<strong>**</strong>/                };
/<strong>**</strong>/
/<strong>**</strong>/                // Execute the module function
/<strong>**</strong>/                modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/<strong>**</strong>/
/<strong>**</strong>/                // Flag the module as loaded
/<strong>**</strong>/                module.l = true;
/<strong>**</strong>/
/<strong>**</strong>/                // Return the exports of the module
/<strong>**</strong>/                return module.exports;
/<strong>**</strong>/        }
/<strong>**</strong>/
/<strong>**</strong>/
/<strong>**</strong>/        // expose the modules object (__webpack_modules__)
/<strong>**</strong>/        __webpack_require__.m = modules;
/<strong>**</strong>/
/<strong>**</strong>/        // expose the module cache
/<strong>**</strong>/        __webpack_require__.c = installedModules;
/<strong>**</strong>/
/<strong>**</strong>/        // define getter function for harmony exports
/<strong>**</strong>/        __webpack_require__.d = function(exports, name, getter) {
/<strong>**</strong>/                if(!__webpack_require__.o(exports, name)) {
/<strong>**</strong>/                        Object.defineProperty(exports, name, { enumerable: true, get: getter });
/<strong>**</strong>/                }
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // define __esModule on exports
/<strong>**</strong>/        __webpack_require__.r = function(exports) {
/<strong>**</strong>/                if(typeof Symbol !== ‘undefined’ &amp;&amp; Symbol.toStringTag) {
/<strong>**</strong>/                        Object.defineProperty(exports, Symbol.toStringTag, { value: ‘Module’ });
/<strong>**</strong>/                }
/<strong>**</strong>/                Object.defineProperty(exports, ‘__esModule’, { value: true });
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // create a fake namespace object
/<strong>**</strong>/        // mode &amp; 1: value is a module id, require it
/<strong>**</strong>/        // mode &amp; 2: merge all properties of value into the ns
/<strong>**</strong>/        // mode &amp; 4: return value when already ns object
/<strong>**</strong>/        // mode &amp; 8|1: behave like require
/<strong>**</strong>/        __webpack_require__.t = function(value, mode) {
/<strong>**</strong>/                if(mode &amp; 1) value = __webpack_require__(value);
/<strong>**</strong>/                if(mode &amp; 8) return value;
/<strong>**</strong>/                if((mode &amp; 4) &amp;&amp; typeof value === ‘object’ &amp;&amp; value &amp;&amp; value.__esModule) return value;
/<strong>**</strong>/                var ns = Object.create(null);
/<strong>**</strong>/                __webpack_require__.r(ns);
/<strong>**</strong>/                Object.defineProperty(ns, ‘default’, { enumerable: true, value: value });
/<strong>**</strong>/                if(mode &amp; 2 &amp;&amp; typeof value != ‘string’) for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/<strong>**</strong>/                return ns;
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // getDefaultExport function for compatibility with non-harmony modules
/<strong>**</strong>/        __webpack_require__.n = function(module) {
/<strong>**</strong>/                var getter = module &amp;&amp; module.__esModule ?
/<strong>**</strong>/                        function getDefault() { return module[‘default’]; } :
/<strong>**</strong>/                        function getModuleExports() { return module; };
/<strong>**</strong>/                __webpack_require__.d(getter, ‘a’, getter);
/<strong>**</strong>/                return getter;
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // Object.prototype.hasOwnProperty.call
/<strong>**</strong>/        __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/<strong>**</strong>/
/<strong>**</strong>/        // __webpack_public_path__
/<strong>**</strong>/        __webpack_require__.p = “”;
/<strong>**</strong>/
/<strong>**</strong>/
/<strong>**</strong>/        // Load entry module and return exports
/<strong>**</strong>/        return __webpack_require__(__webpack_require__.s = 1);
/<strong>**</strong>/ })
/<strong>********************************************************************</strong>/
/<strong>**</strong>/ ([
/* 0 <em>/
/**</em>/ (function(module, exports, __webpack_require__) {</p>
<p>// extracted by mini-css-extract-plugin</p>
<p>/<strong>*/ }),
/* 1 */
/*</strong>/ (function(module, __webpack_exports__, __webpack_require__) {</p>
<p>“use strict”;
__webpack_require__.r(__webpack_exports__);</p>
<p>// EXTERNAL MODULE: ./contrib/copy-tex/copy-tex.css
var copy_tex = __webpack_require__(0);</p>
<p>// CONCATENATED MODULE: ./contrib/copy-tex/katex2tex.js
// Set these to how you want inline and display math to be delimited.
var defaultCopyDelimiters = {</p>
<blockquote>
<div><p>inline: [‘$’, ‘$’],
// alternative: [’(’, ‘)’]
display: [‘$$’, ‘$$’] // alternative: [’[’, ‘]’]</p>
</div></blockquote>
<p>}; // Replace .katex elements with their TeX source (&lt;annotation&gt; element).
// Modifies fragment in-place.  Useful for writing your own ‘copy’ handler,
// as in copy-tex.js.</p>
<dl>
<dt>var katexReplaceWithTex = function katexReplaceWithTex(fragment, copyDelimiters) {</dt><dd><dl class="simple">
<dt>if (copyDelimiters === void 0) {</dt><dd><p>copyDelimiters = defaultCopyDelimiters;</p>
</dd>
</dl>
<p>}</p>
<p>// Remove .katex-html blocks that are preceded by .katex-mathml blocks
// (which will get replaced below).
var katexHtml = fragment.querySelectorAll(‘.katex-mathml + .katex-html’);</p>
<dl>
<dt>for (var i = 0; i &lt; katexHtml.length; i++) {</dt><dd><p>var element = katexHtml[i];</p>
<dl class="simple">
<dt>if (element.remove) {</dt><dd><p>element.remove(null);</p>
</dd>
<dt>} else {</dt><dd><p>element.parentNode.removeChild(element);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>} // Replace .katex-mathml elements with their annotation (TeX source)
// descendant, with inline delimiters.</p>
<p>var katexMathml = fragment.querySelectorAll(‘.katex-mathml’);</p>
<dl>
<dt>for (var _i = 0; _i &lt; katexMathml.length; _i++) {</dt><dd><p>var _element = katexMathml[_i];</p>
<p>var texSource = _element.querySelector(‘annotation’);</p>
<dl>
<dt>if (texSource) {</dt><dd><dl class="simple">
<dt>if (_element.replaceWith) {</dt><dd><p>_element.replaceWith(texSource);</p>
</dd>
<dt>} else {</dt><dd><p>_element.parentNode.replaceChild(texSource, _element);</p>
</dd>
</dl>
<p>}</p>
<p>texSource.innerHTML = copyDelimiters.inline[0] + texSource.innerHTML + copyDelimiters.inline[1];</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>} // Switch display math to display delimiters.</p>
<p>var displays = fragment.querySelectorAll(‘.katex-display annotation’);</p>
<dl class="simple">
<dt>for (var _i2 = 0; _i2 &lt; displays.length; _i2++) {</dt><dd><p>var _element2 = displays[_i2];
_element2.innerHTML = copyDelimiters.display[0] + _element2.innerHTML.substr(copyDelimiters.inline[0].length, _element2.innerHTML.length - copyDelimiters.inline[0].length - copyDelimiters.inline[1].length) + copyDelimiters.display[1];</p>
</dd>
</dl>
<p>}</p>
<p>return fragment;</p>
</dd>
</dl>
<p>};
/* harmony default export <a href="#id1"><span class="problematic" id="id2">*</span></a>/ var katex2tex = (katexReplaceWithTex);
// CONCATENATED MODULE: ./contrib/copy-tex/copy-tex.js</p>
<blockquote>
<div><p>// Global copy handler to modify behavior on .katex elements.</p>
</div></blockquote>
<dl>
<dt>document.addEventListener(‘copy’, function (event) {</dt><dd><p>var selection = window.getSelection();</p>
<dl class="simple">
<dt>if (selection.isCollapsed) {</dt><dd><p>return; // default action OK if selection is empty</p>
</dd>
</dl>
<p>}</p>
<p>var fragment = selection.getRangeAt(0).cloneContents();</p>
<dl class="simple">
<dt>if (!fragment.querySelector(‘.katex-mathml’)) {</dt><dd><p>return; // default action OK if no .katex-mathml elements</p>
</dd>
</dl>
<p>} // Preserve usual HTML copy/paste behavior.</p>
<p>var html = [];</p>
<dl class="simple">
<dt>for (var i = 0; i &lt; fragment.childNodes.length; i++) {</dt><dd><p>html.push(fragment.childNodes[i].outerHTML);</p>
</dd>
</dl>
<p>}</p>
<p>event.clipboardData.setData(‘text/html’, html.join(‘’)); // Rewrite plain-text version.</p>
<p>event.clipboardData.setData(‘text/plain’, katex2tex(fragment).textContent); // Prevent normal copy handling.</p>
<p>event.preventDefault();</p>
</dd>
</dl>
<p>});
// CONCATENATED MODULE: ./contrib/copy-tex/copy-tex.webpack.js
/**</p>
<blockquote>
<div><ul class="simple">
<li><p>This is the webpack entry point for KaTeX. As ECMAScript doesn’t support</p></li>
<li><p>CSS modules natively, a separate entry point is used.</p></li>
</ul>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>/</p>
</div></blockquote>
<p>/<strong>*/ })
/****</strong>/ ])[“default”];
});</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/static/katex/contrib/copy-tex.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>