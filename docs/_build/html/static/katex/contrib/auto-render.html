<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/static/katex/contrib/auto-render.js &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-static-katex-contrib-auto-render-js">
<h1>docs/static/katex/contrib/auto-render.js<a class="headerlink" href="#docs-static-katex-contrib-auto-render-js" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="nx">webpackUniversalModuleDefinition</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span><span class="w"> </span><span class="nx">factory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">exports</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">module</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">factory</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;katex&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">define</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">)</span>
<span class="w">            </span><span class="nx">define</span><span class="p">([</span><span class="s2">&quot;katex&quot;</span><span class="p">],</span><span class="w"> </span><span class="nx">factory</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">exports</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="nx">exports</span><span class="p">[</span><span class="s2">&quot;renderMathInElement&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">factory</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;katex&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">            </span><span class="nx">root</span><span class="p">[</span><span class="s2">&quot;renderMathInElement&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">factory</span><span class="p">(</span><span class="nx">root</span><span class="p">[</span><span class="s2">&quot;katex&quot;</span><span class="p">]);</span>
</pre></div>
</div>
<p>})((typeof self !== ‘undefined’ ? self : this), function(__WEBPACK_EXTERNAL_MODULE__0__) {
return /<strong>**</strong>/ (function(modules) { // webpackBootstrap
/<strong>**</strong>/        // The module cache
/<strong>**</strong>/        var installedModules = {};
/<strong>**</strong>/
/<strong>**</strong>/        // The require function
/<strong>**</strong>/        function __webpack_require__(moduleId) {
/<strong>**</strong>/
/<strong>**</strong>/                // Check if module is in cache
/<strong>**</strong>/                if(installedModules[moduleId]) {
/<strong>**</strong>/                        return installedModules[moduleId].exports;
/<strong>**</strong>/                }
/<strong>**</strong>/                // Create a new module (and put it into the cache)
/<strong>**</strong>/                var module = installedModules[moduleId] = {
/<strong>**</strong>/                        i: moduleId,
/<strong>**</strong>/                        l: false,
/<strong>**</strong>/                        exports: {}
/<strong>**</strong>/                };
/<strong>**</strong>/
/<strong>**</strong>/                // Execute the module function
/<strong>**</strong>/                modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/<strong>**</strong>/
/<strong>**</strong>/                // Flag the module as loaded
/<strong>**</strong>/                module.l = true;
/<strong>**</strong>/
/<strong>**</strong>/                // Return the exports of the module
/<strong>**</strong>/                return module.exports;
/<strong>**</strong>/        }
/<strong>**</strong>/
/<strong>**</strong>/
/<strong>**</strong>/        // expose the modules object (__webpack_modules__)
/<strong>**</strong>/        __webpack_require__.m = modules;
/<strong>**</strong>/
/<strong>**</strong>/        // expose the module cache
/<strong>**</strong>/        __webpack_require__.c = installedModules;
/<strong>**</strong>/
/<strong>**</strong>/        // define getter function for harmony exports
/<strong>**</strong>/        __webpack_require__.d = function(exports, name, getter) {
/<strong>**</strong>/                if(!__webpack_require__.o(exports, name)) {
/<strong>**</strong>/                        Object.defineProperty(exports, name, { enumerable: true, get: getter });
/<strong>**</strong>/                }
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // define __esModule on exports
/<strong>**</strong>/        __webpack_require__.r = function(exports) {
/<strong>**</strong>/                if(typeof Symbol !== ‘undefined’ &amp;&amp; Symbol.toStringTag) {
/<strong>**</strong>/                        Object.defineProperty(exports, Symbol.toStringTag, { value: ‘Module’ });
/<strong>**</strong>/                }
/<strong>**</strong>/                Object.defineProperty(exports, ‘__esModule’, { value: true });
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // create a fake namespace object
/<strong>**</strong>/        // mode &amp; 1: value is a module id, require it
/<strong>**</strong>/        // mode &amp; 2: merge all properties of value into the ns
/<strong>**</strong>/        // mode &amp; 4: return value when already ns object
/<strong>**</strong>/        // mode &amp; 8|1: behave like require
/<strong>**</strong>/        __webpack_require__.t = function(value, mode) {
/<strong>**</strong>/                if(mode &amp; 1) value = __webpack_require__(value);
/<strong>**</strong>/                if(mode &amp; 8) return value;
/<strong>**</strong>/                if((mode &amp; 4) &amp;&amp; typeof value === ‘object’ &amp;&amp; value &amp;&amp; value.__esModule) return value;
/<strong>**</strong>/                var ns = Object.create(null);
/<strong>**</strong>/                __webpack_require__.r(ns);
/<strong>**</strong>/                Object.defineProperty(ns, ‘default’, { enumerable: true, value: value });
/<strong>**</strong>/                if(mode &amp; 2 &amp;&amp; typeof value != ‘string’) for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/<strong>**</strong>/                return ns;
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // getDefaultExport function for compatibility with non-harmony modules
/<strong>**</strong>/        __webpack_require__.n = function(module) {
/<strong>**</strong>/                var getter = module &amp;&amp; module.__esModule ?
/<strong>**</strong>/                        function getDefault() { return module[‘default’]; } :
/<strong>**</strong>/                        function getModuleExports() { return module; };
/<strong>**</strong>/                __webpack_require__.d(getter, ‘a’, getter);
/<strong>**</strong>/                return getter;
/<strong>**</strong>/        };
/<strong>**</strong>/
/<strong>**</strong>/        // Object.prototype.hasOwnProperty.call
/<strong>**</strong>/        __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/<strong>**</strong>/
/<strong>**</strong>/        // __webpack_public_path__
/<strong>**</strong>/        __webpack_require__.p = “”;
/<strong>**</strong>/
/<strong>**</strong>/
/<strong>**</strong>/        // Load entry module and return exports
/<strong>**</strong>/        return __webpack_require__(__webpack_require__.s = 1);
/<strong>**</strong>/ })
/<strong>********************************************************************</strong>/
/<strong>**</strong>/ ([
/* 0 <em>/
/**</em>/ (function(module, exports) {</p>
<p>module.exports = __WEBPACK_EXTERNAL_MODULE__0__;</p>
<p>/<strong>*/ }),
/* 1 */
/*</strong>/ (function(module, __webpack_exports__, __webpack_require__) {</p>
<p>“use strict”;
__webpack_require__.r(__webpack_exports__);</p>
<p>// EXTERNAL MODULE: external “katex”
var <a href="#id9"><span class="problematic" id="id10">external_katex_</span></a> = __webpack_require__(0);
var external_katex_default = /<em>#__PURE__</em>/__webpack_require__.n(<a href="#id11"><span class="problematic" id="id12">external_katex_</span></a>);</p>
<p>// CONCATENATED MODULE: ./contrib/auto-render/splitAtDelimiters.js
/* eslint no-constant-condition:0 <a href="#id1"><span class="problematic" id="id2">*</span></a>/
var findEndOfMath = function findEndOfMath(delimiter, text, startIndex) {</p>
<blockquote>
<div><p>// Adapted from
// <a class="reference external" href="https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx">https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx</a>
var index = startIndex;
var braceLevel = 0;
var delimLength = delimiter.length;</p>
<dl>
<dt>while (index &lt; text.length) {</dt><dd><p>var character = text[index];</p>
<dl class="simple">
<dt>if (braceLevel &lt;= 0 &amp;&amp; text.slice(index, index + delimLength) === delimiter) {</dt><dd><p>return index;</p>
</dd>
<dt>} else if (character === “\”) {</dt><dd><p>index++;</p>
</dd>
<dt>} else if (character === “{”) {</dt><dd><p>braceLevel++;</p>
</dd>
<dt>} else if (character === “}”) {</dt><dd><p>braceLevel–;</p>
</dd>
</dl>
<p>}</p>
<p>index++;</p>
</dd>
</dl>
<p>}</p>
<p>return -1;</p>
</div></blockquote>
<p>};</p>
<dl>
<dt>var splitAtDelimiters = function splitAtDelimiters(startData, leftDelim, rightDelim, display) {</dt><dd><p>var finalData = [];</p>
<dl>
<dt>for (var i = 0; i &lt; startData.length; i++) {</dt><dd><dl>
<dt>if (startData[i].type === “text”) {</dt><dd><p>var text = startData[i].data;
var lookingForLeft = true;
var currIndex = 0;
var nextIndex = void 0;
nextIndex = text.indexOf(leftDelim);</p>
<dl>
<dt>if (nextIndex !== -1) {</dt><dd><p>currIndex = nextIndex;
finalData.push({</p>
<blockquote>
<div><p>type: “text”,
data: text.slice(0, currIndex)</p>
</div></blockquote>
<p>});
lookingForLeft = false;</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>while (true) {</dt><dd><dl>
<dt>if (lookingForLeft) {</dt><dd><p>nextIndex = text.indexOf(leftDelim, currIndex);</p>
<dl class="simple">
<dt>if (nextIndex === -1) {</dt><dd><p>break;</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>finalData.push({</dt><dd><p>type: “text”,
data: text.slice(currIndex, nextIndex)</p>
</dd>
</dl>
<p>});
currIndex = nextIndex;</p>
</dd>
<dt>} else {</dt><dd><p>nextIndex = findEndOfMath(rightDelim, text, currIndex + leftDelim.length);</p>
<dl class="simple">
<dt>if (nextIndex === -1) {</dt><dd><p>break;</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>finalData.push({</dt><dd><p>type: “math”,
data: text.slice(currIndex + leftDelim.length, nextIndex),
rawData: text.slice(currIndex, nextIndex + rightDelim.length),
display: display</p>
</dd>
</dl>
<p>});
currIndex = nextIndex + rightDelim.length;</p>
</dd>
</dl>
<p>}</p>
<p>lookingForLeft = !lookingForLeft;</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>finalData.push({</dt><dd><p>type: “text”,
data: text.slice(currIndex)</p>
</dd>
</dl>
<p>});</p>
</dd>
<dt>} else {</dt><dd><p>finalData.push(startData[i]);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>return finalData;</p>
</dd>
</dl>
<p>};</p>
<p>/* harmony default export <em>/ var auto_render_splitAtDelimiters = (splitAtDelimiters);
// CONCATENATED MODULE: ./contrib/auto-render/auto-render.js
/</em> eslint no-console:0 <a href="#id3"><span class="problematic" id="id4">*</span></a>/</p>
<dl>
<dt>var auto_render_splitWithDelimiters = function splitWithDelimiters(text, delimiters) {</dt><dd><dl class="simple">
<dt>var data = [{</dt><dd><p>type: “text”,
data: text</p>
</dd>
</dl>
<p>}];</p>
<dl class="simple">
<dt>for (var i = 0; i &lt; delimiters.length; i++) {</dt><dd><p>var delimiter = delimiters[i];
data = auto_render_splitAtDelimiters(data, delimiter.left, delimiter.right, delimiter.display || false);</p>
</dd>
</dl>
<p>}</p>
<p>return data;</p>
</dd>
</dl>
<p>};
/* Note: optionsCopy is mutated by this method. If it is ever exposed in the</p>
<blockquote>
<div><ul class="simple">
<li><p>API, we should copy it before mutating.</p></li>
</ul>
<p><a href="#id5"><span class="problematic" id="id6">*</span></a>/</p>
</div></blockquote>
<dl>
<dt>var auto_render_renderMathInText = function renderMathInText(text, optionsCopy) {</dt><dd><p>var data = auto_render_splitWithDelimiters(text, optionsCopy.delimiters);</p>
<dl class="simple">
<dt>if (data.length === 1 &amp;&amp; data[0].type === ‘text’) {</dt><dd><p>// There is no formula in the text.
// Let’s return null which means there is no need to replace
// the current text node with a new one.
return null;</p>
</dd>
</dl>
<p>}</p>
<p>var fragment = document.createDocumentFragment();</p>
<dl>
<dt>for (var i = 0; i &lt; data.length; i++) {</dt><dd><dl>
<dt>if (data[i].type === “text”) {</dt><dd><p>fragment.appendChild(document.createTextNode(data[i].data));</p>
</dd>
<dt>} else {</dt><dd><p>var span = document.createElement(“span”);
var math = data[i].data; // Override any display mode defined in the settings with that
// defined by the text itself</p>
<p>optionsCopy.displayMode = data[i].display;</p>
<dl>
<dt>try {</dt><dd><dl class="simple">
<dt>if (optionsCopy.preProcess) {</dt><dd><p>math = optionsCopy.preProcess(math);</p>
</dd>
</dl>
<p>}</p>
<p>external_katex_default.a.render(math, span, optionsCopy);</p>
</dd>
<dt>} catch (e) {</dt><dd><dl class="simple">
<dt>if (!(e instanceof external_katex_default.a.ParseError)) {</dt><dd><p>throw e;</p>
</dd>
</dl>
<p>}</p>
<p>optionsCopy.errorCallback(“KaTeX auto-render: Failed to parse <cite>“ + data[i].data + “</cite> with “, e);
fragment.appendChild(document.createTextNode(data[i].rawData));
continue;</p>
</dd>
</dl>
<p>}</p>
<p>fragment.appendChild(span);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>return fragment;</p>
</dd>
</dl>
<p>};</p>
<dl>
<dt>var renderElem = function renderElem(elem, optionsCopy) {</dt><dd><dl>
<dt>for (var i = 0; i &lt; elem.childNodes.length; i++) {</dt><dd><p>var childNode = elem.childNodes[i];</p>
<dl>
<dt>if (childNode.nodeType === 3) {</dt><dd><p>// Text node
var frag = auto_render_renderMathInText(childNode.textContent, optionsCopy);</p>
<dl class="simple">
<dt>if (frag) {</dt><dd><p>i += frag.childNodes.length - 1;
elem.replaceChild(frag, childNode);</p>
</dd>
</dl>
<p>}</p>
</dd>
<dt>} else if (childNode.nodeType === 1) {</dt><dd><dl>
<dt>(function () {</dt><dd><p>// Element node
var className = ‘ ‘ + childNode.className + ‘ ‘;
var shouldRender = optionsCopy.ignoredTags.indexOf(childNode.nodeName.toLowerCase()) === -1 &amp;&amp; optionsCopy.ignoredClasses.every(function (x) {</p>
<blockquote>
<div><p>return className.indexOf(’ ‘ + x + ‘ ‘) === -1;</p>
</div></blockquote>
<p>});</p>
<dl class="simple">
<dt>if (shouldRender) {</dt><dd><p>renderElem(childNode, optionsCopy);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>})();</p>
</dd>
</dl>
<p>} // Otherwise, it’s something else, and ignore it.</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>};</p>
<dl>
<dt>var renderMathInElement = function renderMathInElement(elem, options) {</dt><dd><dl class="simple">
<dt>if (!elem) {</dt><dd><p>throw new Error(“No element provided to render”);</p>
</dd>
</dl>
<p>}</p>
<p>var optionsCopy = {}; // Object.assign(optionsCopy, option)</p>
<dl>
<dt>for (var option in options) {</dt><dd><dl class="simple">
<dt>if (options.hasOwnProperty(option)) {</dt><dd><p>optionsCopy[option] = options[option];</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>} // default options</p>
<dl class="simple">
<dt>optionsCopy.delimiters = optionsCopy.delimiters || [{</dt><dd><p>left: “$$”,
right: “$$”,
display: true</p>
</dd>
<dt>}, {</dt><dd><p>left: “\(“,
right: “\)”,
display: false</p>
</dd>
</dl>
<p>}, // LaTeX uses $…$, but it ruins the display of normal <cite>$</cite> in text:
// {left: “$”, right: “$”, display: false},
//  […] must come last in this array. Otherwise, renderMathInElement
//  will search for [ before it searches for $$ or  (
// That makes it susceptible to finding a \[0.3em] row delimiter and
// treating it as if it were the start of a KaTeX math zone.
{</p>
<blockquote>
<div><p>left: “\[“,
right: “\]”,
display: true</p>
</div></blockquote>
<p>}];
optionsCopy.ignoredTags = optionsCopy.ignoredTags || [“script”, “noscript”, “style”, “textarea”, “pre”, “code”, “option”];
optionsCopy.ignoredClasses = optionsCopy.ignoredClasses || [];
optionsCopy.errorCallback = optionsCopy.errorCallback || console.error; // Enable sharing of global macros defined via <cite>gdef</cite> between different
// math elements within a single call to <cite>renderMathInElement</cite>.</p>
<p>optionsCopy.macros = optionsCopy.macros || {};
renderElem(elem, optionsCopy);</p>
</dd>
</dl>
<p>};</p>
<p>/* harmony default export <a href="#id7"><span class="problematic" id="id8">*</span></a>/ var auto_render = __webpack_exports__[“default”] = (renderMathInElement);</p>
<p>/<strong>*/ })
/****</strong>/ ])[“default”];
});</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/static/katex/contrib/auto-render.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>