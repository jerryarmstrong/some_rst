<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/pages/docs/publishing-source.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-pages-docs-publishing-source-md">
<h1>docs/src/pages/docs/publishing-source.md<a class="headerlink" href="#docs-src-pages-docs-publishing-source-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2022-12-14 20:15:57</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Publishing Source
description: Anchor - Publishing Source
—</p>
<p>The Anchor Program Registry at [apr.dev](<a class="reference external" href="https://apr.dev">https://apr.dev</a>)
hosts a catalog of verified programs on Solana both written with and without Anchor. It is recommended
that authors of smart contracts publish their source to promote best
practices for security and transparency.</p>
<p>—</p>
<p>{% callout title=”Note” %}
The Anchor Program Registry is currently in alpha testing. For access to publishing
please ask on [Discord](<a class="reference external" href="http://discord.gg/ZCHmqvXgDw">http://discord.gg/ZCHmqvXgDw</a>).
{% /callout %}</p>
<p>## Getting Started</p>
<p>The process for publishing is mostly identical to <cite>crates.io</cite>.</p>
<ul class="simple">
<li><p>Signup for an account [here](<a class="reference external" href="https://apr.dev">https://apr.dev</a>).</p></li>
<li><p>Navigate to your Profile on the top navbar.</p></li>
<li><p>Click “Generate New Access Token”.</p></li>
<li><p>Run <cite>anchor login &lt;token&gt;</cite> at the command line.</p></li>
</ul>
<p>And you’re ready to interact with the registry.</p>
<p>## Configuring a Build</p>
<p>Whether your program is written in Anchor or not, all source being published must
have an <cite>Anchor.toml</cite> to define the build.</p>
<p>An example <cite>Anchor.toml</cite> config looks as follows,</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>toml
anchor_version = “0.25.0”</p>
<p>[workspace]
members = [“programs/multisig”]</p>
<p>[provider]
cluster = “mainnet”
wallet = “~/.config/solana/id.json”</p>
<p>[programs.mainnet]
multisig = “A9HAbnCwoD6f2NkZobKFf6buJoN9gUVVvX5PoUnDHS6u”</p>
<p>[programs.localnet]
multisig = “A9HAbnCwoD6f2NkZobKFf6buJoN9gUVVvX5PoUnDHS6u”
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>Here there are four sections.</p>
<ol class="arabic simple">
<li><p><cite>anchor_version</cite> (optional) - sets the anchor docker image to use. By default, the builder will use the latest version of Anchor.</p></li>
<li><p><cite>[workspace]</cite> (optional) - sets the paths–relative to the <cite>Anchor.toml</cite>–
to all programs in the local
workspace, i.e., the path to the <cite>Cargo.toml</cite> manifest associated with each
program that can be compiled by the <cite>anchor</cite> CLI. For programs using the
standard Anchor workflow, this can be ommitted. For programs not written in Anchor
but still want to publish, this should be added.</p></li>
<li><p><cite>[provider]</cite> - configures the wallet and cluster settings. Here, <cite>mainnet</cite> is used because the registry only supports <cite>mainnet</cite> binary verification at the moment.</p></li>
<li><p><cite>[programs.mainnet]</cite> - configures each program in the workpace, providing
the <cite>address</cite> of the program to verify.</p></li>
</ol>
<p>{% callout title=”Note” %}
When defining program in <cite>[programs.mainnet]</cite>, make sure the name provided
matches the <strong>lib</strong> name for your program, which is defined
by your program’s Cargo.toml.
{% /callout %}</p>
<p>### Examples</p>
<p>#### Anchor Program</p>
<p>An example of a toml file for an Anchor program can be found [here](<a class="reference external" href="https://www.apr.dev/program/22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD/build/2">https://www.apr.dev/program/22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD/build/2</a>).</p>
<p>#### Non Anchor Program</p>
<p>An example of a toml file for a non-anchor program can be found [here](<a class="reference external" href="https://www.apr.dev/program/9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin/build/1">https://www.apr.dev/program/9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin/build/1</a>).</p>
<p>## Publishing</p>
<p>To publish to the Anchor Program Registry, change directories to the <cite>Anchor.toml</cite>
defined root and run</p>
<p><code class="docutils literal notranslate"><span class="pre">`shell</span>
<span class="pre">anchor</span> <span class="pre">publish</span> <span class="pre">&lt;program-name&gt;</span>
<span class="pre">`</span></code></p>
<p>where <cite>&lt;program-name&gt;</cite> is as defined in <cite>[programs.mainnet]</cite>, i.e., <cite>multisig</cite>
in the example above.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/pages/docs/publishing-source.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>