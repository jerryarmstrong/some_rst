<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/pages/docs/release-notes.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-pages-docs-release-notes-md">
<h1>docs/src/pages/docs/release-notes.md<a class="headerlink" href="#docs-src-pages-docs-release-notes-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2022-12-14 20:15:57</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Release Notes
description: Anchor - Release Notes
—</p>
<p>Version 0 of Semantic Versioning is handled differently from version 1 and above.
The minor version will be incremented upon a breaking change and the patch version will be incremented for features.</p>
<p>—</p>
<p>## [0.25.0] - 2022-07-05</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>realloc</cite>, <cite>realloc::payer</cite>, and <cite>realloc::zero</cite> as a new constraint group for program accounts ([#1986](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1986">https://github.com/coral-xyz/anchor/pull/1986</a>)).</p></li>
<li><p>lang: Add <cite>PartialEq</cite> and <cite>Eq</cite> for <cite>anchor_lang::Error</cite> ([#1544](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1544">https://github.com/coral-xyz/anchor/pull/1544</a>)).</p></li>
<li><p>cli: Add <cite>–skip-build</cite> to <cite>anchor publish</cite> ([#1786](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1841">https://github.com/coral-xyz/anchor/pull/1841</a>)).</p></li>
<li><p>cli: Add <cite>–program-keypair</cite> to <cite>anchor deploy</cite> ([#1786](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1786">https://github.com/coral-xyz/anchor/pull/1786</a>)).</p></li>
<li><p>cli: Add compilation optimizations to cli template ([#1807](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1807">https://github.com/coral-xyz/anchor/pull/1807</a>)).</p></li>
<li><p>cli: <cite>build</cite> now adds docs to idl. This can be turned off with <cite>–no-docs</cite> ([#1561](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1561">https://github.com/coral-xyz/anchor/pull/1561</a>)).</p></li>
<li><p>cli: Add <cite>b</cite> and <cite>t</cite> aliases for <cite>build</cite> and <cite>test</cite> respectively ([#1823](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1823">https://github.com/coral-xyz/anchor/pull/1823</a>)).</p></li>
<li><p>spl: Add more derived traits to <cite>TokenAccount</cite> to <cite>Mint</cite> ([#1818](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1818">https://github.com/coral-xyz/anchor/pull/1818</a>)).</p></li>
<li><p>spl: Add <cite>sync_native</cite> token program CPI wrapper function ([#1833](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1833">https://github.com/coral-xyz/anchor/pull/1833</a>)).</p></li>
<li><p>cli: Allow passing arguments to an underlying script with <cite>anchor run</cite> ([#1914](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1914">https://github.com/coral-xyz/anchor/pull/1914</a>)).</p></li>
<li><p>ts: Implement a coder for system program ([#1920](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1920">https://github.com/coral-xyz/anchor/pull/1920</a>)).</p></li>
<li><p>ts: Add <cite>program.coder.types</cite> for encoding/decoding user-defined types ([#1931](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1931">https://github.com/coral-xyz/anchor/pull/1931</a>)).</p></li>
<li><p>client: Add send_with_spinner_and_config function to RequestBuilder ([#1926](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1926">https://github.com/coral-xyz/anchor/pull/1926</a>)).</p></li>
<li><p>ts: Implement a coder for SPL associated token program ([#1939](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1939">https://github.com/coral-xyz/anchor/pull/1939</a>)).</p></li>
<li><p>ts: verbose error for missing <cite>ANCHOR_WALLET</cite> variable when using <cite>NodeWallet.local()</cite> ([#1958](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1958">https://github.com/coral-xyz/anchor/pull/1958</a>)).</p></li>
<li><p>ts: Add <cite>MethodsBuilder#accountsStrict</cite> for strict typing on ix account input ([#2019](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/2019">https://github.com/coral-xyz/anchor/pull/2019</a>)).</p></li>
<li><p>Update solana dependencies to 1.10.29  ([#2027](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/2027">https://github.com/coral-xyz/anchor/pull/2027</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: Move <cite>overflow-checks</cite> into workspace <cite>Cargo.toml</cite> so that it will not be ignored by compiler ([#1806](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1806">https://github.com/coral-xyz/anchor/pull/1806</a>)).</p></li>
<li><p>lang: Fix missing account name information when deserialization fails when using <cite>init</cite> or <cite>zero</cite> ([#1800](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1800">https://github.com/coral-xyz/anchor/pull/1800</a>)).</p></li>
<li><p>ts: Expose the wallet’s publickey on the Provider ([#1845](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1845">https://github.com/coral-xyz/anchor/pull/1845</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>ts: Change <cite>BROWSER</cite> env variable to <cite>ANCHOR_BROWSER</cite> ([#1233](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1233">https://github.com/coral-xyz/anchor/pull/1233</a>)).</p></li>
<li><p>ts: Add transaction signature to <cite>EventCallback</cite> parameters ([#1851](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1851">https://github.com/coral-xyz/anchor/pull/1851</a>)).</p></li>
<li><p>ts: Change <cite>EventParser#parseLogs</cite> implementation to be a generator instead of callback function ([#2018](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/2018">https://github.com/coral-xyz/anchor/pull/2018</a>)).</p></li>
<li><p>lang: Adds a new <cite>&amp;mut reallocs: BTreeSet&lt;Pubkey&gt;</cite> argument to <cite>Accounts::try_accounts</cite> ([#1986](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1986">https://github.com/coral-xyz/anchor/pull/1986</a>)).</p></li>
</ul>
<p>## [0.24.2] - 2022-04-13</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Fix <cite>returns</cite> being serialized as <cite>null</cite> instead of <cite>undefined</cite> in IDL ([#1782](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1782">https://github.com/coral-xyz/anchor/pull/1782</a>)).</p></li>
</ul>
<p>## [0.24.1] - 2022-04-12</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Fix <cite>anchor build</cite> failing if <cite>Test.toml</cite> included a relative path that didn’t exist yet because it’s created by <cite>anchor build</cite> ([#1772](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1772">https://github.com/coral-xyz/anchor/pull/1772</a>)).</p></li>
<li><p>cli: Update js/ts template to use new <cite>AnchorProvider</cite> class ([#1770](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1770">https://github.com/coral-xyz/anchor/pull/1770</a>)).</p></li>
</ul>
<p>## [0.24.0] - 2022-04-12</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add support for multiple test suites with separate local validators ([#1681](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1681">https://github.com/coral-xyz/anchor/pull/1681</a>)).</p></li>
<li><p>lang: Add return values to CPI client ([#1598](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1598">https://github.com/coral-xyz/anchor/pull/1598</a>)).</p></li>
<li><p>ts: Add view functions ([#1695](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1695">https://github.com/coral-xyz/anchor/pull/1695</a>)).</p></li>
<li><p>avm: New <cite>avm update</cite> command to update the Anchor CLI to the latest version ([#1670](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1670">https://github.com/coral-xyz/anchor/pull/1670</a>)).</p></li>
<li><p>cli: Update js/ts templates to use new <cite>program.methods</cite> syntax ([#1732](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1732">https://github.com/coral-xyz/anchor/pull/1732</a>)).</p></li>
<li><p>cli: Workspaces created with <cite>anchor init</cite> now come with the <cite>prettier</cite> formatter and scripts included ([#1741](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1741">https://github.com/coral-xyz/anchor/pull/1741</a>)).</p></li>
<li><p>ts: Add <cite>pubkeys</cite> function to methods builder to get all instruction account addresses ([#1733](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1733">https://github.com/coral-xyz/anchor/pull/1733</a>)).</p></li>
<li><p>ts: Export <cite>LangErrorCode</cite> and <cite>LangErrorMessage</cite> from <cite>error.ts</cite> ([#1756](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1756">https://github.com/coral-xyz/anchor/pull/1756</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>avm: <cite>avm install</cite> no longer downloads the version if already installed in the machine ([#1670](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1670">https://github.com/coral-xyz/anchor/pull/1670</a>)).</p></li>
<li><p>cli: make <cite>anchor test</cite> fail when used with <cite>–skip-deploy</cite> option and without <cite>–skip-local-validator</cite> option but there already is a running validator ([#1675](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1675">https://github.com/coral-xyz/anchor/pull/1675</a>)).</p></li>
<li><p>lang: Return proper error instead of panicking if account length is smaller than discriminator in functions of <cite>(Account)Loader</cite> ([#1678](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1678">https://github.com/coral-xyz/anchor/pull/1678</a>)).</p></li>
<li><p>cli: Add <cite>&#64;types/bn.js</cite> to <cite>devDependencies</cite> in cli template ([#1712](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1712">https://github.com/coral-xyz/anchor/pull/1712</a>)).</p></li>
<li><p>ts: Event listener no longer crashes on Program Upgrade or any other unexpected log ([#1757](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1757">https://github.com/coral-xyz/anchor/pull/1757</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>avm: <cite>avm install</cite> switches to the newly installed version after installation finishes ([#1670](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1670">https://github.com/coral-xyz/anchor/pull/1670</a>)).</p></li>
<li><p>spl: Re-export the <cite>spl_token</cite> crate ([#1665](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1665">https://github.com/coral-xyz/anchor/pull/1665</a>)).</p></li>
<li><p>lang, cli, spl: Update solana toolchain to v1.9.13 ([#1653](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1653">https://github.com/coral-xyz/anchor/pull/1653</a>) and [#1751](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1751">https://github.com/coral-xyz/anchor/pull/1751</a>)).</p></li>
<li><p>lang: <cite>Program</cite> type now deserializes <cite>programdata_address</cite> only on demand ([#1723](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1723">https://github.com/coral-xyz/anchor/pull/1723</a>)).</p></li>
<li><p>ts: Make <cite>Provider</cite> an interface and adjust its signatures and add <cite>AnchorProvider</cite> implementor class ([#1707](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1707">https://github.com/coral-xyz/anchor/pull/1707</a>)).</p></li>
<li><p>spl: Change “to” to “from” in <cite>token::burn</cite> ([#1080](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1080">https://github.com/coral-xyz/anchor/pull/1080</a>)).</p></li>
</ul>
<p>## [0.23.0] - 2022-03-20</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add <cite>anchor clean</cite> command that’s the same as <cite>cargo clean</cite> but preserves keypairs inside <cite>target/deploy</cite> ([#1470](<a class="reference external" href="https://github.com/coral-xyz/anchor/issues/1470">https://github.com/coral-xyz/anchor/issues/1470</a>)).</p></li>
<li><p>cli: Running <cite>anchor init</cite> now initializes a new git repository for the workspace. This can be disabled with the <cite>–no-git</cite> flag ([#1605](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1605">https://github.com/coral-xyz/anchor/pull/1605</a>)).</p></li>
<li><p>cli: Add support for <cite>anchor idl fetch</cite> to work outside anchor workspace ([#1509](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1509">https://github.com/coral-xyz/anchor/pull/1509</a>)).</p></li>
<li><p>cli: [[test.validator.clone]] also clones the program data account of programs owned by the bpf upgradeable loader ([#1481](<a class="reference external" href="https://github.com/coral-xyz/anchor/issues/1481">https://github.com/coral-xyz/anchor/issues/1481</a>)).</p></li>
<li><p>lang: Add new <cite>AccountSysvarMismatch</cite> error code and test cases for sysvars ([#1535](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1535">https://github.com/coral-xyz/anchor/pull/1535</a>)).</p></li>
<li><p>lang: Replace <cite>std::io::Cursor</cite> with a custom <cite>Write</cite> impl that uses the Solana mem syscalls ([#1589](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1589">https://github.com/coral-xyz/anchor/pull/1589</a>)).</p></li>
<li><p>lang: Add <cite>require_neq</cite>, <cite>require_keys_neq</cite>, <cite>require_gt</cite>, and <cite>require_gte</cite> comparison macros ([#1622](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1622">https://github.com/coral-xyz/anchor/pull/1622</a>)).</p></li>
<li><p>lang: Handle arrays with const as size in instruction data ([#1623](<a class="reference external" href="https://github.com/coral-xyz/anchor/issues/1623">https://github.com/coral-xyz/anchor/issues/1623</a>).</p></li>
<li><p>spl: Add support for revoke instruction ([#1493](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1493">https://github.com/coral-xyz/anchor/pull/1493</a>)).</p></li>
<li><p>ts: Add provider parameter to <cite>Spl.token</cite> factory method ([#1597](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1597">https://github.com/coral-xyz/anchor/pull/1597</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>ts: Fix the loss of strict typing using the <cite>methods</cite> namespace on builder functions ([#1539](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1539">https://github.com/coral-xyz/anchor/pull/1539</a>)).</p></li>
<li><p>spl: Update <cite>spl/governance</cite> to use new errors ([#1582](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1582">https://github.com/coral-xyz/anchor/pull/1582</a>)).</p></li>
<li><p>client: Fix <cite>Cluster</cite>’s <cite>FromStr</cite> implementation ([#1362](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1362">https://github.com/coral-xyz/anchor/pull/1362</a>)).</p></li>
<li><p>lang: Implement <cite>Key</cite> for <cite>Pubkey</cite> again, so <cite>associated_token::*</cite> constraints can use pubkey targets again ([#1601](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1601">https://github.com/coral-xyz/anchor/pull/1601</a>)).</p></li>
<li><p>lang: Adjust error code so <cite>#[error_code]</cite> works with just importing <cite>anchor_lang::error_code</cite> ([#1610](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1610">https://github.com/coral-xyz/anchor/pull/1610</a>)).</p></li>
<li><p>ts: Fix <cite>spl-token</cite> coder account parsing ([#1604](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1604">https://github.com/coral-xyz/anchor/pull/1604</a>)).</p></li>
<li><p>cli: Fix <cite>npm install</cite> fallback if <cite>yarn</cite> install doesn’t work ([#1643](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1643">https://github.com/coral-xyz/anchor/pull/1643</a>)).</p></li>
<li><p>lang: Fix bug where <cite>owner = &lt;target&gt;</cite> would not compile because of missing type annotation ([#1648](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1648">https://github.com/coral-xyz/anchor/pull/1648</a>)).</p></li>
<li><p>ts: Adjust <cite>send</cite> and <cite>simulate</cite> functions in <cite>provider.ts</cite>, so they use the return value of <a href="#id1"><span class="problematic" id="id2">`</span></a>Wallet.signTransaction`([#1527](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1527">https://github.com/coral-xyz/anchor/pull/1527</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>ts: Mark <cite>transaction</cite>, <cite>instruction</cite>, <cite>simulate</cite> and <cite>rpc</cite> program namespaces as deprecated in favor of <cite>methods</cite> ([#1539](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1539">https://github.com/coral-xyz/anchor/pull/1539</a>)).</p></li>
<li><p>ts: No longer allow manual setting of globally resolvable program public keys in <cite>methods#accounts()</cite>. ([#1548][<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1548">https://github.com/coral-xyz/anchor/pull/1548</a>])</p></li>
<li><p>lang/ts: Events are now emitted using the <cite>sol_log_data</cite> syscall ([#1608](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1608">https://github.com/coral-xyz/anchor/pull/1608</a>)).</p></li>
<li><p>lang: Remove space calculation using <cite>#[derive(Default)]</cite> ([#1519](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1519">https://github.com/coral-xyz/anchor/pull/1519</a>)).</p></li>
<li><p>lang: Add support for logging expected and actual values and pubkeys. Add <cite>require_eq</cite> and <cite>require_keys_eq</cite> macros. Add default error code to <cite>require</cite> macro ([#1572](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1572">https://github.com/coral-xyz/anchor/pull/1572</a>)).</p></li>
<li><p>lang: Add <cite>system_program</cite> CPI wrapper functions. Make <cite>system_program</cite> module public instead of re-exporting <a href="#id3"><span class="problematic" id="id4">`</span></a>system_program::System`([#1629](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1629">https://github.com/coral-xyz/anchor/pull/1629</a>)).</p></li>
<li><p>cli: <cite>avm use</cite> no long prompts [y/n] if an install is needed first - it just tells the user to <cite>avm install</cite> ([#1565](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1565">https://github.com/coral-xyz/anchor/pull/1565</a>))</p></li>
<li><p>ts: Add <cite>AnchorError</cite> with program stack and also a program stack for non-<cite>AnchorError</cite> errors ([#1640](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1640">https://github.com/coral-xyz/anchor/pull/1640</a>)). <cite>AnchorError</cite> is not returned for <cite>processed</cite> tx that have <cite>skipPreflight</cite> set to <cite>true</cite> (it falls back to <cite>ProgramError</cite> or the raw solana library error).</p></li>
</ul>
<p>## [0.22.1] - 2022-02-28</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: Fix rust template ([#1488](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1488">https://github.com/coral-xyz/anchor/pull/1488</a>)).</p></li>
<li><p>lang: Handle array sizes with variable sizes in events and array size casting in IDL parsing ([#1485](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1485">https://github.com/coral-xyz/anchor/pull/1485</a>))</p></li>
</ul>
<p>## [0.22.0] - 2022-02-20</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add check that declared id == program id ([#1451](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1451">https://github.com/coral-xyz/anchor/pull/1451</a>)).</p></li>
<li><p>ts: Added float types support ([#1425](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1425">https://github.com/coral-xyz/anchor/pull/1425</a>)).</p></li>
<li><p>cli: Add <cite>–skip-lint</cite> option to disable check linting introduced in ([#1452](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1452">https://github.com/coral-xyz/anchor/pull/1452</a>)) for rapid prototyping ([#1482](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1482">https://github.com/coral-xyz/anchor/pull/1482</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>ts: Allow nullable types for <cite>Option&lt;T&gt;</cite> mapped types ([#1428](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1428">https://github.com/coral-xyz/anchor/pull/1428</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>lang: Enforce that the payer for an init-ed account be marked <cite>mut</cite> ([#1271](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1271">https://github.com/coral-xyz/anchor/pull/1271</a>)).</p></li>
<li><p>lang: All error-related code is now in the error module ([#1426](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1426">https://github.com/coral-xyz/anchor/pull/1426</a>)).</p></li>
<li><p>lang: Require doc comments when using AccountInfo or UncheckedAccount types ([#1452](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1452">https://github.com/coral-xyz/anchor/pull/1452</a>)).</p></li>
<li><p>lang: add [<cite>error!</cite>](<a class="reference external" href="https://docs.rs/anchor-lang/latest/anchor_lang/prelude/macro.error.html">https://docs.rs/anchor-lang/latest/anchor_lang/prelude/macro.error.html</a>) and [<cite>err!</cite>](<a class="reference external" href="https://docs.rs/anchor-lang/latest/anchor_lang/prelude/macro.err.html">https://docs.rs/anchor-lang/latest/anchor_lang/prelude/macro.err.html</a>) macro and <cite>Result</cite> type ([#1462](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1462">https://github.com/coral-xyz/anchor/pull/1462</a>)).
This change will break most programs. Do the following to upgrade:
_ change all <cite>ProgramResult</cite>’s to <cite>Result&lt;()&gt;</cite>
_ change <cite>#[error]</cite> to <cite>#[error_code]</cite>
_ change all <cite>Err(MyError::SomeError.into())</cite> to <cite>Err(error!(MyError::SomeError))</cite> and all <cite>Err(ProgramError::SomeProgramError)</cite> to <cite>Err(ProgramError::SomeProgramError.into())</cite> or <cite>Err(Error::from(ProgramError::SomeProgramError).with_source(source!()))</cite> to provide file and line source of the error (<cite>with_source</cite> is most useful with <cite>ProgramError`s. `error!</cite> already adds source information for custom and anchor internal errors).
_ change all <cite>solana_program::program::invoke()</cite> to <cite>solana_program::program::invoke().map_err(Into::into)</cite> and <cite>solana_program::program::invoke_signed()</cite> to <cite>solana_program::program::invoke_signed().map_err(Into::into)</cite></p></li>
</ul>
<p>## [0.21.0] - 2022-02-07</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>ts: Fix the root type declaration of the <cite>Wallet</cite> / <cite>NodeWallet</cite> class ([#1363](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1363">https://github.com/coral-xyz/anchor/pull/1363</a>)).</p></li>
<li><p>ts: Improve type mapping of Account fields into Typescript with additional support for <cite>Option&lt;T&gt;</cite> and <cite>Vec&lt;String&gt;</cite> types ([#1393](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1393">https://github.com/coral-xyz/anchor/pull/1393</a>)).</p></li>
</ul>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>seeds::program</cite> constraint for specifying which program_id to use when deriving PDAs ([#1197](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1197">https://github.com/coral-xyz/anchor/pull/1197</a>)).</p></li>
<li><p>lang: <cite>Context</cite> now has a new <cite>bumps: BTree&lt;String, u8&gt;</cite> argument, mapping account name to bump seed “found” by the accounts context. This allows one to access bump seeds without having to pass them in from the client or recalculate them in the handler ([#1367](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1367">https://github.com/coral-xyz/anchor/pull/1367</a>)).</p></li>
<li><p>lang, ts: Automatically infer PDA addresses ([#1331](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1331">https://github.com/coral-xyz/anchor/pull/1331</a>)).</p></li>
<li><p>ts: Remove error logging in the event parser when log websocket encounters a program error ([#1313](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1313">https://github.com/coral-xyz/anchor/pull/1313</a>)).</p></li>
<li><p>ts: Add new <cite>methods</cite> namespace to the program client, introducing a more ergonomic builder API ([#1324](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1324">https://github.com/coral-xyz/anchor/pull/1324</a>)).</p></li>
<li><p>ts: Add registry utility for fetching the latest verified build ([#1371](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1371">https://github.com/coral-xyz/anchor/pull/1371</a>)).</p></li>
<li><p>cli: Expose the solana-test-validator –account flag in Anchor.toml via [[test.validator.account]] ([#1366](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1366">https://github.com/coral-xyz/anchor/pull/1366</a>)).</p></li>
<li><p>cli: Add avm, a tool for managing anchor-cli versions ([#1385](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1385">https://github.com/coral-xyz/anchor/pull/1385</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>lang: Put <cite>init_if_needed</cite> behind a feature flag to decrease wrong usage ([#1258](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1258">https://github.com/coral-xyz/anchor/pull/1258</a>)).</p></li>
<li><p>lang: rename <cite>loader_account</cite> module to <cite>account_loader</cite> module ([#1279](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1279">https://github.com/coral-xyz/anchor/pull/1279</a>))</p></li>
<li><p>lang: The <cite>Accounts</cite> trait’s <cite>try_accounts</cite> method now has an additional <cite>bumps: &amp;mut BTreeMap&lt;String, u8&gt;</cite> argument, which accumulates bump seeds ([#1367](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1367">https://github.com/coral-xyz/anchor/pull/1367</a>)).</p></li>
<li><p>lang: Providing <cite>bump = &lt;target&gt;</cite> targets with <cite>init</cite> will now error. On <cite>init</cite> only, it is required to use <cite>bump</cite> without a target and access the seed inside function handlers via <cite>ctx.bumps.get(“&lt;pda-account-name”)</cite>. For subsequent seeds constraints (without init), it is recommended to store the bump on your account and use it as a <cite>bump = &lt;target&gt;</cite> target to minimize compute units used ([#1380](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1380">https://github.com/coral-xyz/anchor/pull/1380</a>)).</p></li>
<li><p>ts: <cite>Coder</cite> is now an interface and the existing class has been renamed to <cite>BorshCoder</cite>. This change allows the generation of Anchor clients for non anchor programs ([#1259](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1259/files">https://github.com/coral-xyz/anchor/pull/1259/files</a>)).</p></li>
<li><p>cli: [[test.clone]] key in Anchor.toml is renamed to [[test.validator.clone]] ([#1366](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1366">https://github.com/coral-xyz/anchor/pull/1366</a>)).</p></li>
</ul>
<p>## [0.20.1] - 2022-01-09</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Improved error msgs when required programs are missing when using the <cite>init</cite> constraint([#1257](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1257">https://github.com/coral-xyz/anchor/pull/1257</a>))</p></li>
</ul>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Allow repr overrides for zero copy accounts ([#1273](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1273">https://github.com/coral-xyz/anchor/pull/1273</a>)).</p></li>
</ul>
<p>## [0.20.0] - 2022-01-06</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: <cite>init_if_needed</cite> now checks rent exemption when init is not needed ([#1250](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1250">https://github.com/coral-xyz/anchor/pull/1250</a>)).</p></li>
<li><p>lang: Add missing owner check when <cite>associated_token::authority</cite> is used ([#1240](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1240">https://github.com/coral-xyz/anchor/pull/1240</a>)).</p></li>
<li><p>ts: Add type declarations for conditional <cite>workspace</cite> and <cite>Wallet</cite> exports ([#1137](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1137">https://github.com/coral-xyz/anchor/pull/1137</a>)).</p></li>
<li><p>ts: Change commitment message <cite>recent</cite> to <cite>processed</cite> and <cite>max</cite> to <cite>finalized</cite> ([#1128](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1128">https://github.com/coral-xyz/anchor/pull/1128</a>))</p></li>
<li><p>ts: fix <cite>translateAddress</cite> which currently leads to failing browser code. Now uses <cite>PublicKey</cite> constructor instead of prototype chain constructor name checking which doesn’t work in the presence of code minifying/mangling([#1138](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1138">https://github.com/coral-xyz/anchor/pull/1138</a>))</p></li>
<li><p>lang: add missing check that verifies that account is ATA when using <cite>init_if_needed</cite> and init is not needed([#1221](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1221">https://github.com/coral-xyz/anchor/pull/1221</a>))</p></li>
</ul>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>programdata_address: Option&lt;Pubkey&gt;</cite> field to <cite>Program</cite> account. Will be populated if account is a program owned by the upgradable bpf loader ([#1125](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1125">https://github.com/coral-xyz/anchor/pull/1125</a>))</p></li>
<li><p>lang,ts,ci,cli,docs: update solana toolchain to version 1.8.5([#1133](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1133">https://github.com/coral-xyz/anchor/pull/1133</a>)).</p></li>
<li><p>lang: Account wrappers for non-Anchor programs no longer have to implement the <cite>serialize</cite> function because it has a default impl now. Similarly, they no longer have to implement <cite>try_deserialize</cite> which now delegates to <cite>try_deserialize_unchecked</cite> by default([#1156](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1156">https://github.com/coral-xyz/anchor/pull/1156</a>)).</p></li>
<li><p>lang: Add <cite>set_inner</cite> method to <cite>Account&lt;’a, T&gt;</cite> to enable easy updates ([#1177](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1177">https://github.com/coral-xyz/anchor/pull/1177</a>)).</p></li>
<li><p>lang: Handle arrays with const as length ([#968](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/968">https://github.com/coral-xyz/anchor/pull/968</a>)).</p></li>
<li><p>ts: Add optional commitment argument to <cite>fetch</cite> and <cite>fetchMultiple</cite> ([#1171](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1171">https://github.com/coral-xyz/anchor/pull/1171</a>)).</p></li>
<li><p>lang: Implement <cite>AsRef&lt;T&gt;</cite> for <a href="#id5"><span class="problematic" id="id6">`</span></a>Account&lt;’a, T&gt;`([#1173](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1173">https://github.com/coral-xyz/anchor/pull/1173</a>))</p></li>
<li><p>cli: Add <cite>anchor expand</cite> command which wraps around <cite>cargo expand</cite> ([#1160](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1160">https://github.com/coral-xyz/anchor/pull/1160</a>))</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>client: Client::new and Client::new_with_options now accept <cite>Rc&lt;dyn Signer&gt;</cite> instead of <cite>Keypair</cite> ([#975](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/975">https://github.com/coral-xyz/anchor/pull/975</a>)).</p></li>
<li><p>lang, ts: Change error enum name and message for ‘wrong program ownership’ account validation ([#1154](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1154">https://github.com/coral-xyz/anchor/pull/1154</a>)).</p></li>
<li><p>lang: Change from <cite>#[repr(packed)]</cite> to <cite>#[repr(C)]</cite> for zero copy accounts ([#1106](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1106">https://github.com/coral-xyz/anchor/pull/1106</a>)).</p></li>
<li><p>lang: Account types can now be found either in the <cite>prelude</cite> module or the <cite>accounts</cite> module but not longer directly under the root.
Deprecated account types are no longer imported by the prelude ([#1208](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1208">https://github.com/coral-xyz/anchor/pull/1208</a>)).</p></li>
</ul>
<p>## [0.19.0] - 2021-12-08</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Add <cite>deprecated</cite> attribute to <cite>ProgramAccount</cite> ([#1014](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1014">https://github.com/coral-xyz/anchor/pull/1014</a>)).</p></li>
<li><p>cli: Add version number from programs <cite>Cargo.toml</cite> into extracted IDL ([#1061](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1061">https://github.com/coral-xyz/anchor/pull/1061</a>)).</p></li>
<li><p>lang: Add <cite>deprecated</cite> attribute to <a href="#id7"><span class="problematic" id="id8">`</span></a>Loader`([#1078](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1078">https://github.com/coral-xyz/anchor/pull/1078</a>)).</p></li>
<li><p>lang: the <cite>init_if_needed</cite> attribute now checks that given attributes (e.g. space, owner, token::authority etc.) are validated even when init is not needed ([#1096](https://github.com/coral-xyz/anchor/pull/1096)).</p></li>
</ul>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>ErrorCode::AccountNotInitialized</cite> error to separate the situation when the account has the wrong owner from when it does not exist (#[1024](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1024">https://github.com/coral-xyz/anchor/pull/1024</a>)).</p></li>
<li><p>lang: Called instructions now log their name by default. This can be turned off with the <cite>no-log-ix-name</cite> flag ([#1057](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1057">https://github.com/coral-xyz/anchor/pull/1057</a>)).</p></li>
<li><p>lang: <cite>ProgramData</cite> and <cite>UpgradableLoaderState</cite> can now be passed into <cite>Account</cite> as generics. see [UpgradeableLoaderState](<a class="reference external" href="https://docs.rs/solana-program/latest/solana_program/bpf_loader_upgradeable/enum.UpgradeableLoaderState.html">https://docs.rs/solana-program/latest/solana_program/bpf_loader_upgradeable/enum.UpgradeableLoaderState.html</a>). <cite>UpgradableLoaderState</cite> can also be matched on to get <cite>ProgramData</cite>, but when <cite>ProgramData</cite> is used instead, anchor does the serialization and checking that it is actually program data for you ([#1095](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1095">https://github.com/coral-xyz/anchor/pull/1095</a>)).</p></li>
<li><p>ts: Add better error msgs in the ts client if something wrong (i.e. not a pubkey or a string) is passed in as an account in an instruction accounts object ([#1098](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1098">https://github.com/coral-xyz/anchor/pull/1098</a>)).</p></li>
<li><p>ts: Add inputs <cite>postInstructions</cite> and <cite>preInstructions</cite> as a replacement for (the now deprecated) <cite>instructions</cite> ([#1007](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1007">https://github.com/coral-xyz/anchor/pull/1007</a>)).</p></li>
<li><p>ts: Add <cite>getAccountInfo</cite> helper method to account namespace/client ([#1084](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1084">https://github.com/coral-xyz/anchor/pull/1084</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>lang, ts: Error codes have been mapped to new numbers to allow for more errors per namespace ([#1096](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/1096">https://github.com/coral-xyz/anchor/pull/1096</a>)).</p></li>
</ul>
<p>## [0.18.2] - 2021-11-14</p>
<ul class="simple">
<li><p>cli: Replace global JavaScript dependency installs with local.</p></li>
</ul>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>SystemAccount&lt;’info&gt;</cite> account type for generic wallet addresses or accounts owned by the system program ([#954](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/954">https://github.com/coral-xyz/anchor/pull/954</a>))</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: fix dns in NODE_OPTIONS ([#928](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/928">https://github.com/coral-xyz/anchor/pull/928</a>)).</p></li>
<li><p>cli: output TypeScript IDL in <cite>idl parse</cite> subcommand ([#941](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/941">https://github.com/coral-xyz/anchor/pull/941</a>)).</p></li>
<li><p>cli: Add fields <cite>os</cite> and <cite>cpu</cite> to npm package <cite>&#64;project-serum/anchor-cli</cite> ([#976](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/976">https://github.com/coral-xyz/anchor/pull/976</a>)).</p></li>
<li><p>cli: Allow specify output directory for TypeScript IDL ([#940](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/940">https://github.com/coral-xyz/anchor/pull/940</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>spl: Move permissioned markets into dex repository ([#962](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/962">https://github.com/coral-xyz/anchor/pull/962</a>)).</p></li>
</ul>
<p>## [0.18.0] - 2021-10-24</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add support for configuration options for <cite>solana-test-validator</cite> in Anchor.toml ([#834](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/834">https://github.com/coral-xyz/anchor/pull/834</a>)).</p></li>
<li><p>cli: <cite>target/types</cite> directory now created on build to store a TypeScript types file for each program’s IDL ([#795](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/795">https://github.com/coral-xyz/anchor/pull/795</a>)).</p></li>
<li><p>ts: <cite>Program&lt;T&gt;</cite> can now be typed with an IDL type ([#795](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/795">https://github.com/coral-xyz/anchor/pull/795</a>)).</p></li>
<li><p>lang: Add <cite>mint::freeze_authority</cite> keyword for mint initialization within <cite>#[derive(Accounts)]</cite> ([#835](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/835">https://github.com/coral-xyz/anchor/pull/835</a>)).</p></li>
<li><p>lang: Add <cite>AccountLoader</cite> type for <cite>zero_copy</cite> accounts with support for CPI ([#792](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/792">https://github.com/coral-xyz/anchor/pull/792</a>)).</p></li>
<li><p>lang: Add <cite>#[account(init_if_needed)]</cite> keyword for allowing one to invoke the same instruction even if the account was created already ([#906](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/906">https://github.com/coral-xyz/anchor/pull/906</a>)).</p></li>
<li><p>lang: Add custom errors support for raw constraints ([#905](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/905">https://github.com/coral-xyz/anchor/pull/905</a>)).</p></li>
<li><p>lang, cli, spl: Update solana toolchain to v1.8.0 ([#886](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/886">https://github.com/coral-xyz/anchor/pull/886</a>)).</p></li>
<li><p>lang: Add custom errors support for <cite>signer</cite>, <cite>mut</cite>, <cite>has_one</cite>, <cite>owner</cite>, raw constraints and <cite>address</cite> ([#905](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/905">https://github.com/coral-xyz/anchor/pull/905</a>), [#913](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/913">https://github.com/coral-xyz/anchor/pull/913</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>lang: Accounts marked with the <cite>#[account(signer)]</cite> constraint now enforce signer when the <cite>“cpi”</cite> feature is enabled ([#849](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/849">https://github.com/coral-xyz/anchor/pull/849</a>)).</p></li>
</ul>
<p>## [0.17.0] - 2021-10-03</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add <cite>localnet</cite> command for starting a local <cite>solana-test-validator</cite> with the workspace deployed ([#820](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/820">https://github.com/coral-xyz/anchor/pull/820</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p><cite>CpiContext</cite> accounts must now be used with the accounts struct generated in the <cite>crate::cpi::accounts::*</cite> module. These structs correspond to the accounts context for each instruction, except that each field is of type <cite>AccountInfo</cite> ([#824](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/824">https://github.com/coral-xyz/anchor/pull/824</a>)).</p></li>
</ul>
<p>## [0.16.2] - 2021-09-27</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>–detach</cite> flag to <cite>anchor test</cite> ([#770](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/770">https://github.com/coral-xyz/anchor/pull/770</a>)).</p></li>
<li><p>lang: Add <cite>associated_token</cite> keyword for initializing associated token accounts within <cite>#[derive(Accounts)]</cite> ([#790](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/790">https://github.com/coral-xyz/anchor/pull/790</a>)).</p></li>
<li><p>cli: Allow passing through cargo flags for build command ([#719](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/719">https://github.com/coral-xyz/anchor/pull/719</a>)).</p></li>
<li><p>cli: Allow passing through cargo flags for test, verify, and publish commands ([#804](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/804">https://github.com/coral-xyz/anchor/pull/804</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Generated <cite>AccountMeta`s for Rust clients now properly set the `isSigner</cite> field ([#762](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/762">https://github.com/coral-xyz/anchor/pull/762</a>)).</p></li>
</ul>
<p>## [0.16.1] - 2021-09-17</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: <cite>Signer</cite> type now sets isSigner to true in the IDL ([#750](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/750">https://github.com/coral-xyz/anchor/pull/750</a>)).</p></li>
</ul>
<p>## [0.16.0] - 2021-09-16</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: <cite>Program</cite> type introduced for executable accounts ([#705](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/705">https://github.com/coral-xyz/anchor/pull/705</a>)).</p></li>
<li><p>lang: <cite>Signer</cite> type introduced for signing accounts where data is not used ([#705](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/705">https://github.com/coral-xyz/anchor/pull/705</a>)).</p></li>
<li><p>lang: <cite>UncheckedAccount</cite> type introduced as a preferred alias for <cite>AccountInfo</cite> ([#745](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/745">https://github.com/coral-xyz/anchor/pull/745</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>lang: <cite>#[account(owner = &lt;pubkey&gt;)]</cite> now requires a <cite>Pubkey</cite> instead of an account ([#691](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/691">https://github.com/coral-xyz/anchor/pull/691</a>)).</p></li>
</ul>
<p>## [0.15.0] - 2021-09-07</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add new <cite>Account</cite> type to replace <cite>ProgramAccount</cite> and <cite>CpiAccount</cite>, both of which are deprecated ([#686](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/686">https://github.com/coral-xyz/anchor/pull/686</a>)).</p></li>
<li><p>lang: <cite>Box</cite> can be used with <cite>Account</cite> types to reduce stack usage ([#686](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/686">https://github.com/coral-xyz/anchor/pull/686</a>)).</p></li>
<li><p>lang: Add <cite>Owner</cite> trait, which is automatically implemented by all <cite>#[account]</cite> structs ([#686](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/686">https://github.com/coral-xyz/anchor/pull/686</a>)).</p></li>
<li><p>lang: Check that ProgramAccount writable before mut borrow (<cite>anchor-debug</cite> only) ([#681](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/681">https://github.com/coral-xyz/anchor/pull/681</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>lang: All programs must now define their program id in source via <cite>declare_id!</cite> ([#686](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/686">https://github.com/coral-xyz/anchor/pull/686</a>)).</p></li>
</ul>
<p>## [0.14.0] - 2021-09-02</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Ignore <cite>Unnamed</cite> structs instead of panic ([#605](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/605">https://github.com/coral-xyz/anchor/pull/605</a>)).</p></li>
<li><p>lang: Add constraints for initializing mint accounts as pdas, <cite>#[account(init, seeds = […], mint::decimals = &lt;expr&gt;, mint::authority = &lt;expr&gt;)]</cite> ([#562](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/562">https://github.com/coral-xyz/anchor/pull/562</a>)).</p></li>
<li><p>lang: Add <cite>AsRef&lt;AccountInfo&gt;</cite> for <cite>AccountInfo</cite> wrappers ([#652](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/652">https://github.com/coral-xyz/anchor/pull/652</a>)).</p></li>
<li><p>lang: Optimize <cite>trait Key</cite> by removing <cite>AccountInfo</cite> cloning ([#652](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/652">https://github.com/coral-xyz/anchor/pull/652</a>)).</p></li>
<li><p>cli, client, lang: Update solana toolchain to v1.7.11 ([#653](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/653">https://github.com/coral-xyz/anchor/pull/653</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>lang: Change <cite>#[account(init, seeds = […], token = &lt;expr&gt;, authority = &lt;expr&gt;)]</cite> to <cite>#[account(init, token::mint = &lt;expr&gt; token::authority = &lt;expr&gt;)]</cite> ([#562](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/562">https://github.com/coral-xyz/anchor/pull/562</a>)).</p></li>
<li><p>lang: <cite>#[associated]</cite> and <cite>#[account(associated = &lt;target&gt;, with = &lt;target&gt;)]</cite> are both removed ([#612](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/612">https://github.com/coral-xyz/anchor/pull/612</a>)).</p></li>
<li><p>cli: Removed <cite>anchor launch</cite> command ([#634](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/634">https://github.com/coral-xyz/anchor/pull/634</a>)).</p></li>
<li><p>lang: <cite>#[account(init)]</cite> now creates the account inside the same instruction to be consistent with initializing PDAs. To maintain the old behavior of <cite>init</cite>, replace it with <cite>#[account(zero)]</cite> ([#641](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/641">https://github.com/coral-xyz/anchor/pull/641</a>)).</p></li>
<li><p>lang: <cite>bump</cite> must be provided when using the <cite>seeds</cite> constraint. This has been added as an extra safety constraint to ensure that whenever a PDA is initialized via a constraint the bump used is the one created by <cite>Pubkey::find_program_address</cite> ([#641](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/641">https://github.com/coral-xyz/anchor/pull/641</a>)).</p></li>
<li><p>lang: <cite>try_from_init</cite> has been removed from <cite>Loader</cite>, <cite>ProgramAccount</cite>, and <cite>CpiAccount</cite> and replaced with <cite>try_from_unchecked</cite> ([#641](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/641">https://github.com/coral-xyz/anchor/pull/641</a>)).</p></li>
<li><p>lang: Remove <cite>AccountsInit</cite> trait ([#641](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/641">https://github.com/coral-xyz/anchor/pull/641</a>)).</p></li>
<li><p>lang: <cite>try_from</cite> methods for <cite>ProgramAccount</cite>, <cite>Loader</cite>, and <cite>ProgramState</cite> now take in an additional <cite>program_id: &amp;Pubkey</cite> parameter ([#660](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/660">https://github.com/coral-xyz/anchor/pull/660</a>)).</p></li>
</ul>
<p>## [0.13.2] - 2021-08-11</p>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: Fix <cite>anchor init</cite> command “Workspace not found” regression ([#598](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/598">https://github.com/coral-xyz/anchor/pull/598</a>)).</p></li>
</ul>
<p>## [0.13.1] - 2021-08-10</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Programs embedded into genesis during tests will produce program logs ([#594](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/594">https://github.com/coral-xyz/anchor/pull/594</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: Allows Cargo.lock to exist in workspace subdirectories when publishing ([#593](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/593">https://github.com/coral-xyz/anchor/pull/593</a>)).</p></li>
</ul>
<p>## [0.13.0] - 2021-08-08</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Adds a <cite>[registry]</cite> section in the Anchor toml ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>cli: Adds the <cite>anchor login &lt;api-token&gt;</cite> command ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>cli: Adds the <cite>anchor publish &lt;package&gt;</cite> command ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>cli: Adds a root level <cite>anchor_version</cite> field to the Anchor.toml for specifying the anchor docker image to use for verifiable builds ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>cli: Adds a root level <cite>solana_version</cite> field to the Anchor.toml for specifying the solana toolchain to use for verifiable builds ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>lang: Dynamically fetch rent sysvar for when using <cite>init</cite> ([#587](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/587">https://github.com/coral-xyz/anchor/pull/587</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>cli: <cite>[clusters.&lt;network&gt;]</cite> Anchor.toml section has been renamed to <cite>[programs.&lt;network&gt;]</cite> ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
<li><p>cli: <cite>[workspace]</cite> member and exclude arrays must now be filepaths relative to the workpsace root ([#570](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/570">https://github.com/coral-xyz/anchor/pull/570</a>)).</p></li>
</ul>
<p>## [0.12.0] - 2021-08-03</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add keys <cite>members</cite> / <cite>exclude</cite> in config <cite>programs</cite> section ([#546](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/546">https://github.com/coral-xyz/anchor/pull/546</a>)).</p></li>
<li><p>cli: Allow program address configuration for test command through <cite>clusters.localnet</cite> ([#554](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/554">https://github.com/coral-xyz/anchor/pull/554</a>)).</p></li>
<li><p>lang: IDLs are now parsed from the entire crate ([#517](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/517">https://github.com/coral-xyz/anchor/pull/517</a>)).</p></li>
<li><p>spl: Dex permissioned markets proxy ([#519](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/519">https://github.com/coral-xyz/anchor/pull/519</a>), [#543](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/543">https://github.com/coral-xyz/anchor/pull/543</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>ts: Use <cite>hex</cite> by default for decoding Instruction ([#547](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/547">https://github.com/coral-xyz/anchor/pull/547</a>)).</p></li>
<li><p>lang: <cite>CpiAccount::reload</cite> mutates the existing struct instead of returning a new one ([#526](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/526">https://github.com/coral-xyz/anchor/pull/526</a>)).</p></li>
<li><p>cli: Anchor.toml now requires an explicit <cite>[scripts]</cite> test command ([#550](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/550">https://github.com/coral-xyz/anchor/pull/550</a>)).</p></li>
</ul>
<p>## [0.11.1] - 2021-07-09</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Adds <cite>require</cite> macro for specifying assertions that return error codes on failure ([#483](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/483">https://github.com/coral-xyz/anchor/pull/483</a>)).</p></li>
<li><p>lang: Allow one to specify arbitrary programs as the owner when creating PDA ([#483](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/483">https://github.com/coral-xyz/anchor/pull/483</a>)).</p></li>
<li><p>lang: A new <cite>bump</cite> keyword is added to the accounts constraints, which is used to add an optional bump seed to the end of a <cite>seeds</cite> array. When used in conjunction with _both_ <cite>init</cite> and <cite>seeds</cite>, then the program executes <cite>find_program_address</cite> to assert that the given bump is the canonical bump ([#483](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/483">https://github.com/coral-xyz/anchor/pull/483</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Preserve all instruction data for fallback functions ([#483](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/483">https://github.com/coral-xyz/anchor/pull/483</a>)).</p></li>
<li><p>ts: Event listener not firing when creating associated accounts ([#356](<a class="reference external" href="https://github.com/coral-xyz/anchor/issues/356">https://github.com/coral-xyz/anchor/issues/356</a>)).</p></li>
</ul>
<p>## [0.11.0] - 2021-07-03</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add fallback functions ([#457](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/457">https://github.com/coral-xyz/anchor/pull/457</a>)).</p></li>
<li><p>lang: Add feature flag for using the old state account discriminator. This is a temporary flag for those with programs built prior to v0.7.0 but want to use the latest Anchor version. Expect this to be removed in a future version ([#446](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/446">https://github.com/coral-xyz/anchor/pull/446</a>)).</p></li>
<li><p>lang: Add generic support to Accounts ([#496](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/496">https://github.com/coral-xyz/anchor/pull/496</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>cli: Remove <cite>.spec</cite> suffix on TypeScript tests files ([#441](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/441">https://github.com/coral-xyz/anchor/pull/441</a>)).</p></li>
<li><p>lang: Remove <cite>belongs_to</cite> constraint ([#459](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/459">https://github.com/coral-xyz/anchor/pull/459</a>)).</p></li>
</ul>
<p>## [0.10.0] - 2021-06-27</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Add <cite>#[account(address = &lt;expr&gt;)]</cite> constraint for asserting the address of an account ([#400](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/400">https://github.com/coral-xyz/anchor/pull/400</a>)).</p></li>
<li><p>lang: Add <cite>#[account(init, token = &lt;mint-target&gt;, authority = &lt;token-owner-target&gt;…)]</cite> constraint for initializing SPL token accounts as program derived addresses for the program. Can be used when initialized via <cite>seeds</cite> or <cite>associated</cite> ([#400](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/400">https://github.com/coral-xyz/anchor/pull/400</a>)).</p></li>
<li><p>lang: Add <cite>associated_seeds!</cite> macro for generating signer seeds for CPIs signed by an <cite>#[account(associated = &lt;target&gt;)]</cite> account ([#400](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/400">https://github.com/coral-xyz/anchor/pull/400</a>)).</p></li>
<li><p>cli: Add <cite>[scripts]</cite> section to the Anchor.toml for specifying workspace scripts that can be run via <cite>anchor run &lt;script&gt;</cite> ([#400](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/400">https://github.com/coral-xyz/anchor/pull/400</a>)).</p></li>
<li><p>cli: <cite>[clusters.&lt;network&gt;]</cite> table entries can now also use <cite>{ address = &lt;base58-str&gt;, idl = &lt;filepath-str&gt; }</cite> to specify workspace programs ([#400](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/400">https://github.com/coral-xyz/anchor/pull/400</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>cli: Remove <cite>–yarn</cite> flag in favor of using <cite>npx</cite> ([#432](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/432">https://github.com/coral-xyz/anchor/pull/432</a>)).</p></li>
</ul>
<p>## [0.9.0] - 2021-06-15</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Instruction data is now available to accounts constraints ([#386](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/386">https://github.com/coral-xyz/anchor/pull/386</a>)).</p></li>
<li><p>lang: Initialize program derived addresses with accounts constraints ([#386](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/386">https://github.com/coral-xyz/anchor/pull/386</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>lang: Event field names in IDLs are now mixed case. ([#379](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/379">https://github.com/coral-xyz/anchor/pull/379</a>)).</p></li>
<li><p>lang: Accounts trait now accepts an additional <cite>&amp;[u8]</cite> parameter ([#386](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/386">https://github.com/coral-xyz/anchor/pull/386</a>)).</p></li>
</ul>
<p>## [0.8.0] - 2021-06-10</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add <cite>–program-name</cite> option for build command to build a single program at a time ([#362](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/362">https://github.com/coral-xyz/anchor/pull/362</a>)).</p></li>
<li><p>cli, client: Parse custom cluster urls from str ([#369](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/369">https://github.com/coral-xyz/anchor/pull/369</a>)).</p></li>
<li><p>cli, client, lang: Update solana toolchain to v1.7.1 ([#368](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/369">https://github.com/coral-xyz/anchor/pull/369</a>)).</p></li>
<li><p>ts: Instruction decoding and formatting ([#372](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/372">https://github.com/coral-xyz/anchor/pull/372</a>)).</p></li>
<li><p>lang: Add <cite>#[account(close = &lt;destination&gt;)]</cite> constraint for closing accounts and sending the rent exemption lamports to a specified destination account ([#371](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/371">https://github.com/coral-xyz/anchor/pull/371</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Allows one to use <cite>remaining_accounts</cite> with <cite>CpiContext</cite> by implementing the <cite>ToAccountMetas</cite> trait on <cite>CpiContext</cite> ([#351](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/351/files">https://github.com/coral-xyz/anchor/pull/351/files</a>)).</p></li>
</ul>
<p>### Breaking</p>
<ul class="simple">
<li><p>lang, ts: Framework defined error codes are introduced, reserving error codes 0-300 for Anchor, and 300 and up for user defined error codes ([#354](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/354">https://github.com/coral-xyz/anchor/pull/354</a>)).</p></li>
</ul>
<p>## [0.7.0] - 2021-05-31</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Add global options for override Anchor.toml values ([#313](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/313">https://github.com/coral-xyz/anchor/pull/313</a>)).</p></li>
<li><p>spl: Add <cite>SetAuthority</cite> instruction ([#307](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/307/files">https://github.com/coral-xyz/anchor/pull/307/files</a>)).</p></li>
<li><p>spl: Add init and close open orders instructions ([#245](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/245">https://github.com/coral-xyz/anchor/pull/245</a>)).</p></li>
<li><p>lang: <cite>constraint = &lt;expression&gt;</cite> added as a replacement for (the now deprecated) string literal constraints ([#341](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/341">https://github.com/coral-xyz/anchor/pull/341</a>)).</p></li>
<li><p>lang: Span information is now preserved, providing informative compiler error messages ([#341](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/341">https://github.com/coral-xyz/anchor/pull/341</a>)).</p></li>
<li><p>ts: Address metadata is now optional for <cite>anchor.workspace</cite> clients ([#310](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/310">https://github.com/coral-xyz/anchor/pull/310</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>ts: Retrieving deserialized accounts from the <cite>&lt;program&gt;.account.&lt;my-account&gt;</cite> and <cite>&lt;program&gt;.state</cite> namespaces now require explicitly invoking the <cite>fetch</cite> API. For example, <cite>program.account.myAccount(&lt;adddress&gt;)</cite> and <cite>program.state()</cite> is now <cite>program.account.myAccount.fetch(&lt;address&gt;)</cite> and <cite>program.state.fetch()</cite> ([#322](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/322">https://github.com/coral-xyz/anchor/pull/322</a>)).</p></li>
<li><p>lang: <cite>#[account(associated)]</cite> now requires <cite>init</cite> to be provided to create an associated account. If not provided, then the address will be assumed to exist, and a constraint will be added to ensure the correctness of the address ([#318](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/318">https://github.com/coral-xyz/anchor/pull/318</a>)).</p></li>
<li><p>lang, ts: Change account discriminator pre-image of the <cite>#[state]</cite> account discriminator to be namespaced by “state:” ([#320](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/320">https://github.com/coral-xyz/anchor/pull/320</a>)).</p></li>
<li><p>lang, ts: Change domain delimiters for the pre-image of the instruciton sighash to be a single colon <cite>:</cite> to be consistent with accounts ([#321](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/321">https://github.com/coral-xyz/anchor/pull/321</a>)).</p></li>
<li><p>lang: Associated constraints no longer automatically implement <cite>mut</cite> ([#341](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/341">https://github.com/coral-xyz/anchor/pull/341</a>)).</p></li>
<li><p>lang: Associated <cite>space</cite> constraints must now be literal integers instead of literal strings ([#341](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/341">https://github.com/coral-xyz/anchor/pull/341</a>)).</p></li>
</ul>
<p>## [0.6.0] - 2021-05-23</p>
<p>### Features</p>
<ul class="simple">
<li><p>ts: Add <cite>program.simulate</cite> namespace ([#266](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/266">https://github.com/coral-xyz/anchor/pull/266</a>)).</p></li>
<li><p>ts: Introduce <cite>Address</cite> type, allowing one to use Base 58 encoded strings in public APIs ([#304](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/304">https://github.com/coral-xyz/anchor/pull/304</a>)).</p></li>
<li><p>ts: Replace deprecated <cite>web3.Account</cite> with <cite>web3.Signer</cite> in public APIs ([#296](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/296">https://github.com/coral-xyz/anchor/pull/296</a>)).</p></li>
<li><p>ts: Generated <cite>anchor.workspace</cite> clients can now be customized per network with <cite>[cluster.&lt;slug&gt;]</cite> in the Anchor.toml ([#308](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/308">https://github.com/coral-xyz/anchor/pull/308</a>)).</p></li>
<li><p>cli: Add yarn flag to test command ([#267](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/267">https://github.com/coral-xyz/anchor/pull/267</a>)).</p></li>
<li><p>cli: Add <cite>–skip-build</cite> flag to test command ([301](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/301">https://github.com/coral-xyz/anchor/pull/301</a>)).</p></li>
<li><p>cli: Add <cite>anchor shell</cite> command to spawn a node shell populated with an Anchor.toml based environment ([#303](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/303">https://github.com/coral-xyz/anchor/pull/303</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>cli: The Anchor.toml’s <cite>wallet</cite> and <cite>cluster</cite> settings must now be under the <cite>[provider]</cite> table ([#305](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/305">https://github.com/coral-xyz/anchor/pull/305</a>)).</p></li>
<li><p>ts: Event coder <cite>decode</cite> API changed to decode strings directly instead of buffers ([#292](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/292">https://github.com/coral-xyz/anchor/pull/292</a>)).</p></li>
<li><p>ts: Event coder <cite>encode</cite> API removed ([#292](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/292">https://github.com/coral-xyz/anchor/pull/292</a>)).</p></li>
</ul>
<p>## [0.5.0] - 2021-05-07</p>
<p>### Features</p>
<ul class="simple">
<li><p>client: Adds support for state instructions ([#248](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/248">https://github.com/coral-xyz/anchor/pull/248</a>)).</p></li>
<li><p>lang: Add <cite>anchor-debug</cite> feature flag for logging ([#253](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/253">https://github.com/coral-xyz/anchor/pull/253</a>)).</p></li>
<li><p>ts: Add support for u16 ([#255](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/255">https://github.com/coral-xyz/anchor/pull/255</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>client: Renames <cite>RequestBuilder::new</cite> to <cite>RequestBuilder::from</cite> ([#248](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/248">https://github.com/coral-xyz/anchor/pull/248</a>)).</p></li>
<li><p>lang: Renames the generated <cite>instruction::state::Ctor</cite> struct to <cite>instruction::state::New</cite> ([#248](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/248">https://github.com/coral-xyz/anchor/pull/248</a>)).</p></li>
</ul>
<p>## [0.4.5] - 2021-04-29</p>
<ul class="simple">
<li><p>spl: Add serum DEX CPI client ([#224](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/224">https://github.com/coral-xyz/anchor/pull/224</a>)).</p></li>
</ul>
<p>## [0.4.4] - 2021-04-18</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Allows one to specify multiple <cite>with</cite> targets when creating associated acconts ([#197](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/197">https://github.com/coral-xyz/anchor/pull/197</a>)).</p></li>
<li><p>lang, ts: Add array support ([#202](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/202">https://github.com/coral-xyz/anchor/pull/202</a>)).</p></li>
<li><p>lang: Zero copy deserialization for accounts ([#202](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/202">https://github.com/coral-xyz/anchor/pull/202</a>), [#206](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/206">https://github.com/coral-xyz/anchor/pull/206</a>)).</p></li>
<li><p>lang, spl, cli, client: Upgrade solana toolchain to 1.6.6 ([#210](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/210">https://github.com/coral-xyz/anchor/pull/210</a>)).</p></li>
</ul>
<p>## [0.4.3] - 2021-04-13</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: CPI clients for program state instructions ([#43](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/43">https://github.com/coral-xyz/anchor/pull/43</a>)).</p></li>
<li><p>lang: Add <cite>#[account(owner = &lt;program&gt;)]</cite> constraint ([#178](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/178">https://github.com/coral-xyz/anchor/pull/178</a>)).</p></li>
<li><p>lang, cli, ts: Add <cite>#[account(associated = &lt;target&gt;)]</cite> and <cite>#[associated]</cite> attributes for creating associated program accounts within programs. The TypeScript package can fetch these accounts with a new <cite>&lt;program&gt;.account.&lt;account-name&gt;.associated</cite> (and <cite>associatedAddress</cite>) method ([#186](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/186">https://github.com/coral-xyz/anchor/pull/186</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>lang: Unused <a href="#id9"><span class="problematic" id="id10">`</span></a>#[account]`s are now parsed into the IDL correctly ([#177](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/177">https://github.com/coral-xyz/anchor/pull/177</a>)).</p></li>
</ul>
<p>## [0.4.2] - 2021-04-10</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Fund Anchor.toml configured wallet when testing ([#164](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/164">https://github.com/coral-xyz/anchor/pull/164</a>)).</p></li>
<li><p>spl: Add initialize_account instruction for spl tokens ([#166](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/166">https://github.com/coral-xyz/anchor/pull/166</a>)).</p></li>
</ul>
<p>## [0.4.1] - 2021-04-06</p>
<ul class="simple">
<li><p>cli: Version verifiable docker builder ([#145](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/145">https://github.com/coral-xyz/anchor/pull/145</a>)).</p></li>
</ul>
<p>## [0.4.0] - 2021-04-04</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Specify test files to run ([#118](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/118">https://github.com/coral-xyz/anchor/pull/118</a>)).</p></li>
<li><p>lang: Allow overriding the <cite>#[state]</cite> account’s size ([#121](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/121">https://github.com/coral-xyz/anchor/pull/121</a>)).</p></li>
<li><p>lang, client, ts: Add event emission and subscriptions ([#89](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/89">https://github.com/coral-xyz/anchor/pull/89</a>)).</p></li>
<li><p>lang/account: Allow namespacing account discriminators ([#128](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/128">https://github.com/coral-xyz/anchor/pull/128</a>)).</p></li>
<li><p>cli: TypeScript migrations ([#132](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/132">https://github.com/coral-xyz/anchor/pull/132</a>)).</p></li>
<li><p>lang: Add <cite>#[account(executable)]</cite> attribute ([#140](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/140">https://github.com/coral-xyz/anchor/pull/140</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>client: Replace url str with <cite>Cluster</cite> struct when constructing clients ([#89](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/89">https://github.com/coral-xyz/anchor/pull/89</a>)).</p></li>
<li><p>lang: Changes the account discriminator of <cite>IdlAccount</cite> to be namespaced by <cite>“internal”</cite> ([#128](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/128">https://github.com/coral-xyz/anchor/pull/128</a>)).</p></li>
<li><p>lang, spl, cli: Upgrade solana toolchain to 1.6.3, a major version upgrade even though only the minor version is incremented. This allows for the removal of <cite>-#![feature(proc_macro_hygiene)]</cite>. ([#139](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/139">https://github.com/coral-xyz/anchor/pull/139</a>)).</p></li>
</ul>
<p>## [0.3.0] - 2021-03-12</p>
<p>### Features</p>
<ul class="simple">
<li><p>ts: Allow preloading instructions for state rpc transactions ([cf9c84](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/cf9c847e4144989b5bc1936149d171e90204777b">https://github.com/coral-xyz/anchor/commit/cf9c847e4144989b5bc1936149d171e90204777b</a>)).</p></li>
<li><p>ts: Export sighash coder function ([734c75](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/734c751882f43beec7ea3f0f4d988b502e3f24e4">https://github.com/coral-xyz/anchor/commit/734c751882f43beec7ea3f0f4d988b502e3f24e4</a>)).</p></li>
<li><p>cli: Specify programs to embed into local validator genesis via Anchor.toml while testing ([b3803a](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/b3803aec03fbbae1a794c9aa6a789e6cb58fda99">https://github.com/coral-xyz/anchor/commit/b3803aec03fbbae1a794c9aa6a789e6cb58fda99</a>)).</p></li>
<li><p>cli: Allow skipping the creation of a local validator when testing against localnet ([#93](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/93">https://github.com/coral-xyz/anchor/pull/93</a>)).</p></li>
<li><p>cli: Adds support for tests with Typescript ([#94](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/94">https://github.com/coral-xyz/anchor/pull/94</a>)).</p></li>
<li><p>cli: Deterministic and verifiable builds ([#100](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/100">https://github.com/coral-xyz/anchor/pull/100</a>)).</p></li>
<li><p>cli, lang: Add write buffers for IDL upgrades ([#107](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/107">https://github.com/coral-xyz/anchor/pull/107</a>)).</p></li>
</ul>
<p>## Breaking Changes</p>
<ul class="simple">
<li><p>lang: Removes <cite>IdlInstruction::Clear</cite> ([#107](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/107">https://github.com/coral-xyz/anchor/pull/107</a>)).</p></li>
</ul>
<p>### Fixes</p>
<ul class="simple">
<li><p>cli: Propagates mocha test exit status on error ([79b791](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/79b791ffa85ffae5b6163fa853562aa568650f21">https://github.com/coral-xyz/anchor/commit/79b791ffa85ffae5b6163fa853562aa568650f21</a>)).</p></li>
</ul>
<p>## [0.2.1] - 2021-02-11</p>
<p>### Features</p>
<ul class="simple">
<li><p>cli: Embed workspace programs into local validator genesis when testing ([733ec3](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/733ec300b0308e7d007873b0975585d836333fd4">https://github.com/coral-xyz/anchor/commit/733ec300b0308e7d007873b0975585d836333fd4</a>)).</p></li>
<li><p>cli: Stream program logs to <cite>.anchor/program-logs</cite> directory when testing ([ce5ca7](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/ce5ca7ddab6e0fd579deddcd02094b3f798bbe6a">https://github.com/coral-xyz/anchor/commit/ce5ca7ddab6e0fd579deddcd02094b3f798bbe6a</a>)).</p></li>
<li><p>spl: Add shared memory api [(d92cb1)](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/d92cb1516b78696d1257e41d0c5ac6821716300e">https://github.com/coral-xyz/anchor/commit/d92cb1516b78696d1257e41d0c5ac6821716300e</a>).</p></li>
<li><p>lang/attribute/access-control: Allow specifying multiple modifier functions ([845df6](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/845df6d1960bb544fa0f2e3331ec79cc804edeb6">https://github.com/coral-xyz/anchor/commit/845df6d1960bb544fa0f2e3331ec79cc804edeb6</a>)).</p></li>
<li><p>lang/syn: Allow state structs that don’t have a ctor or impl block (just trait implementations) ([a78000](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/a7800026833d64579e5b19c90d724ecc20d2a455">https://github.com/coral-xyz/anchor/commit/a7800026833d64579e5b19c90d724ecc20d2a455</a>)).</p></li>
<li><p>ts: Add instruction method to state namespace ([627c27](<a class="reference external" href="https://github.com/coral-xyz/anchor/commit/627c275e9cdf3dafafcf44473ba8146cc7979d44">https://github.com/coral-xyz/anchor/commit/627c275e9cdf3dafafcf44473ba8146cc7979d44</a>)).</p></li>
<li><p>lang/syn, ts: Add support for u128 and i128 ([#83](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/83">https://github.com/coral-xyz/anchor/pull/83</a>)).</p></li>
</ul>
<p>## [0.2.0] - 2021-02-08</p>
<p>### Features</p>
<ul class="simple">
<li><p>lang: Adds the ability to create and use CPI program interfaces ([#66](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/66/files?file-filters%5B%5D=">https://github.com/coral-xyz/anchor/pull/66/files?file-filters%5B%5D=</a>)).</p></li>
</ul>
<p>### Breaking Changes</p>
<ul class="simple">
<li><p>lang, client, ts: Migrate from rust enum based method dispatch to a variant of sighash ([#64](<a class="reference external" href="https://github.com/coral-xyz/anchor/pull/64">https://github.com/coral-xyz/anchor/pull/64</a>)).</p></li>
</ul>
<p>## [0.1.0] - 2021-01-31</p>
<p>Initial release.</p>
<p>### Includes</p>
<ul class="simple">
<li><p>lang: <cite>anchor-lang</cite> crate providing a Rust eDSL for Solana.</p></li>
<li><p>lang/attribute/access-control: Internal attribute macro for function modifiers.</p></li>
<li><p>lang/attribute/account: Internal attribute macro for defining Anchor accounts.</p></li>
<li><p>lang/attribute/error: Internal attribute macro for defining Anchor program errors.</p></li>
<li><p>lang/attribute/program: Internal attribute macro for defining an Anchor program.</p></li>
<li><p>lang/attribute/state: Internal attribute macro for defining an Anchor program state struct.</p></li>
<li><p>lang/derive/accounts: Internal derive macro for defining deserialized account structs.</p></li>
<li><p>lang/syn: Internal crate for parsing the Anchor eDSL, generating code, and an IDL.</p></li>
<li><p>spl: <cite>anchor-spl</cite> crate providing CPI clients for Anchor programs.</p></li>
<li><p>client: <cite>anchor-client</cite> crate providing Rust clients for Anchor programs.</p></li>
<li><p>ts: <cite>&#64;project-serum/anchor</cite> package for generating TypeScript clients.</p></li>
<li><p>cli: Command line interface for managing Anchor programs.</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/pages/docs/release-notes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>