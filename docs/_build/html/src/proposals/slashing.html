<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/proposals/slashing.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-proposals-slashing-md">
<h1>docs/src/proposals/slashing.md<a class="headerlink" href="#docs-src-proposals-slashing-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Slashing rules
—</p>
<p>Unlike Proof of Work (PoW) where off-chain capital expenses are already
deployed at the time of block construction/voting, PoS systems require
capital-at-risk to prevent a logical/optimal strategy of multiple chain voting.
We intend to implement slashing rules which, if broken, result some amount of
the offending validator’s deposited stake to be removed from circulation. Given
the ordering properties of the PoH data structure, we believe we can simplify
our slashing rules to the level of a voting lockout time assigned per vote.</p>
<p>I.e. Each vote has an associated lockout time (PoH duration) that represents
a duration by any additional vote from that validator must be in a PoH that
contains the original vote, or a portion of that validator’s stake is
slashable. This duration time is a function of the initial vote PoH count and
all additional vote PoH counts. It will likely take the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">`text</span>
<span class="pre">Lockouti\(PoHi,</span> <span class="pre">PoHj\)</span> <span class="pre">=</span> <span class="pre">PoHj</span> <span class="pre">+</span> <span class="pre">K</span> <span class="pre">\*</span> <span class="pre">exp\(\(PoHj</span> <span class="pre">-</span> <span class="pre">PoHi\)</span> <span class="pre">/</span> <span class="pre">K\)</span>
<span class="pre">`</span></code></p>
<p>Where PoHi is the height of the vote that the lockout is to be applied to and
PoHj is the height of the current vote on the same fork. If the validator
submits a vote on a different PoH fork on any PoHk where k &amp;gt; j &amp;gt; i and
PoHk &amp;lt; Lockout(PoHi, PoHj), then a portion of that validator’s stake is at
risk of being slashed.</p>
<p>In addition to the functional form lockout described above, early
implementation may be a numerical approximation based on a First In, First Out
(FIFO) data structure and the following logic:</p>
<ul class="simple">
<li><p>FIFO queue holding 32 votes per active validator</p></li>
<li><p>new votes are pushed on top of queue (<cite>push_front</cite>)</p></li>
<li><p>expired votes are popped off top (<cite>pop_front</cite>)</p></li>
<li><p>as votes are pushed into the queue, the lockout of each queued vote doubles</p></li>
<li><p>votes are removed from back of queue if <cite>queue.len() &gt; 32</cite></p></li>
<li><p>the earliest and latest height that has been removed from the back of the
queue should be stored</p></li>
</ul>
<p>It is likely that a reward will be offered as a % of the slashed amount to any
node that submits proof of this slashing condition being violated to the PoH.</p>
<p>### Partial Slashing</p>
<p>In the schema described so far, when a validator votes on a given PoH stream,
they are committing themselves to that fork for a time determined by the vote
lockout. An open question is whether validators will be hesitant to begin
voting on an available fork if the penalties are perceived too harsh for an
honest mistake or flipped bit.</p>
<p>One way to address this concern would be a partial slashing design that results
in a slashable amount as a function of either:</p>
<ol class="arabic simple">
<li><p>the fraction of validators, out of the total validator pool, that were also
slashed during the same time period (ala Casper)</p></li>
<li><p>the amount of time since the vote was cast (e.g. a linearly increasing % of
total deposited as slashable amount over time), or both.</p></li>
</ol>
<p>This is an area currently under exploration.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/src/proposals/slashing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>