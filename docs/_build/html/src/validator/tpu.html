<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/validator/tpu.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-validator-tpu-md">
<h1>docs/src/validator/tpu.md<a class="headerlink" href="#docs-src-validator-tpu-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: TPU
—</p>
<p>TPU (Transaction Processing Unit) is the logic of the validator
responsible for block production.</p>
<p>![TPU Block Diagram](/img/tpu.svg)</p>
<p>Transactions encoded and sent in UDP packets flow into the validator
from clients (other validators/users of the network) as follows:</p>
<ul class="simple">
<li><p>fetch stage: allocates packet memory and reads the packet data from</p></li>
</ul>
<p>the network socket and applies some coalescing of packets received at
the same time.</p>
<ul class="simple">
<li><p>sigverify stage: deduplicates packets and applies some load-shedding</p></li>
</ul>
<p>to remove excessive packets before then filtering packets with invalid
signatures by setting the packet’s discard flag.</p>
<ul class="simple">
<li><p>banking stage: decides whether to forward, hold or process packets</p></li>
</ul>
<p>received. Once it detects the node is the block producer it processes
held packets and newly received packets with a Bank at the tip slot.</p>
<ul class="simple">
<li><p>broadcast stage: receives the valid transactions formed into Entry’s from</p></li>
</ul>
<p>banking stage and packages them into shreds to send to network peers through
the turbine tree structure. Serializes, signs, and generates erasure codes
before sending the packets to the appropriate network peer.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/src/validator/tpu.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>