<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/wallet-guide/hardware-wallets/ledger.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-wallet-guide-hardware-wallets-ledger-md">
<h1>docs/src/wallet-guide/hardware-wallets/ledger.md<a class="headerlink" href="#docs-src-wallet-guide-hardware-wallets-ledger-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Ledger Nano
—</p>
<p>This page describes how to use a Ledger Nano S, Nano S Plus, or Nano X to interact with Solana
using the command line tools.</p>
<p>## Before You Begin</p>
<ul class="simple">
<li><p>[Set up a Nano with the Solana App](<a class="reference external" href="https://support.ledger.com/hc/en-us/articles/360016265659-Solana-SOL">https://support.ledger.com/hc/en-us/articles/360016265659-Solana-SOL</a>-?docs=true)</p></li>
<li><p>[Install the Solana command-line tools](../../cli/install-solana-cli-tools.md)</p></li>
</ul>
<p>## Use Ledger Nano with Solana CLI</p>
<ol class="arabic simple">
<li><p>Ensure the Ledger Live application is closed</p></li>
<li><p>Plug your Nano into your computer’s USB port</p></li>
<li><p>Enter your pin and start the Solana app on the Nano</p></li>
<li><p>Ensure the screen reads “Application is ready”</p></li>
</ol>
<p>### View your Wallet ID</p>
<p>On your computer, run:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger</span>
<span class="pre">`</span></code></p>
<p>This confirms your Ledger device is connected properly and in the correct state
to interact with the Solana CLI. The command returns your Ledger’s unique
_wallet <a href="#id9"><span class="problematic" id="id10">ID_</span></a>. When you have multiple Nano devices connected to the same
computer, you can use your wallet ID to specify which Ledger hardware wallet
you want to use. If you only plan to use a single Nano on your computer
at a time, you don’t need to include the wallet ID. For information on
using the wallet ID to use a specific Ledger, see
[Manage Multiple Hardware Wallets](#manage-multiple-hardware-wallets).</p>
<p>### View your Wallet Addresses</p>
<p>Your Nano supports an arbitrary number of valid wallet addresses and signers.
To view any address, use the <cite>solana-keygen pubkey</cite> command, as shown below,
followed by a valid [keypair URL](../hardware-wallets.md#specify-a-keypair-url).</p>
<p>Multiple wallet addresses can be useful if you want to transfer tokens between
your own accounts for different purposes, or use different keypairs on the
device as signing authorities for a stake account, for example.</p>
<p>All of the following commands will display different addresses, associated with
the keypair path given. Try them out!</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger?key=0</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger?key=1</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger?key=2</span>
<span class="pre">`</span></code></p>
<ul class="simple">
<li><p>NOTE: keypair url parameters are ignored in <strong>zsh</strong>
&amp;nbsp;[see troubleshooting for more info](#troubleshooting)</p></li>
</ul>
<p>You can use other values for the number after <cite>key=</cite> as well.
Any of the addresses displayed by these commands are valid Solana wallet
addresses. The private portion associated with each address is stored securely
on the Nano, and is used to sign transactions from this address.
Just make a note of which keypair URL you used to derive any address you will be
using to receive tokens.</p>
<p>If you are only planning to use a single address/keypair on your device, a good
easy-to-remember path might be to use the address at <cite>key=0</cite>. View this address
with:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger?key=0</span>
<span class="pre">`</span></code></p>
<p>Now you have a wallet address (or multiple addresses), you can share any of
these addresses publicly to act as a receiving address, and you can use the
associated keypair URL as the signer for transactions from that address.</p>
<p>### View your Balance</p>
<p>To view the balance of any account, regardless of which wallet it uses, use the
<cite>solana balance</cite> command:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana</span> <span class="pre">balance</span> <span class="pre">SOME_WALLET_ADDRESS</span>
<span class="pre">`</span></code></p>
<p>For example, if your address is <cite>7cvkjYAkUYs4W8XcXsca7cBrEGFeSUjeZmKoNBvEwyri</cite>,
then enter the following command to view the balance:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana</span> <span class="pre">balance</span> <span class="pre">7cvkjYAkUYs4W8XcXsca7cBrEGFeSUjeZmKoNBvEwyri</span>
<span class="pre">`</span></code></p>
<p>You can also view the balance of any account address on the Accounts tab in the
[Explorer](<a class="reference external" href="https://explorer.solana.com/accounts">https://explorer.solana.com/accounts</a>)
and paste the address in the box to view the balance in you web browser.</p>
<p>Note: Any address with a balance of 0 SOL, such as a newly created one on your
Ledger, will show as “Not Found” in the explorer. Empty accounts and non-existent
accounts are treated the same in Solana. This will change when your account
address has some SOL in it.</p>
<p>### Send SOL from a Nano</p>
<p>To send some tokens from an address controlled by your Nano, you will
need to use the device to sign a transaction, using the same keypair URL you
used to derive the address. To do this, make sure your Nano is plugged in,
unlocked with the PIN, Ledger Live is not running, and the Solana App is open
on the device, showing “Application is Ready”.</p>
<p>The <cite>solana transfer</cite> command is used to specify to which address to send tokens,
how many tokens to send, and uses the <cite>–keypair</cite> argument to specify which
keypair is sending the tokens, which will sign the transaction, and the balance
from the associated address will decrease.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana</span> <span class="pre">transfer</span> <span class="pre">RECIPIENT_ADDRESS</span> <span class="pre">AMOUNT</span> <span class="pre">--keypair</span> <span class="pre">KEYPAIR_URL_OF_SENDER</span>
<span class="pre">`</span></code></p>
<p>Below is a full example. First, an address is viewed at a certain keypair URL.
Second, the balance of that address is checked. Lastly, a transfer transaction
is entered to send <cite>1</cite> SOL to the recipient address <cite>7cvkjYAkUYs4W8XcXsca7cBrEGFeSUjeZmKoNBvEwyri</cite>.
When you hit Enter for a transfer command, you will be prompted to approve the
transaction details on your Ledger device. On the device, use the right and
left buttons to review the transaction details. If they look correct, click
both buttons on the “Approve” screen, otherwise push both buttons on the “Reject”
screen.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>bash
~$ solana-keygen pubkey usb://ledger?key=42
CjeqzArkZt6xwdnZ9NZSf8D1CNJN1rjeFiyd8q7iLWAV</p>
<p>~$ solana balance CjeqzArkZt6xwdnZ9NZSf8D1CNJN1rjeFiyd8q7iLWAV
1.000005 SOL</p>
<p>~$ solana transfer 7cvkjYAkUYs4W8XcXsca7cBrEGFeSUjeZmKoNBvEwyri 1 –keypair usb://ledger?key=42
Waiting for your approval on Ledger hardware wallet usb://ledger/2JT2Xvy6T8hSmT8g6WdeDbHUgoeGdj6bE2VueCZUJmyN
✅ Approved</p>
<p>Signature: kemu9jDEuPirKNRKiHan7ycybYsZp7pFefAdvWZRq5VRHCLgXTXaFVw3pfh87MQcWX4kQY4TjSBmESrwMApom1V
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>After approving the transaction on your device, the program will display the
transaction signature, and wait for the maximum number of confirmations (32)
before returning. This only takes a few seconds, and then the transaction is
finalized on the Solana network. You can view details of this or any other
transaction by going to the Transaction tab in the
[Explorer](<a class="reference external" href="https://explorer.solana.com/transactions">https://explorer.solana.com/transactions</a>)
and paste in the transaction signature.</p>
<p>## Advanced Operations</p>
<p>### Manage Multiple Hardware Wallets</p>
<p>It is sometimes useful to sign a transaction with keys from multiple hardware
wallets. Signing with multiple wallets requires _fully qualified keypair <a href="#id11"><span class="problematic" id="id12">URLs_</span></a>.
When the URL is not fully qualified, the Solana CLI will prompt you with
the fully qualified URLs of all connected hardware wallets, and ask you to
choose which wallet to use for each signature.</p>
<p>Instead of using the interactive prompts, you can generate fully qualified
URLs using the Solana CLI <cite>resolve-signer</cite> command. For example, try
connecting a Nano to USB, unlock it with your pin, and running the
following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">`text</span>
<span class="pre">solana</span> <span class="pre">resolve-signer</span> <span class="pre">usb://ledger?key=0/0</span>
<span class="pre">`</span></code></p>
<p>You will see output similar to:</p>
<p><code class="docutils literal notranslate"><span class="pre">`text</span>
<span class="pre">usb://ledger/BsNsvfXqQTtJnagwFWdBS7FBXgnsK8VZ5CmuznN85swK?key=0/0</span>
<span class="pre">`</span></code></p>
<p>but where <cite>BsNsvfXqQTtJnagwFWdBS7FBXgnsK8VZ5CmuznN85swK</cite> is your <cite>WALLET_ID</cite>.</p>
<p>With your fully qualified URL, you can connect multiple hardware wallets to
the same computer and uniquely identify a keypair from any of them.
Use the output from the <cite>resolve-signer</cite> command anywhere a <cite>solana</cite> command
expects a <cite>&lt;KEYPAIR&gt;</cite> entry to use that resolved path as the signer for that
part of the given transaction.</p>
<p>## Troubleshooting</p>
<p>### Keypair URL parameters are ignored in zsh</p>
<p>The question mark character is a special character in zsh. If that’s not a
feature you use, add the following line to your <cite>~/.zshrc</cite> to treat it as a
normal character:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">unsetopt</span> <span class="pre">nomatch</span>
<span class="pre">`</span></code></p>
<p>Then either restart your shell window or run <cite>~/.zshrc</cite>:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">source</span> <span class="pre">~/.zshrc</span>
<span class="pre">`</span></code></p>
<p>If you would prefer not to disable zsh’s special handling of the question mark
character, you can disable it explicitly with a backslash in your keypair URLs.
For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana-keygen</span> <span class="pre">pubkey</span> <span class="pre">usb://ledger\?key=0</span>
<span class="pre">`</span></code></p>
<p>## Support</p>
<p>Check out our [Wallet Support Page](../support.md)
for ways to get help.</p>
<p>Read more about [sending and receiving tokens](../../cli/transfer-tokens.md) and
[delegating stake](../../cli/delegate-stake.md). You can use your Ledger keypair URL
anywhere you see an option or argument that accepts a <cite>&lt;KEYPAIR&gt;</cite>.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/wallet-guide/hardware-wallets/ledger.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>