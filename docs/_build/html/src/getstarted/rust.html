<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/getstarted/rust.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-getstarted-rust-md">
<h1>docs/src/getstarted/rust.md<a class="headerlink" href="#docs-src-getstarted-rust-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: “Rust Program Quickstart”
description: “This quickstart guide will demonstrate how to quickly setup, build, and deploy your first Rust based Solana program to the blockchain.”
keywords:</p>
<blockquote>
<div><ul class="simple">
<li><p>rust</p></li>
<li><p>cargo</p></li>
<li><p>toml</p></li>
<li><p>program</p></li>
<li><p>tutorial</p></li>
<li><p>intro to solana development</p></li>
<li><p>blockchain developer</p></li>
<li><p>blockchain tutorial</p></li>
<li><p>web3 developer</p></li>
</ul>
</div></blockquote>
<p>—</p>
<p>Rust is the most common programming language to write Solana programs with. This quickstart guide will demonstrate how to quickly setup, build, and deploy your first Rust based Solana program to the blockchain.</p>
<p>&gt; <a href="#id1"><span class="problematic" id="id2">**</span></a>NOTE: **
&gt; This guide uses the Solana CLI and assumes you have setup your local development environment. Checkout our [local development quickstart guide](./local.md) here to quickly get setup.</p>
<p>## What you will learn</p>
<ul class="simple">
<li><p>How to install the Rust language locally</p></li>
<li><p>How to initialize a new Solana Rust program</p></li>
<li><p>How to code a basic Solana program in Rust</p></li>
<li><p>How to build and deploy your Rust program</p></li>
</ul>
<p>## Install Rust and Cargo</p>
<p>To be able to compile Rust based Solana programs, install the Rust language and Cargo (the Rust package manager) using [Rustup](<a class="reference external" href="https://rustup.rs/">https://rustup.rs/</a>):</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">curl</span> <span class="pre">--proto</span> <span class="pre">'=https'</span> <span class="pre">--tlsv1.2</span> <span class="pre">-sSf</span> <span class="pre">https://sh.rustup.rs</span> <span class="pre">|</span> <span class="pre">sh</span>
<span class="pre">`</span></code></p>
<p>## Run your localhost validator</p>
<p>The Solana CLI comes with the [test validator](../developing/test-validator.md) built in. This command line tool will allow you to run a full blockchain cluster on your machine.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana-test-validator</span>
<span class="pre">`</span></code></p>
<p>&gt; <strong>PRO TIP:</strong>
&gt; Run the Solana test validator in a new/separate terminal window that will remain open. This command line program must remain running for your localhost validator to remain online and ready for action.</p>
<p>Configure your Solana CLI to use your localhost validator for all your future terminal commands and Solana program deployment:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana</span> <span class="pre">config</span> <span class="pre">set</span> <span class="pre">--url</span> <span class="pre">localhost</span>
<span class="pre">`</span></code></p>
<p>## Create a new Rust library with Cargo</p>
<p>Solana programs written in Rust are _libraries_ which are compiled to [BPF bytecode](../developing/on-chain-programs/faq.md#berkeley-packet-filter-bpf) and saved in the <cite>.so</cite> format.</p>
<p>Initialize a new Rust library named <cite>hello_world</cite> via the Cargo command line:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cargo</span> <span class="pre">init</span> <span class="pre">hello_world</span> <span class="pre">--lib</span>
<span class="pre">cd</span> <span class="pre">hello_world</span>
<span class="pre">`</span></code></p>
<p>Add the <cite>solana-program</cite> crate to your new Rust library:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cargo</span> <span class="pre">add</span> <span class="pre">solana-program</span>
<span class="pre">`</span></code></p>
<p>Open your <cite>Cargo.toml</cite> file and add these required Rust library configuration settings, updating your project name as appropriate:</p>
<p><code class="docutils literal notranslate"><span class="pre">`toml</span>
<span class="pre">[lib]</span>
<span class="pre">name</span> <span class="pre">=</span> <span class="pre">&quot;hello_world&quot;</span>
<span class="pre">crate-type</span> <span class="pre">=</span> <span class="pre">[&quot;cdylib&quot;,</span> <span class="pre">&quot;lib&quot;]</span>
<span class="pre">`</span></code></p>
<p>## Create your first Solana program</p>
<p>The code for your Rust based Solana program will live in your <cite>src/lib.rs</cite> file. Inside <cite>src/lib.rs</cite> you will be able to import your Rust crates and define your logic. Open your <cite>src/lib.rs</cite> file in your favorite editor.</p>
<p>At the top of <cite>lib.rs</cite>, import the <cite>solana-program</cite> crate and bring our needed items into the local namespace:</p>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a>rust
use solana_program::{</p>
<blockquote>
<div><p>account_info::AccountInfo,
entrypoint,
entrypoint::ProgramResult,
pubkey::Pubkey,
msg,</p>
</div></blockquote>
<section id="id7">
<h2>};<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h2>
<p>Every Solana program must define an <cite>entrypoint</cite> that tells the Solana runtime where to start executing your on chain code. Your program’s [entrypoint](../developing/on-chain-programs/developing-rust#program-entrypoint) should provide a public function named <cite>process_instruction</cite>:</p>
<p><a href="#id8"><span class="problematic" id="id9">``</span></a><a href="#id10"><span class="problematic" id="id11">`</span></a>rust
// declare and export the program’s entrypoint
entrypoint!(process_instruction);</p>
<p>// program entrypoint’s implementation
pub fn process_instruction(</p>
<blockquote>
<div><p>program_id: &amp;Pubkey,
accounts: &amp;[AccountInfo],
instruction_data: &amp;[u8]</p>
</div></blockquote>
<dl>
<dt>) -&gt; ProgramResult {</dt><dd><p>// log a message to the blockchain
msg!(“Hello, world!”);</p>
<p>// gracefully exit the program
Ok(())</p>
</dd>
</dl>
</section>
<section id="id12">
<h2>}<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h2>
<p>Every on chain program should return the <cite>Ok</cite> [result enum](<a class="reference external" href="https://doc.rust-lang.org/std/result/">https://doc.rust-lang.org/std/result/</a>) with a value of <cite>()</cite>. This tells the Solana runtime that your program executed successfully without errors.</p>
<p>This program above will simply [log a message](../developing/on-chain-programs/debugging#logging) of “_Hello, world!_” to the blockchain cluster, then gracefully exit with <cite>Ok(())</cite>.</p>
<p>## Build your Rust program</p>
<p>Inside a terminal window, you can build your Solana Rust program by running in the root of your project (i.e. the directory with your <cite>Cargo.toml</cite> file):</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cargo</span> <span class="pre">build-bpf</span>
<span class="pre">`</span></code></p>
<p>&gt; <strong>NOTE:</strong>
&gt; After each time you build your Solana program, the above command will output the build path of your compiled program’s <cite>.so</cite> file and the default keyfile that will be used for the program’s address.
&gt; <cite>cargo build-bpf</cite> installs the toolchain from the currently installed solana CLI tools. You may need to upgrade those tools if you encounter any version incompatibilities.</p>
<p>## Deploy your Solana program</p>
<p>Using the Solana CLI, you can deploy your program to your currently selected cluster:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">solana</span> <span class="pre">program</span> <span class="pre">deploy</span> <span class="pre">./target/deploy/hello_world.so</span>
<span class="pre">`</span></code></p>
<p>Once your Solana program has been deployed (and the transaction [finalized](../cluster/commitments.md)), the above command will output your program’s public address (aka its “program id”).</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">#</span> <span class="pre">example</span> <span class="pre">output</span>
<span class="pre">Program</span> <span class="pre">Id:</span> <span class="pre">EFH95fWg49vkFNbAdw9vy75tM7sWZ2hQbTTUmuACGip3</span>
<span class="pre">`</span></code></p>
<p>#### Congratulations!</p>
<p>You have successfully setup, built, and deployed a Solana program using the Rust language.</p>
<p>&gt; PS: Check your Solana wallet’s balance again after you deployed. See how much SOL it cost to deploy your simple program?</p>
<p>## Next steps</p>
<p>See the links below to learn more about writing Rust based Solana programs:</p>
<ul class="simple">
<li><p>[Overview of writing Solana programs](../developing/on-chain-programs/overview)</p></li>
<li><p>[Learn more about developing Solana programs with Rust](../developing/on-chain-programs/developing-Rust)</p></li>
<li><p>[Debugging on chain programs](../developing/on-chain-programs/debugging)</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/src/getstarted/rust.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>