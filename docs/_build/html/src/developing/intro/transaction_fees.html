<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/developing/intro/transaction_fees.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-developing-intro-transaction-fees-md">
<h1>docs/src/developing/intro/transaction_fees.md<a class="headerlink" href="#docs-src-developing-intro-transaction-fees-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Transaction Fees
description: “Transaction fees are the small fees paid to process instructions on the network. These fees are based on computation and an optional prioritization fee.”
keywords:</p>
<blockquote>
<div><ul class="simple">
<li><p>instruction fee</p></li>
<li><p>processing fee</p></li>
<li><p>storage fee</p></li>
<li><p>low fee blockchain</p></li>
<li><p>gas</p></li>
<li><p>gwei</p></li>
<li><p>cheap network</p></li>
<li><p>affordable blockchain</p></li>
</ul>
</div></blockquote>
<p>—</p>
<p>The small fees paid to process [instructions](./../../terminology.md#instruction) on the Solana blockchain are known as “_transaction <a href="#id6"><span class="problematic" id="id7">fees_</span></a>”.</p>
<p>As each transaction (which contains one or more instructions) is sent through the network, it gets processed by the current leader validation-client. Once confirmed as a global state transaction, this _transaction <a href="#id8"><span class="problematic" id="id9">fee_</span></a> is paid to the network to help support the economic design of the Solana blockchain.</p>
<p>&gt; NOTE: Transactions fees are different from the blockchain’s data storage fee called [rent](./rent.md)</p>
<p>### Transaction Fee Calculation</p>
<p>Currently, the amount of resources consumed by a transaction do not impact fees in any way. This is because the runtime imposes a small cap on the amount of resources that transaction instructions can use, not to mention that the size of transactions is limited as well. So right now, transaction fees are solely determined by the number of signatures that need to be verified in a transaction. The only limit on the number of signatures in a transaction is the max size of transaction itself. Each signature (64 bytes) in a transaction (max 1232 bytes) must reference a unique public key (32 bytes) so a single transaction could contain as many as 12 signatures (not sure why you would do that). The fee per transaction signature can be fetched with the <cite>solana</cite> cli:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">solana</span> <span class="pre">fees</span>
<span class="pre">Blockhash:</span> <span class="pre">8eULQbYYp67o5tGF2gxACnBCKAE39TetbYYMGTx3iBFc</span>
<span class="pre">Lamports</span> <span class="pre">per</span> <span class="pre">signature:</span> <span class="pre">5000</span>
<span class="pre">Last</span> <span class="pre">valid</span> <span class="pre">block</span> <span class="pre">height:</span> <span class="pre">94236543</span>
<span class="pre">`</span></code></p>
<p>The <cite>solana</cite> cli <cite>fees</cite> subcommand calls the <cite>getFees</cite> RPC API method to retrieve the above output information, so your application can call that method directly as well:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>bash
$ curl <a class="reference external" href="http://api.mainnet-beta.solana.com">http://api.mainnet-beta.solana.com</a> -H “Content-Type: application/json” -d ‘</p>
<blockquote>
<div><p>{“jsonrpc”:”2.0”,”id”:1, “method”:”getFees”}</p>
</div></blockquote>
<p>‘</p>
<p># RESULT (lastValidSlot removed since it’s inaccurate)
{</p>
<blockquote>
<div><p>“jsonrpc”: “2.0”,
“result”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“context”: {</dt><dd><p>“slot”: 106818885</p>
</dd>
</dl>
<p>},
“value”: {</p>
<blockquote>
<div><p>“blockhash”: “78e3YBCMXJBiPD1HpyVtVfFzZFPG6nUycnQcyNMSUQzB”,
“feeCalculator”: {</p>
<blockquote>
<div><p>“lamportsPerSignature”: 5000</p>
</div></blockquote>
<p>},
“lastValidBlockHeight”: 96137823</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“id”: 1</p>
</div></blockquote>
<section id="id5">
<h2>}<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>### Fee Determinism</p>
<p>It’s important to keep in mind that fee rates (such as <cite>lamports_per_signature</cite>) are subject to change from block to block (though that hasn’t happened in the full history of the <cite>mainnet-beta</cite> cluster). Despite the fact that fees can fluctuate, fees for a transaction can still be calculated deterministically when creating (and before signing) a transaction. This determinism comes from the fact that fees are applied using the rates from the block whose blockhash matches the <cite>recent_blockhash</cite> field in a transaction. Blockhashes can only be referenced by a transaction for a few minutes before they expire.</p>
<p>Transactions with expired blockhashes will be ignored and dropped by the cluster, so it’s important to understand how expiration actually works. Before transactions are added to a block and during block validation, [each transaction’s recent blockhash is checked](<a class="reference external" href="https://github.com/solana-labs/solana/blob/647aa926673e3df4443d8b3d9e3f759e8ca2c44b/runtime/src/bank.rs#L3482">https://github.com/solana-labs/solana/blob/647aa926673e3df4443d8b3d9e3f759e8ca2c44b/runtime/src/bank.rs#L3482</a>) to ensure it hasn’t expired yet. The max age of a transaction’s blockhash is only 150 blocks. This means that if no slots are skipped in between, the blockhash for block 100 would be usable by transactions processed in blocks 101 to 252, inclusive (during block 101 the age of block 100 is “0” and during block 252 its age is “150”). However, it’s important to remember that slots may be skipped and that age checks use “block height” _not_ “slot height”. Since slots are skipped occasionally, the actual age of a blockhash can be a bit longer than 150 slots. At the time of writing, slot times are about 500ms and skip rate is about 5% so the expected lifetime of a transaction which uses the most recent blockhash is about 1min 19s.</p>
<p>### Fee Collection</p>
<p>Transactions are required to have at least one account which has signed the transaction and is writable. Writable signer accounts are serialized first in the list of transaction accounts and the first of these accounts is always used as the “fee payer”.</p>
<p>Before any transaction instructions are processed, the fee payer account balance will be deducted to pay for transaction fees. If the fee payer balance is not sufficient to cover transaction fees, the transaction will be dropped by the cluster. If the balance was sufficient, the fees will be deducted whether the transaction is processed successfully or not. In fact, if any of the transaction instructions return an error or violate runtime restrictions, all account changes _except_ the transaction fee deduction will be rolled back.</p>
<p>### Fee Distribution</p>
<p>Transaction fees are partially burned and the remaining fees are collected by the validator that produced the block that the corresponding transactions were included in. The transaction fee burn rate was initialized as 50% when inflation rewards were enabled at the beginning of 2021 and has not changed so far. These fees incentivize a validator to process as many transactions as possible during its slots in the leader schedule. Collected fees are deposited in the validator’s account (listed in the leader schedule for the current slot) after processing all of the transactions included in a block.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/developing/intro/transaction_fees.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>