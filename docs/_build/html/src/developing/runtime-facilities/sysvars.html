<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/src/developing/runtime-facilities/sysvars.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-src-developing-runtime-facilities-sysvars-md">
<h1>docs/src/developing/runtime-facilities/sysvars.md<a class="headerlink" href="#docs-src-developing-runtime-facilities-sysvars-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-11 21:38:33</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>---
</pre></div>
</div>
<p>title: Sysvar Cluster Data
—</p>
<p>Solana exposes a variety of cluster state data to programs via
[<cite>sysvar</cite>](terminology.md#sysvar) accounts. These accounts are populated at
known addresses published along with the account layouts in the
[<cite>solana-program</cite>
crate](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/index.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/index.html</a>),
and outlined below.</p>
<p>There are two ways for a program to access a sysvar.</p>
<p>The first is to query the sysvar at runtime via the sysvar’s <cite>get()</cite> function:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">let</span> <span class="pre">clock</span> <span class="pre">=</span> <span class="pre">Clock::get()</span>
<span class="pre">`</span></code></p>
<p>The following sysvars support <cite>get</cite>:
- Clock
- EpochSchedule
- Fees
- Rent
- EpochRewards</p>
<p>The second is to pass the sysvar to the program as an account by including its address as one of the accounts in the <cite>Instruction</cite> and then deserializing the data during execution.  Access to sysvars accounts is
always _readonly_.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">let</span> <span class="pre">clock_sysvar_info</span> <span class="pre">=</span> <span class="pre">next_account_info(account_info_iter)?;</span>
<span class="pre">let</span> <span class="pre">clock</span> <span class="pre">=</span> <span class="pre">Clock::from_account_info(&amp;clock_sysvar_info)?;</span>
<span class="pre">`</span></code></p>
<p>The first method is more efficient and does not require that the sysvar account be passed to the program, or specified in the <cite>Instruction</cite> the program is processing.</p>
<p>## Clock</p>
<p>The Clock sysvar contains data on cluster time, including the current slot,
epoch, and estimated wall-clock Unix timestamp. It is updated every slot.</p>
<ul>
<li><p>Address: <cite>SysvarC1ock11111111111111111111111111111111</cite></p></li>
<li><p>Layout: [Clock](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/clock/struct.Clock.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/clock/struct.Clock.html</a>)</p></li>
<li><p>Fields:</p>
<ul class="simple">
<li><p><cite>slot</cite>: the current slot</p></li>
<li><p><cite>epoch_start_timestamp</cite>: the Unix timestamp of the first slot in this epoch. In the first slot of an epoch, this timestamp is identical to the <cite>unix_timestamp</cite> (below).</p></li>
<li><p><cite>epoch</cite>: the current epoch</p></li>
<li><p><cite>leader_schedule_epoch</cite>: the most recent epoch for which the leader schedule has already been generated</p></li>
<li><p><cite>unix_timestamp</cite>: the Unix timestamp of this slot.</p></li>
</ul>
<p>Each slot has an estimated duration based on Proof of History. But in reality,
slots may elapse faster and slower than this estimate. As a result, the Unix
timestamp of a slot is generated based on oracle input from voting validators.
This timestamp is calculated as the stake-weighted median of timestamp
estimates provided by votes, bounded by the expected time elapsed since the
start of the epoch.</p>
<p>More explicitly: for each slot, the most recent vote timestamp provided by
each validator is used to generate a timestamp estimate for the current slot
(the elapsed slots since the vote timestamp are assumed to be
Bank::ns_per_slot). Each timestamp estimate is associated with the stake
delegated to that vote account to create a distribution of timestamps by
stake. The median timestamp is used as the <cite>unix_timestamp</cite>, unless the
elapsed time since the <cite>epoch_start_timestamp</cite> has deviated from the expected
elapsed time by more than 25%.</p>
</li>
</ul>
<p>## EpochSchedule</p>
<p>The EpochSchedule sysvar contains epoch scheduling constants that are set in
genesis, and enables calculating the number of slots in a given epoch, the epoch
for a given slot, etc. (Note: the epoch schedule is distinct from the [<cite>leader schedule</cite>](terminology.md#leader-schedule))</p>
<ul class="simple">
<li><p>Address: <cite>SysvarEpochSchedu1e111111111111111111111111</cite></p></li>
<li><p>Layout:
[EpochSchedule](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/epoch_schedule/struct.EpochSchedule.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/epoch_schedule/struct.EpochSchedule.html</a>)</p></li>
</ul>
<p>## Fees</p>
<p>The Fees sysvar contains the fee calculator for the current slot. It is updated
every slot, based on the fee-rate governor.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarFees111111111111111111111111111111111</cite></p></li>
<li><p>Layout:
[Fees](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/fees/struct.Fees.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/fees/struct.Fees.html</a>)</p></li>
</ul>
<p>## Instructions</p>
<p>The Instructions sysvar contains the serialized instructions in a Message while
that Message is being processed. This allows program instructions to reference
other instructions in the same transaction. Read more information on
[instruction introspection](implemented-proposals/instruction_introspection.md).</p>
<ul class="simple">
<li><p>Address: <cite>Sysvar1nstructions1111111111111111111111111</cite></p></li>
<li><p>Layout:
[Instructions](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/instructions/struct.Instructions.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/instructions/struct.Instructions.html</a>)</p></li>
</ul>
<p>## RecentBlockhashes</p>
<p>The RecentBlockhashes sysvar contains the active recent blockhashes as well as
their associated fee calculators. It is updated every slot. Entries are ordered
by descending block height, so the first entry holds the most recent block hash,
and the last entry holds an old block hash.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarRecentB1ockHashes11111111111111111111</cite></p></li>
<li><p>Layout:
[RecentBlockhashes](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/recent_blockhashes/struct.RecentBlockhashes.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/sysvar/recent_blockhashes/struct.RecentBlockhashes.html</a>)</p></li>
</ul>
<p>## Rent</p>
<p>The Rent sysvar contains the rental rate. Currently, the rate is static and set
in genesis. The Rent burn percentage is modified by manual feature activation.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarRent111111111111111111111111111111111</cite></p></li>
<li><p>Layout:
[Rent](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/rent/struct.Rent.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/rent/struct.Rent.html</a>)</p></li>
</ul>
<p>## SlotHashes</p>
<p>The SlotHashes sysvar contains the most recent hashes of the slot’s parent
banks. It is updated every slot.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarS1otHashes111111111111111111111111111</cite></p></li>
<li><p>Layout:
[SlotHashes](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/slot_hashes/struct.SlotHashes.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/slot_hashes/struct.SlotHashes.html</a>)</p></li>
</ul>
<p>## SlotHistory</p>
<p>The SlotHistory sysvar contains a bitvector of slots present over the last
epoch. It is updated every slot.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarS1otHistory11111111111111111111111111</cite></p></li>
<li><p>Layout:
[SlotHistory](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/slot_history/struct.SlotHistory.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/slot_history/struct.SlotHistory.html</a>)</p></li>
</ul>
<p>## StakeHistory</p>
<p>The StakeHistory sysvar contains the history of cluster-wide stake activations
and de-activations per epoch. It is updated at the start of every epoch.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarStakeHistory1111111111111111111111111</cite></p></li>
<li><p>Layout:
[StakeHistory](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/stake_history/struct.StakeHistory.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/stake_history/struct.StakeHistory.html</a>)</p></li>
</ul>
<p>## EpochRewards</p>
<p>The EpochRewards sysvar tracks the progress of epoch rewards distribution. The
sysvar is created in the first block of the epoch, and lasts for several blocks
while paying out the rewards. When all rewards have been distributed, the sysvar
is deleted. Unlike other sysvars, which almost always exist on-chain,
EpochRewards sysvar only exists during the reward period. Therefore, calling
<cite>EpochRewards::get()</cite> on blocks that are outside of the reward period will
return an error, i.e. <cite>UnsupportedSysvar</cite>. This can serve as a method for
determining whether epoch rewards distribution has finished.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarEpochRewards1111111111111111111111111</cite></p></li>
<li><p>Layout:
[EpochRewards](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/epoch_rewards/struct.EpochRewards.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/epoch_rewards/struct.EpochRewards.html</a>)</p></li>
</ul>
<p>## LastRestartSlot</p>
<p>The LastRestartSlot sysvar contains the slot number of the last restart or _0_ (zero) if none ever happened.</p>
<ul class="simple">
<li><p>Address: <cite>SysvarLastRestartS1ot1111111111111111111111</cite></p></li>
<li><p>Layout:
[LastRestartSlot](<a class="reference external" href="https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/last_restart_slot/struct.LastRestartSlot.html">https://docs.rs/solana-program/VERSION_FOR_DOCS_RS/solana_program/last_restart_slot/struct.LastRestartSlot.html</a>)</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/developing/runtime-facilities/sysvars.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>