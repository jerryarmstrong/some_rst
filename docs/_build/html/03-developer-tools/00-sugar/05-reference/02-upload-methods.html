<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docs/03-developer-tools/00-sugar/05-reference/02-upload-methods.md &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docs-03-developer-tools-00-sugar-05-reference-02-upload-methods-md">
<h1>docs/03-developer-tools/00-sugar/05-reference/02-upload-methods.md<a class="headerlink" href="#docs-03-developer-tools-00-sugar-05-reference-02-upload-methods-md" title="Permalink to this heading">¶</a></h1>
<p>Last edited: 2023-08-08 19:56:25</p>
<p>Contents:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gh"># Upload Methods</span>
</pre></div>
</div>
<p>There are currently four upload (storage) methods available in Sugar: <cite>“aws”</cite>, <cite>“bundlr”</cite>, <cite>“nft_storage”</cite> and <cite>“shdw”</cite>.</p>
<p>:::info</p>
<p>The upload methods in Sugar are designed using a Rust trait to make it easier for new methods to be added, therefore Sugar can support a wide-variety of upload methods&amp;mdash;check the [<strong>Bring your own uploader</strong>](../developer/bring-your-own-uploader) section in the Developer Guide.</p>
<p>::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Amazon (AWS) S3</span>
</pre></div>
</div>
<p>Configuration settings:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>json
{</p>
<blockquote>
<div><p>…
“uploadMethod”: “aws”,
…
“awsConfig”:
{</p>
<blockquote>
<div><p>“bucket”: “&lt;BUCKET_NAME&gt;”,
“profile”: “&lt;PROFILE_NAME&gt;”,
“directory”: “&lt;DIRECTORY_NAME&gt;”,
“domain”: “&lt;DOMAIN_NAME&gt;”</p>
</div></blockquote>
<p>},
…</p>
</div></blockquote>
<section id="id5">
<h2>}<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>This method uploads files to Amazon S3 storage. When using the <cite>“aws”</cite>, you need to specify the bucket, profile, and directory values in the configuration file under “awsConfig” and set up the credentials in your system. In most cases, this will involve creating a file <cite>~/.aws/credentials</cite> with the following properties:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">[default]</span>
<span class="pre">aws_access_key_id=&lt;ACCESS</span> <span class="pre">KEY</span> <span class="pre">ID&gt;</span>
<span class="pre">aws_secret_access_key=&lt;SECRET</span> <span class="pre">ACCESS</span> <span class="pre">KEY&gt;</span>
<span class="pre">region=&lt;REGION&gt;</span>
<span class="pre">`</span></code></p>
<p>It is also important to set up the ACL permission of the bucket correctly to enable <cite>“public-read”</cite> and apply Cross-Origin Resource Sharing (CORS) rules to enable content access requested from a different origin (necessary to enable wallets and blockchain explorers load the metadata/media files). More information about these configurations can be found at:</p>
<ul class="simple">
<li><p>[Bucket policy examples](<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html</a>)</p></li>
<li><p>[CORS configuration](<a class="reference external" href="https://aws.amazon.com/premiumsupport/knowledge-center/s3-configure-cors/">https://aws.amazon.com/premiumsupport/knowledge-center/s3-configure-cors/</a>)</p></li>
</ul>
<p>The <cite>profile</cite> value allows you to specify which profile to read from your credentials file. The <cite>directory</cite> value is the name of the directory in the bucket where the files will be uploaded, allowing you to have multiple candy machine or collections in a single bucket separated by different directories. Leaving this as an empty string will upload the files to the root of the bucket. The <cite>domain</cite> (optional) allows you to specify a custom domain to serve the data from AWS &amp;mdash; e.g., using the <cite>domain</cite> as <cite>https://mydomain.com</cite> will create links to files in the format <cite>https://mydomain.com/0.json</cite>. If you do not specify a <cite>domain</cite>, the default AWS S3 domain will be used (<cite>https://&lt;BUCKET_NAME&gt;.s3.amazonaws.com</cite>).</p>
<p>## Bundlr</p>
<p>Configuration settings:</p>
<p><a href="#id6"><span class="problematic" id="id7">``</span></a><a href="#id8"><span class="problematic" id="id9">`</span></a>json
{</p>
<blockquote>
<div><p>…
“uploadMethod”: “bundlr”,
…</p>
</div></blockquote>
</section>
<section id="id10">
<h2>}<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h2>
<p>&gt; <strong>Note:</strong> Files are only stored for 7 days when uploaded with Bundlr on <cite>devnet</cite>.</p>
<p>Uploads to [Arweave](<a class="reference external" href="https://www.arweave.org/">https://www.arweave.org/</a>) using [Bundlr Network](<a class="reference external" href="https://bundlr.network/">https://bundlr.network/</a>) and payments are made in <cite>SOL</cite>.</p>
<p>## Pinata</p>
<p>Configuration settings:</p>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a>json
{</p>
<blockquote>
<div><p>…
“uploadMethod”: “pinata”,
…
“pinataConfig”:
{</p>
<blockquote>
<div><p>“jwt”: “&lt;JWT&gt;”,
“apiGateway”: “&lt;URL&gt;”,
“contentGateway”: “&lt;URL&gt;”,
“parallelLimit”: “&lt;NUMBER&gt;”</p>
</div></blockquote>
<p>},
…</p>
</div></blockquote>
</section>
<section id="id15">
<h2>}<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h2>
<p>This method uploads files to Pinata storage. When using the <cite>“pinata”</cite>, you need to specify the <cite>jwt</cite>, <cite>apiGateway</cite>, and <cite>contentGateway</cite> values in the configuration file under “pinataConfig”:
- <cite>jwt</cite>: JWT authentication token
- <cite>apiGateway</cite>: URL to connect to Pinata API (use <cite>https://api.pinata.cloud</cite> for the public API endpoint)
- <cite>contentGateway</cite>: URL to use as the base for creating the asset links (use <cite>https://gateway.pinata.cloud</cite> for the public gateway)
- <cite>parallelLimit</cite>: (optional) number of concurrent upload, adjust this value to avoid rate limits.</p>
<p>:::info</p>
<p>The public gateways are not intended to be used in production &amp;mdash; they are good to be used for testing. They are heavily rate limited and not designed for speed.</p>
<p>::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## NFT.Storage</span>
</pre></div>
</div>
<p>Configuration settings:</p>
<p><a href="#id16"><span class="problematic" id="id17">``</span></a><a href="#id18"><span class="problematic" id="id19">`</span></a>json
{</p>
<blockquote>
<div><p>…
“uploadMethod”: “nft_storage”,
…
“nftStorageAuthToken”: “&lt;AUTH_TOKEN&gt;”,
…</p>
</div></blockquote>
</section>
<section id="id20">
<h2>}<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h2>
<p>[NFT.Storage](<a class="reference external" href="https://nft.storage">https://nft.storage</a>) is a popular free service that uploads data on the public IPFS network. You will need to register an account to obtain an API key (token), which need to be specified by <cite>“nftStorageAuthToken”</cite> in the configuration file.</p>
<p>## Shadow Drive</p>
<p>Configuration settings:</p>
<p><a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a>json
{</p>
<blockquote>
<div><p>…
“uploadMethod”: “shdw”,
…
“shdwStorageAccount”: “&lt;STORAGE PUBKEY&gt;”,
…</p>
</div></blockquote>
</section>
<section id="id25">
<h2>}<a class="headerlink" href="#id25" title="Permalink to this heading">¶</a></h2>
<p>[Shadow Drive](<a class="reference external" href="https://shdw.genesysgo.com/shadow-infrastructure-overview/shadow-drive-overview">https://shdw.genesysgo.com/shadow-infrastructure-overview/shadow-drive-overview</a>) is a decentralized storage network built specifically for the Solana blockchain. In order to upload data to the Shadow Drive you will need to first create a storage account. This can be done using the [Shadow Drive CLI](<a class="reference external" href="https://shdw.genesysgo.com/using-shadow-drive/the-shadow-drive-platform/shadow-drive-cli">https://shdw.genesysgo.com/using-shadow-drive/the-shadow-drive-platform/shadow-drive-cli</a>). After creating a storage account, specify its pubkey address in the configuration file using the property <cite>“shdwStorageAccount”</cite>.</p>
<p>:::info</p>
<p>The Shadow Drive upload method is only available on <cite>mainnet</cite>.</p>
<p>::</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/03-developer-tools/00-sugar/05-reference/02-upload-methods.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>