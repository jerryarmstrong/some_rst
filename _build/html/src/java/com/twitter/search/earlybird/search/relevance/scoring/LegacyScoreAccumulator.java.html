<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../../../../../../../" id="documentation_options" src="../../../../../../../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../../../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>package com.twitter.search.earlybird.search.relevance.scoring;</p>
<p>import com.twitter.search.common.util.ml.prediction_engine.BaseLegacyScoreAccumulator;
import com.twitter.search.common.util.ml.prediction_engine.LightweightLinearModel;
import com.twitter.search.earlybird.search.relevance.LinearScoringData;
import com.twitter.search.modeling.tweet_ranking.TweetScoringFeatures;</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Legacy score accumulator in Earlybird with specific features added.</p></li>
<li><p>This class is created to avoid adding LinearScoringData as a dependency to searchâ€™s common ML</p></li>
<li><p>library.</p></li>
<li></li>
<li><p>&#64;deprecated This class is retired and we suggest to switch to SchemaBasedScoreAccumulator.</p></li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>/</p>
</dd>
</dl>
<p>&#64;Deprecated
public class LegacyScoreAccumulator extends BaseLegacyScoreAccumulator&lt;LinearScoringData&gt; {</p>
<blockquote>
<div><dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Constructs with a model and LinearScoringData</p></li>
</ul>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>/</p>
</dd>
<dt>LegacyScoreAccumulator(LightweightLinearModel model) {</dt><dd><p>super(model);</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Update the accumulator score with features, after this function the score should already</p></li>
<li><p>be computed.</p></li>
<li></li>
<li><p>&#64;deprecated This function is retired and we suggest to switch to updateScoresWithFeatures in</p></li>
<li><p>SchemaBasedScoreAccumulator.</p></li>
</ul>
<p><a href="#id5"><span class="problematic" id="id6">*</span></a>/</p>
</dd>
</dl>
<p>&#64;Override
&#64;Deprecated
protected void updateScoreWithFeatures(LinearScoringData data) {</p>
<blockquote>
<div><p>addContinuousFeature(TweetScoringFeatures.LUCENE_SCORE, data.luceneScore);
addContinuousFeature(TweetScoringFeatures.TEXT_SCORE, data.textScore);
addContinuousFeature(TweetScoringFeatures.TWEET_AGE_IN_SECONDS, data.tweetAgeInSeconds);
addContinuousFeature(TweetScoringFeatures.REPLY_COUNT, data.replyCountPostLog2);
addContinuousFeature(TweetScoringFeatures.RETWEET_COUNT, data.retweetCountPostLog2);
addContinuousFeature(TweetScoringFeatures.FAV_COUNT, data.favCountPostLog2);
addContinuousFeature(TweetScoringFeatures.REPLY_COUNT_V2, data.replyCountV2);
addContinuousFeature(TweetScoringFeatures.RETWEET_COUNT_V2, data.retweetCountV2);
addContinuousFeature(TweetScoringFeatures.FAV_COUNT_V2, data.favCountV2);
addContinuousFeature(TweetScoringFeatures.EMBEDS_IMPRESSION_COUNT,</p>
<blockquote>
<div><p>data.getEmbedsImpressionCount(false));</p>
</div></blockquote>
<p>addContinuousFeature(TweetScoringFeatures.EMBEDS_URL_COUNT, data.getEmbedsUrlCount(false));
addContinuousFeature(TweetScoringFeatures.VIDEO_VIEW_COUNT, data.getVideoViewCount(false));
addContinuousFeature(TweetScoringFeatures.QUOTED_COUNT, data.quotedCount);
addContinuousFeature(TweetScoringFeatures.WEIGHTED_RETWEET_COUNT, data.weightedRetweetCount);
addContinuousFeature(TweetScoringFeatures.WEIGHTED_REPLY_COUNT, data.weightedReplyCount);
addContinuousFeature(TweetScoringFeatures.WEIGHTED_FAV_COUNT, data.weightedFavCount);
addContinuousFeature(TweetScoringFeatures.WEIGHTED_QUOTE_COUNT, data.weightedQuoteCount);
addBinaryFeature(TweetScoringFeatures.HAS_URL, data.hasUrl);
addBinaryFeature(TweetScoringFeatures.HAS_CARD, data.hasCard);
addBinaryFeature(TweetScoringFeatures.HAS_VINE, data.hasVine);
addBinaryFeature(TweetScoringFeatures.HAS_PERISCOPE, data.hasPeriscope);
addBinaryFeature(TweetScoringFeatures.HAS_NATIVE_IMAGE, data.hasNativeImage);
addBinaryFeature(TweetScoringFeatures.HAS_IMAGE_URL, data.hasImageUrl);
addBinaryFeature(TweetScoringFeatures.HAS_NEWS_URL, data.hasNewsUrl);
addBinaryFeature(TweetScoringFeatures.HAS_VIDEO_URL, data.hasVideoUrl);
addBinaryFeature(TweetScoringFeatures.HAS_CONSUMER_VIDEO, data.hasConsumerVideo);
addBinaryFeature(TweetScoringFeatures.HAS_PRO_VIDEO, data.hasProVideo);
addBinaryFeature(TweetScoringFeatures.HAS_QUOTE, data.hasQuote);
addBinaryFeature(TweetScoringFeatures.HAS_TREND, data.hasTrend);
addBinaryFeature(TweetScoringFeatures.HAS_MULTIPLE_HASHTAGS_OR_TRENDS,</p>
<blockquote>
<div><p>data.hasMultipleHashtagsOrTrends);</p>
</div></blockquote>
<p>addBinaryFeature(TweetScoringFeatures.IS_OFFENSIVE, data.isOffensive);
addBinaryFeature(TweetScoringFeatures.IS_REPLY, data.isReply);
addBinaryFeature(TweetScoringFeatures.IS_RETWEET, data.isRetweet);
addBinaryFeature(TweetScoringFeatures.IS_SELF_TWEET, data.isSelfTweet);
addBinaryFeature(TweetScoringFeatures.IS_FOLLOW_RETWEET, data.isRetweet &amp; data.isFollow);
addBinaryFeature(TweetScoringFeatures.IS_TRUSTED_RETWEET, data.isRetweet &amp; data.isTrusted);
addContinuousFeature(TweetScoringFeatures.QUERY_SPECIFIC_SCORE, data.querySpecificScore);
addContinuousFeature(TweetScoringFeatures.AUTHOR_SPECIFIC_SCORE, data.authorSpecificScore);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_FOLLOW, data.isFollow);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_TRUSTED, data.isTrusted);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_VERIFIED, data.isFromVerifiedAccount);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_NSFW, data.isUserNSFW);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_SPAM, data.isUserSpam);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_BOT, data.isUserBot);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_ANTISOCIAL, data.isUserAntiSocial);
addContinuousFeature(TweetScoringFeatures.AUTHOR_REPUTATION, data.userRep);
addContinuousFeature(TweetScoringFeatures.SEARCHER_LANG_SCORE, data.userLangMult);
addBinaryFeature(TweetScoringFeatures.HAS_DIFFERENT_LANG, data.hasDifferentLang);
addBinaryFeature(TweetScoringFeatures.HAS_ENGLISH_TWEET_AND_DIFFERENT_UI_LANG,</p>
<blockquote>
<div><p>data.hasEnglishTweetAndDifferentUILang);</p>
</div></blockquote>
<dl class="simple">
<dt>addBinaryFeature(TweetScoringFeatures.HAS_ENGLISH_UI_AND_DIFFERENT_TWEET_LANG,</dt><dd><p>data.hasEnglishUIAndDifferentTweetLang);</p>
</dd>
</dl>
<p>addBinaryFeature(TweetScoringFeatures.IS_SENSITIVE_CONTENT, data.isSensitiveContent);
addBinaryFeature(TweetScoringFeatures.HAS_MULTIPLE_MEDIA, data.hasMultipleMediaFlag);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_PROFILE_EGG, data.profileIsEggFlag);
addBinaryFeature(TweetScoringFeatures.AUTHOR_IS_NEW, data.isUserNewFlag);
addContinuousFeature(TweetScoringFeatures.MENTIONS_COUNT, data.numMentions);
addContinuousFeature(TweetScoringFeatures.HASHTAGS_COUNT, data.numHashtags);
addContinuousFeature(TweetScoringFeatures.LINK_LANGUAGE_ID, data.linkLanguage);
addContinuousFeature(TweetScoringFeatures.LANGUAGE_ID, data.tweetLangId);
addBinaryFeature(TweetScoringFeatures.HAS_VISIBLE_LINK, data.hasVisibleLink);</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../../../../../index.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../../../../../../../_sources/src/java/com/twitter/search/earlybird/search/relevance/scoring/LegacyScoreAccumulator.java.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>