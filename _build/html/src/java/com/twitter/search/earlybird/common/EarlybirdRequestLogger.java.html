<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../../../../../" id="documentation_options" src="../../../../../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>package com.twitter.search.earlybird.common;</p>
<p>import java.util.EnumMap;
import java.util.Map;</p>
<p>import scala.Option;</p>
<p>import com.google.common.annotations.VisibleForTesting;
import com.google.common.collect.Maps;</p>
<p>import com.twitter.context.TwitterContext;
import com.twitter.context.thriftscala.Viewer;
import com.twitter.decider.Decider;
import com.twitter.finagle.thrift.ClientId;
import com.twitter.finagle.thrift.ClientId$;
import com.twitter.search.TwitterContextPermit;
import com.twitter.search.common.constants.thriftjava.ThriftQuerySource;
import com.twitter.search.common.decider.DeciderUtil;
import com.twitter.search.common.logging.RPCLogger;
import com.twitter.search.common.metrics.FailureRatioCounter;
import com.twitter.search.common.metrics.Timer;
import com.twitter.search.common.util.earlybird.TermStatisticsUtil;
import com.twitter.search.common.util.earlybird.ThriftSearchResultUtil;
import com.twitter.search.earlybird.thrift.EarlybirdRequest;
import com.twitter.search.earlybird.thrift.EarlybirdResponse;
import com.twitter.search.earlybird.thrift.ThriftFacetFieldRequest;
import com.twitter.search.earlybird.thrift.ThriftHistogramSettings;
import com.twitter.search.earlybird.thrift.ThriftSearchQuery;
import com.twitter.search.earlybird.thrift.ThriftTermStatisticsRequest;</p>
<dl>
<dt>import static com.twitter.search.common.util.earlybird.EarlybirdResponseUtil</dt><dd><p>.responseConsideredFailed;</p>
</dd>
<dt>public class EarlybirdRequestLogger extends RPCLogger {</dt><dd><dl class="simple">
<dt>protected enum ExtraFields {</dt><dd><p>QUERY_MAX_HITS_TO_PROCESS,
COLLECTOR_PARAMS_MAX_HITS_TO_PROCESS,
RELEVANCE_OPTIONS_MAX_HITS_TO_PROCESS,
NUM_HITS_PROCESSED,
QUERY_COST,
CPU_TOTAL,
QUERY_SOURCE,
CLIENT_ID,
FINAGLE_CLIENT_ID</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>protected enum ShardOnlyExtraFields {</dt><dd><p>NUM_SEARCHED_SEGMENTS,
SCORING_TIME_NANOS</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>protected enum RootOnlyExtraFields {</dt><dd><p>CACHING_ALLOWED,
DEBUG_MODE,
CACHE_HIT,
USER_AGENT,
// See JIRA APPSEC-2303 for IP addresses logging</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>private static final String LOG_FULL_REQUEST_DETAILS_ON_ERROR_DECIDER_KEY =</dt><dd><p>“log_full_request_details_on_error”;</p>
</dd>
<dt>private static final String LOG_FULL_REQUEST_DETAILS_RANDOM_FRACTION_DECIDER_KEY =</dt><dd><p>“log_full_request_details_random_fraction”;</p>
</dd>
<dt>private static final String LOG_FULL_SLOW_REQUEST_DETAILS_RANDOM_FRACTION_DECIDER_KEY =</dt><dd><p>“log_full_slow_request_details_random_fraction”;</p>
</dd>
<dt>private static final String SLOW_REQUEST_LATENCY_THRESHOLD_MS_DECIDER_KEY =</dt><dd><p>“slow_request_latency_threshold_ms”;</p>
</dd>
</dl>
<p>private final Decider decider;
private final boolean enableLogUnknownClientRequests;</p>
<dl>
<dt>private static final Map&lt;ThriftQuerySource, FailureRatioCounter&gt;</dt><dd><p>FAILURE_RATIO_COUNTER_BY_QUERY_SOURCE = preBuildFailureRatioCounters();</p>
</dd>
<dt>private static final FailureRatioCounter NO_QUERY_SOURCE_FAILURE_RATIO_COUNTER =</dt><dd><p>new FailureRatioCounter(“earlybird_logger”, “query_source”, “not_set”);</p>
</dd>
<dt>static EarlybirdRequestLogger buildForRoot(</dt><dd><blockquote>
<div><p>String loggerName, int latencyWarnThreshold, Decider decider) {</p>
</div></blockquote>
<dl class="simple">
<dt>return new EarlybirdRequestLogger(loggerName, latencyWarnThreshold,</dt><dd><p>decider, true, RPCLogger.Fields.values(), ExtraFields.values(),
RootOnlyExtraFields.values());</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
<dl>
<dt>static EarlybirdRequestLogger buildForShard(</dt><dd><blockquote>
<div><p>String loggerName, int latencyWarnThreshold, Decider decider) {</p>
</div></blockquote>
<dl class="simple">
<dt>return new EarlybirdRequestLogger(loggerName, latencyWarnThreshold,</dt><dd><p>decider, false, RPCLogger.Fields.values(), ExtraFields.values(),
ShardOnlyExtraFields.values());</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
<p>&#64;VisibleForTesting
EarlybirdRequestLogger(String loggerName, int latencyWarnThreshold, Decider decider) {</p>
<blockquote>
<div><dl class="simple">
<dt>this(loggerName, latencyWarnThreshold, decider, false, RPCLogger.Fields.values(),</dt><dd><p>ExtraFields.values(), RootOnlyExtraFields.values(), ShardOnlyExtraFields.values());</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
<dl>
<dt>private EarlybirdRequestLogger(String loggerName, int latencyWarnThreshold, Decider decider,</dt><dd><blockquote>
<div><p>boolean enableLogUnknownClientRequests, Enum[]… fieldEnums) {</p>
</div></blockquote>
<p>super(loggerName, fieldEnums);
this.decider = decider;
this.enableLogUnknownClientRequests = enableLogUnknownClientRequests;
setLatencyWarnThreshold(latencyWarnThreshold);</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Logs the given earlybird request and response.</p></li>
<li></li>
<li><p>&#64;param request The earlybird request.</p></li>
<li><p>&#64;param response The earlybird response.</p></li>
<li><p>&#64;param timer The time it took to process this request.</p></li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>/</p>
</dd>
<dt>public void logRequest(EarlybirdRequest request, EarlybirdResponse response, Timer timer) {</dt><dd><dl>
<dt>try {</dt><dd><p>LogEntry entry = newLogEntry();</p>
<p>setRequestLogEntries(entry, request);
setResponseLogEntries(entry, response);
if (timer != null) {</p>
<blockquote>
<div><p>entry.setField(ExtraFields.CPU_TOTAL, Long.toString(timer.getElapsedCpuTotal()));</p>
</div></blockquote>
<p>}</p>
<p>boolean wasError = response != null &amp;&amp; responseConsideredFailed(response.getResponseCode());</p>
<p>long responseTime = response != null ? response.getResponseTime() : 0L;</p>
<p>String logLine = writeLogLine(entry, responseTime, wasError);</p>
<p>// This code path is called for pre/post logging
// Prevent same request showing up twice by only logging on post logging
if (response != null &amp;&amp; DeciderUtil.isAvailableForRandomRecipient(</p>
<blockquote>
<div><blockquote>
<div><p>decider, LOG_FULL_REQUEST_DETAILS_RANDOM_FRACTION_DECIDER_KEY)) {</p>
</div></blockquote>
<p>Base64RequestResponseForLogging.randomRequest(logLine, request, response).log();</p>
</div></blockquote>
<p>}</p>
<p>// Unknown client request logging only applies to pre-logging.
if (enableLogUnknownClientRequests &amp;&amp; response == null) {</p>
<blockquote>
<div><dl class="simple">
<dt>UnknownClientRequestForLogging unknownClientRequestLogger =</dt><dd><p>UnknownClientRequestForLogging.unknownClientRequest(logLine, request);</p>
</dd>
<dt>if (unknownClientRequestLogger != null) {</dt><dd><p>unknownClientRequestLogger.log();</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
<dl>
<dt>if (wasError</dt><dd><blockquote>
<div><p>&amp;&amp; DeciderUtil.isAvailableForRandomRecipient(
decider, LOG_FULL_REQUEST_DETAILS_ON_ERROR_DECIDER_KEY)) {</p>
</div></blockquote>
<p>new RequestResponseForLogging(request, response).logFailedRequest();
Base64RequestResponseForLogging.failedRequest(logLine, request, response).log();</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>boolean wasSlow = response != null</dt><dd><dl class="simple">
<dt>&amp;&amp; responseTime &gt;= DeciderUtil.getAvailability(</dt><dd><p>decider, SLOW_REQUEST_LATENCY_THRESHOLD_MS_DECIDER_KEY);</p>
</dd>
</dl>
</dd>
<dt>if (wasSlow</dt><dd><blockquote>
<div><dl class="simple">
<dt>&amp;&amp; DeciderUtil.isAvailableForRandomRecipient(</dt><dd><p>decider, LOG_FULL_SLOW_REQUEST_DETAILS_RANDOM_FRACTION_DECIDER_KEY)) {</p>
</dd>
</dl>
</div></blockquote>
<p>Base64RequestResponseForLogging.slowRequest(logLine, request, response).log();</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>FailureRatioCounter failureRatioCounter =</dt><dd><p>FAILURE_RATIO_COUNTER_BY_QUERY_SOURCE.get(request.getQuerySource());</p>
</dd>
<dt>if (failureRatioCounter != null) {</dt><dd><p>failureRatioCounter.requestFinished(!wasError);</p>
</dd>
<dt>} else {</dt><dd><p>NO_QUERY_SOURCE_FAILURE_RATIO_COUNTER.requestFinished(!wasError);</p>
</dd>
</dl>
<p>}</p>
</dd>
<dt>} catch (Exception e) {</dt><dd><p>LOG.error(“Exception building log entry “, e);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>private void setRequestLogEntries(LogEntry entry, EarlybirdRequest request) {</dt><dd><p>entry.setField(Fields.CLIENT_HOST, request.getClientHost());
entry.setField(Fields.CLIENT_REQUEST_ID, request.getClientRequestID());
entry.setField(Fields.REQUEST_TYPE, requestTypeForLog(request));</p>
<dl>
<dt>if (request.isSetSearchQuery()) {</dt><dd><p>ThriftSearchQuery searchQuery = request.getSearchQuery();
entry.setField(Fields.QUERY, searchQuery.getSerializedQuery());</p>
<dl class="simple">
<dt>if (searchQuery.isSetMaxHitsToProcess()) {</dt><dd><dl class="simple">
<dt>entry.setField(ExtraFields.QUERY_MAX_HITS_TO_PROCESS,</dt><dd><p>Integer.toString(searchQuery.getMaxHitsToProcess()));</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
<dl>
<dt>if (searchQuery.isSetCollectorParams()</dt><dd><blockquote>
<div><p>&amp;&amp; searchQuery.getCollectorParams().isSetTerminationParams()
&amp;&amp; searchQuery.getCollectorParams().getTerminationParams().isSetMaxHitsToProcess()) {</p>
</div></blockquote>
<dl class="simple">
<dt>entry.setField(ExtraFields.COLLECTOR_PARAMS_MAX_HITS_TO_PROCESS,</dt><dd><dl class="simple">
<dt>Integer.toString(searchQuery.getCollectorParams().getTerminationParams()</dt><dd><p>.getMaxHitsToProcess()));</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
<dl>
<dt>if (searchQuery.isSetRelevanceOptions()</dt><dd><blockquote>
<div><p>&amp;&amp; searchQuery.getRelevanceOptions().isSetMaxHitsToProcess()) {</p>
</div></blockquote>
<dl class="simple">
<dt>entry.setField(ExtraFields.RELEVANCE_OPTIONS_MAX_HITS_TO_PROCESS,</dt><dd><p>Integer.toString(searchQuery.getRelevanceOptions().getMaxHitsToProcess()));</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>entry.setField(Fields.NUM_REQUESTED, Integer.toString(numRequestedForLog(request)));</p>
<dl class="simple">
<dt>if (request.isSetQuerySource()) {</dt><dd><p>entry.setField(ExtraFields.QUERY_SOURCE, request.getQuerySource().name());</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>if (request.isSetClientId()) {</dt><dd><p>entry.setField(ExtraFields.CLIENT_ID, request.getClientId());</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>entry.setField(RootOnlyExtraFields.CACHING_ALLOWED,</dt><dd><p>Boolean.toString(EarlybirdRequestUtil.isCachingAllowed(request)));</p>
</dd>
</dl>
<p>entry.setField(RootOnlyExtraFields.DEBUG_MODE, Byte.toString(request.getDebugMode()));</p>
<p>Option&lt;ClientId&gt; clientIdOption = ClientId$.MODULE$.current();
if (clientIdOption.isDefined()) {</p>
<blockquote>
<div><p>entry.setField(ExtraFields.FINAGLE_CLIENT_ID, clientIdOption.get().name());</p>
</div></blockquote>
<p>}</p>
<p>setLogEntriesFromTwitterContext(entry);</p>
</dd>
</dl>
<p>}</p>
<p>&#64;VisibleForTesting
Option&lt;Viewer&gt; getTwitterContext() {</p>
<blockquote>
<div><p>return TwitterContext.acquire(TwitterContextPermit.get()).apply();</p>
</div></blockquote>
<p>}</p>
<dl>
<dt>private void setLogEntriesFromTwitterContext(LogEntry entry) {</dt><dd><p>Option&lt;Viewer&gt; viewerOption = getTwitterContext();
if (viewerOption.nonEmpty()) {</p>
<blockquote>
<div><p>Viewer viewer = viewerOption.get();</p>
<dl>
<dt>if (viewer.userAgent().nonEmpty()) {</dt><dd><p>String userAgent = viewer.userAgent().get();</p>
<p>// we only replace the comma in the user-agent with %2C to make it easily parseable,
// specially with command line tools like cut/sed/awk
userAgent = userAgent.replace(“,”, “%2C”);</p>
<p>entry.setField(RootOnlyExtraFields.USER_AGENT, userAgent);</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>private void setResponseLogEntries(LogEntry entry, EarlybirdResponse response) {</dt><dd><dl>
<dt>if (response != null) {</dt><dd><p>entry.setField(Fields.NUM_RETURNED, Integer.toString(numResultsForLog(response)));
entry.setField(Fields.RESPONSE_CODE, String.valueOf(response.getResponseCode()));
entry.setField(Fields.RESPONSE_TIME_MICROS, Long.toString(response.getResponseTimeMicros()));
if (response.isSetSearchResults()) {</p>
<blockquote>
<div><dl class="simple">
<dt>entry.setField(ExtraFields.NUM_HITS_PROCESSED,</dt><dd><p>Integer.toString(response.getSearchResults().getNumHitsProcessed()));</p>
</dd>
<dt>entry.setField(ExtraFields.QUERY_COST,</dt><dd><p>Double.toString(response.getSearchResults().getQueryCost()));</p>
</dd>
<dt>if (response.getSearchResults().isSetScoringTimeNanos()) {</dt><dd><dl class="simple">
<dt>entry.setField(ShardOnlyExtraFields.SCORING_TIME_NANOS,</dt><dd><p>Long.toString(response.getSearchResults().getScoringTimeNanos()));</p>
</dd>
</dl>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}
if (response.isSetCacheHit()) {</p>
<blockquote>
<div><p>entry.setField(RootOnlyExtraFields.CACHE_HIT, String.valueOf(response.isCacheHit()));</p>
</div></blockquote>
<p>}
if (response.isSetNumSearchedSegments()) {</p>
<blockquote>
<div><dl class="simple">
<dt>entry.setField(ShardOnlyExtraFields.NUM_SEARCHED_SEGMENTS,</dt><dd><p>Integer.toString(response.getNumSearchedSegments()));</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>private static int numRequestedForLog(EarlybirdRequest request) {</dt><dd><p>int num = 0;
if (request.isSetFacetRequest() &amp;&amp; request.getFacetRequest().isSetFacetFields()) {</p>
<blockquote>
<div><dl class="simple">
<dt>for (ThriftFacetFieldRequest field<span class="classifier">request.getFacetRequest().getFacetFields()) {</span></dt><dd><p>num += field.getNumResults();</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>} else if (request.isSetTermStatisticsRequest()) {</dt><dd><p>num = request.getTermStatisticsRequest().getTermRequestsSize();</p>
</dd>
<dt>} else if (request.isSetSearchQuery()) {</dt><dd><dl class="simple">
<dt>num =  request.getSearchQuery().isSetCollectorParams()</dt><dd><p>? request.getSearchQuery().getCollectorParams().getNumResultsToReturn() : 0;</p>
</dd>
<dt>if (request.getSearchQuery().getSearchStatusIdsSize() &gt; 0) {</dt><dd><p>num = Math.max(num, request.getSearchQuery().getSearchStatusIdsSize());</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}
return num;</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Returns the number of results in the given response. If the response is a term stats response,</p></li>
<li><p>then the returned value will be the number of term results. If the response is a facet</p></li>
<li><p>response, then the returned value will be the number of facet results. Otherwise, the returned</p></li>
<li><p>value will be the number of search results.</p></li>
</ul>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>/</p>
</dd>
<dt>public static int numResultsForLog(EarlybirdResponse response) {</dt><dd><dl class="simple">
<dt>if (response == null) {</dt><dd><p>return 0;</p>
</dd>
<dt>} else if (response.isSetFacetResults()) {</dt><dd><p>return ThriftSearchResultUtil.numFacetResults(response.getFacetResults());</p>
</dd>
<dt>} else if (response.isSetTermStatisticsResults()) {</dt><dd><p>return response.getTermStatisticsResults().getTermResultsSize();</p>
</dd>
<dt>} else {</dt><dd><p>return ThriftSearchResultUtil.numResults(response.getSearchResults());</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>private static String requestTypeForLog(EarlybirdRequest request) {</dt><dd><p>StringBuilder requestType = new StringBuilder(64);
if (request.isSetFacetRequest()) {</p>
<blockquote>
<div><p>requestType.append(“FACETS”);
int numFields = request.getFacetRequest().getFacetFieldsSize();
if (numFields &gt; 0) {</p>
<blockquote>
<div><p>// For 1 or 2 fields, just put them in the request type.  For more, just log the number.
if (numFields &lt;= 2) {</p>
<blockquote>
<div><dl class="simple">
<dt>for (ThriftFacetFieldRequest field<span class="classifier">request.getFacetRequest().getFacetFields()) {</span></dt><dd><p>requestType.append(“:”).append(field.getFieldName().toUpperCase());</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl class="simple">
<dt>} else {</dt><dd><p>requestType.append(“:MULTI-“).append(numFields);</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<dl>
<dt>} else if (request.isSetTermStatisticsRequest()) {</dt><dd><p>ThriftTermStatisticsRequest termStatsRequest = request.getTermStatisticsRequest();
requestType.append(“TERMSTATS-“)</p>
<blockquote>
<div><p>.append(termStatsRequest.getTermRequestsSize());</p>
</div></blockquote>
<p>ThriftHistogramSettings histoSettings = termStatsRequest.getHistogramSettings();
if (histoSettings != null) {</p>
<blockquote>
<div><p>String binSizeVal = String.valueOf(TermStatisticsUtil.determineBinSize(histoSettings));
String numBinsVal = String.valueOf(histoSettings.getNumBins());
requestType.append(“:NUMBINS-“).append(numBinsVal).append(“:BINSIZE-“).append(binSizeVal);</p>
</div></blockquote>
<p>}</p>
</dd>
<dt>} else if (request.isSetSearchQuery()) {</dt><dd><p>requestType.append(“SEARCH:”);
requestType.append(request.getSearchQuery().getRankingMode().name());
// Denote when a from user id is present.
if (request.getSearchQuery().isSetFromUserIDFilter64()) {</p>
<blockquote>
<div><dl class="simple">
<dt>requestType.append(“:NETWORK-“)</dt><dd><p>.append(request.getSearchQuery().getFromUserIDFilter64Size());</p>
</dd>
</dl>
</div></blockquote>
<p>}
// Denote when required status ids are present.
if (request.getSearchQuery().getSearchStatusIdsSize() &gt; 0) {</p>
<blockquote>
<div><p>requestType.append(“:IDS-“).append(request.getSearchQuery().getSearchStatusIdsSize());</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}
return requestType.toString();</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>private static Map&lt;ThriftQuerySource, FailureRatioCounter&gt; preBuildFailureRatioCounters() {</dt><dd><dl>
<dt>Map&lt;ThriftQuerySource, FailureRatioCounter&gt; counterByQuerySource =</dt><dd><p>new EnumMap&lt;&gt;(ThriftQuerySource.class);</p>
</dd>
<dt>for (ThriftQuerySource thriftQuerySource<span class="classifier">ThriftQuerySource.values()) {</span></dt><dd><dl class="simple">
<dt>FailureRatioCounter counter = new FailureRatioCounter(“earlybird_logger”, “query_source”,</dt><dd><p>thriftQuerySource.toString());</p>
</dd>
</dl>
<p>counterByQuerySource.put(thriftQuerySource, counter);</p>
</dd>
</dl>
<p>}</p>
<p>return Maps.immutableEnumMap(counterByQuerySource);</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../../../index2.rst.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../index2.rst.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../../../../../_sources/src/java/com/twitter/search/earlybird/common/EarlybirdRequestLogger.java.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>