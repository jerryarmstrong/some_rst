<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../../../../../../" id="documentation_options" src="../../../../../../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>package com.twitter.search.common.schema.earlybird;</p>
<p>import java.util.Map;</p>
<p>import com.google.common.annotations.VisibleForTesting;
import com.google.common.base.Preconditions;
import com.google.common.collect.Maps;</p>
<p>import com.twitter.common.text.util.TokenStreamSerializer;
import com.twitter.search.common.metrics.SearchCounter;
import com.twitter.search.common.schema.AnalyzerFactory;
import com.twitter.search.common.schema.DynamicSchema;
import com.twitter.search.common.schema.ImmutableSchema;
import com.twitter.search.common.schema.SchemaBuilder;
import com.twitter.search.common.schema.base.FeatureConfiguration;
import com.twitter.search.common.schema.base.Schema;
import com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant;
import com.twitter.search.common.schema.thriftjava.ThriftCSFType;
import com.twitter.search.common.schema.thriftjava.ThriftFeatureUpdateConstraint;
import com.twitter.search.common.schema.thriftjava.ThriftSchema;</p>
<p>import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.BLINK_FAVORITE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.BLINK_QUOTE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.BLINK_REPLY_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.BLINK_RETWEET_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.COMPOSER_SOURCE_IS_CAMERA_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.DECAYED_FAVORITE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.DECAYED_QUOTE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.DECAYED_REPLY_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.DECAYED_RETWEET_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EMBEDS_IMPRESSION_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EMBEDS_IMPRESSION_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EMBEDS_URL_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EMBEDS_URL_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXPERIMENTAL_HEALTH_MODEL_SCORE_1;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXPERIMENTAL_HEALTH_MODEL_SCORE_2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXPERIMENTAL_HEALTH_MODEL_SCORE_3;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXPERIMENTAL_HEALTH_MODEL_SCORE_4;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_FEATURE_UNUSED_BITS_0_24_8;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_12_30_2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_13_30_2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_14_10_22;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_16;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_17;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_18;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_19;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_20;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_4_31_1;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.EXTENDED_TEST_FEATURE_UNUSED_BITS_7_6_26;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAKE_FAVORITE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAKE_QUOTE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAKE_REPLY_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAKE_RETWEET_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAVORITE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FAVORITE_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FROM_BLUE_VERIFIED_ACCOUNT_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.FROM_VERIFIED_ACCOUNT_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_CARD_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_CONSUMER_VIDEO_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_EXPANDO_CARD_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_IMAGE_URL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_LINK_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_MULTIPLE_HASHTAGS_OR_TRENDS_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_MULTIPLE_MEDIA_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_NATIVE_IMAGE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_NEWS_URL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_PERISCOPE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_PRO_VIDEO_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_QUOTE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_TREND_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_VIDEO_URL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_VINE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.HAS_VISIBLE_LINK_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_NULLCAST_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_OFFENSIVE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_REPLY_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_RETWEET_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_SENSITIVE_CONTENT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_TRENDING_NOW_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_USER_BOT_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_USER_NEW_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_USER_NSFW_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.IS_USER_SPAM_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_ABUSIVE_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_ABUSIVE_HI_RCL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_DUP_CONTENT_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_NSFW_HI_PRC_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_NSFW_HI_RCL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_SPAM_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LABEL_SPAM_HI_RCL_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LANGUAGE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LAST_FAVORITE_SINCE_CREATION_HRS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LAST_QUOTE_SINCE_CREATION_HRS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LAST_REPLY_SINCE_CREATION_HRS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LAST_RETWEET_SINCE_CREATION_HRS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.LINK_LANGUAGE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NORMALIZED_FAVORITE_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NORMALIZED_REPLY_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NORMALIZED_RETWEET_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NUM_HASHTAGS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NUM_HASHTAGS_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NUM_MENTIONS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NUM_MENTIONS_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.NUM_STOCKS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PARUS_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PBLOCK_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PERISCOPE_EXISTS;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PERISCOPE_HAS_BEEN_FEATURED;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PERISCOPE_IS_CURRENTLY_FEATURED;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PERISCOPE_IS_FROM_QUALITY_SOURCE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PERISCOPE_IS_LIVE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PREV_USER_TWEET_ENGAGEMENT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.PROFILE_IS_EGG_FLAG;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.P_REPORTED_TWEET_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.P_SPAMMY_TWEET_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.QUOTE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.REFERENCE_AUTHOR_ID_LEAST_SIGNIFICANT_INT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.REFERENCE_AUTHOR_ID_MOST_SIGNIFICANT_INT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.REPLY_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.REPLY_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.RETWEET_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.RETWEET_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.SPAMMY_TWEET_CONTENT_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.TEXT_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.TOXICITY_SCORE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.TWEET_SIGNATURE;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.USER_REPUTATION;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.VIDEO_VIEW_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.VIDEO_VIEW_COUNT_V2;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.VISIBLE_TOKEN_RATIO;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.WEIGHTED_FAVORITE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.WEIGHTED_QUOTE_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.WEIGHTED_REPLY_COUNT;
import static com.twitter.search.common.schema.earlybird.EarlybirdFieldConstants.EarlybirdFieldConstant.WEIGHTED_RETWEET_COUNT;</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Field configurations for Earlybird.</p></li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>/</p>
</dd>
<dt>public final class EarlybirdSchemaCreateTool {</dt><dd><p>// How many times a schema is built
private static final SearchCounter SCHEMA_BUILD_COUNT =</p>
<blockquote>
<div><p>SearchCounter.export(“schema_build_count”);</p>
</div></blockquote>
<p>// Number of integers for the column of ENCODED_TWEET_FEATURES_FIELD.
&#64;VisibleForTesting
public static final int NUMBER_OF_INTEGERS_FOR_FEATURES = 5;</p>
<p>// Number of integers for the column of EXTENDED_ENCODED_TWEET_FEATURES_FIELD.
// extra 80 bytes
// In realtime cluster, assuming 19 segments total, and 8388608 docs per segment
// this would amount to about 12.75GB of memory needed
//
&#64;VisibleForTesting
public static final int NUMBER_OF_INTEGERS_FOR_EXTENDED_FEATURES = 20;</p>
<p>&#64;VisibleForTesting
public static final Map&lt;String, FeatureConfiguration&gt; FEATURE_CONFIGURATION_MAP</p>
<blockquote>
<div><p>= Maps.newLinkedHashMap();</p>
</div></blockquote>
<dl class="simple">
<dt>public static final String BASE_FIELD_NAME =</dt><dd><p>EarlybirdFieldConstant.ENCODED_TWEET_FEATURES_FIELD.getFieldName();</p>
</dd>
<dt>private static String getBaseFieldName(String fullName) {</dt><dd><p>int index = fullName.indexOf(SchemaBuilder.CSF_VIEW_NAME_SEPARATOR);
Preconditions.checkArgument(index &gt; 0);
return fullName.substring(0, index);</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>private static String getBaseFieldName(EarlybirdFieldConstant fieldConstant) {</dt><dd><p>return getBaseFieldName(fieldConstant.getFieldName());</p>
</dd>
</dl>
<p>}</p>
<dl class="simple">
<dt>private static String getFeatureNameInField(EarlybirdFieldConstant fieldConstant) {</dt><dd><p>int index = fieldConstant.getFieldName().indexOf(SchemaBuilder.CSF_VIEW_NAME_SEPARATOR);
Preconditions.checkArgument(index &gt; 0);
return fieldConstant.getFieldName().substring(index + 1);</p>
</dd>
</dl>
<p>}</p>
<p>// defining all features
static {</p>
<blockquote>
<div><p>// Add individual tweet encoded features as views on top of
// EarlybirdFieldConstant.ENCODED_TWEET_FEATURES_FIELD</p>
<p>// int intIndex, int bitStartPos, int bitLength
newEarlybirdFeatureConfiguration(IS_RETWEET_FLAG, ThriftCSFType.BOOLEAN, 0, 0, 1);
newEarlybirdFeatureConfiguration(IS_OFFENSIVE_FLAG, ThriftCSFType.BOOLEAN, 0, 1, 1);
newEarlybirdFeatureConfiguration(HAS_LINK_FLAG, ThriftCSFType.BOOLEAN, 0, 2, 1);
newEarlybirdFeatureConfiguration(HAS_TREND_FLAG, ThriftCSFType.BOOLEAN, 0, 3, 1);
newEarlybirdFeatureConfiguration(IS_REPLY_FLAG, ThriftCSFType.BOOLEAN, 0, 4, 1);
newEarlybirdFeatureConfiguration(IS_SENSITIVE_CONTENT, ThriftCSFType.BOOLEAN, 0, 5, 1);
newEarlybirdFeatureConfiguration(HAS_MULTIPLE_HASHTAGS_OR_TRENDS_FLAG,</p>
<blockquote>
<div><p>ThriftCSFType.BOOLEAN, 0, 6, 1);</p>
</div></blockquote>
<p>newEarlybirdFeatureConfiguration(FROM_VERIFIED_ACCOUNT_FLAG, ThriftCSFType.BOOLEAN, 0, 7, 1);
newEarlybirdFeatureConfiguration(TEXT_SCORE, ThriftCSFType.INT, 0, 8, 8);
newEarlybirdFeatureConfiguration(LANGUAGE, ThriftCSFType.INT, 0, 16, 8);
newEarlybirdFeatureConfiguration(LINK_LANGUAGE, ThriftCSFType.INT, 0, 24, 8);</p>
<p>newEarlybirdFeatureConfiguration(HAS_IMAGE_URL_FLAG, ThriftCSFType.BOOLEAN, 1, 0, 1);
newEarlybirdFeatureConfiguration(HAS_VIDEO_URL_FLAG, ThriftCSFType.BOOLEAN, 1, 1, 1);
newEarlybirdFeatureConfiguration(HAS_NEWS_URL_FLAG, ThriftCSFType.BOOLEAN, 1, 2, 1);
newEarlybirdFeatureConfiguration(HAS_EXPANDO_CARD_FLAG, ThriftCSFType.BOOLEAN, 1, 3, 1);
newEarlybirdFeatureConfiguration(HAS_MULTIPLE_MEDIA_FLAG, ThriftCSFType.BOOLEAN, 1, 4, 1);
newEarlybirdFeatureConfiguration(PROFILE_IS_EGG_FLAG, ThriftCSFType.BOOLEAN, 1, 5, 1);
newEarlybirdFeatureConfiguration(NUM_MENTIONS, ThriftCSFType.INT, 1, 6, 2);     // 0, 1, 2, 3+
newEarlybirdFeatureConfiguration(NUM_HASHTAGS, ThriftCSFType.INT, 1, 8, 2);     // 0, 1, 2, 3+
newEarlybirdFeatureConfiguration(HAS_CARD_FLAG, ThriftCSFType.BOOLEAN, 1, 10, 1);
newEarlybirdFeatureConfiguration(HAS_VISIBLE_LINK_FLAG, ThriftCSFType.BOOLEAN, 1, 11, 1);
newEarlybirdFeatureConfiguration(USER_REPUTATION, ThriftCSFType.INT, 1, 12, 8);
newEarlybirdFeatureConfiguration(IS_USER_SPAM_FLAG, ThriftCSFType.BOOLEAN, 1, 20, 1);
newEarlybirdFeatureConfiguration(IS_USER_NSFW_FLAG, ThriftCSFType.BOOLEAN, 1, 21, 1);
newEarlybirdFeatureConfiguration(IS_USER_BOT_FLAG, ThriftCSFType.BOOLEAN, 1, 22, 1);
newEarlybirdFeatureConfiguration(IS_USER_NEW_FLAG, ThriftCSFType.BOOLEAN, 1, 23, 1);
newEarlybirdFeatureConfiguration(PREV_USER_TWEET_ENGAGEMENT, ThriftCSFType.INT, 1, 24, 6);
newEarlybirdFeatureConfiguration(COMPOSER_SOURCE_IS_CAMERA_FLAG,</p>
<blockquote>
<div><p>ThriftCSFType.BOOLEAN, 1, 30, 1);</p>
</div></blockquote>
<p>newEarlybirdFeatureConfiguration(IS_NULLCAST_FLAG, ThriftCSFType.BOOLEAN, 1, 31, 1);</p>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(RETWEET_COUNT, ThriftCSFType.DOUBLE, 2, 0, 8,</dt><dd><p>ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(FAVORITE_COUNT, ThriftCSFType.DOUBLE, 2, 8, 8,</dt><dd><p>ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(REPLY_COUNT, ThriftCSFType.DOUBLE, 2, 16, 8,</dt><dd><p>ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
</dl>
<p>newEarlybirdFeatureConfiguration(PARUS_SCORE, ThriftCSFType.DOUBLE, 2, 24, 8);</p>
<p>newEarlybirdFeatureConfiguration(HAS_CONSUMER_VIDEO_FLAG, ThriftCSFType.BOOLEAN, 3, 0, 1);
newEarlybirdFeatureConfiguration(HAS_PRO_VIDEO_FLAG, ThriftCSFType.BOOLEAN, 3, 1, 1);
newEarlybirdFeatureConfiguration(HAS_VINE_FLAG, ThriftCSFType.BOOLEAN, 3, 2, 1);
newEarlybirdFeatureConfiguration(HAS_PERISCOPE_FLAG, ThriftCSFType.BOOLEAN, 3, 3, 1);
newEarlybirdFeatureConfiguration(HAS_NATIVE_IMAGE_FLAG, ThriftCSFType.BOOLEAN, 3, 4, 1);
// NOTE: There are 3 bits left in the first byte of INT 3, if possible, please reserve them
// for future media types (SEARCH-9131)
// newEarlybirdFeatureConfiguration(FUTURE_MEDIA_BITS, ThriftCSFType.INT, 3, 5, 3);</p>
<p>newEarlybirdFeatureConfiguration(VISIBLE_TOKEN_RATIO, ThriftCSFType.INT, 3, 8, 4);
newEarlybirdFeatureConfiguration(HAS_QUOTE_FLAG, ThriftCSFType.BOOLEAN, 3, 12, 1);
newEarlybirdFeatureConfiguration(FROM_BLUE_VERIFIED_ACCOUNT_FLAG,</p>
<blockquote>
<div><p>ThriftCSFType.BOOLEAN, 3, 13, 1);</p>
</div></blockquote>
<p>// Unused bits from bit 14 to bit 31 (18 bits)
// newEarlybirdFeatureConfiguration(UNUSED_BITS, ThriftCSFType.INT, 3, 14, 18);</p>
<p>newEarlybirdFeatureConfiguration(TWEET_SIGNATURE, ThriftCSFType.INT, 4, 0, 32);</p>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(EMBEDS_IMPRESSION_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 0, 0, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EMBEDS_URL_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 0, 8, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(VIDEO_VIEW_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 0, 16, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
</dl>
<p>// Unused bits from bit 24 to bit 31 (8 bits).
// This used to be a feature that was decommissioned (SEARCHQUAL-10321)
newEarlybirdFeatureConfiguration(EXTENDED_FEATURE_UNUSED_BITS_0_24_8,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 0, 24, 8);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(REFERENCE_AUTHOR_ID_LEAST_SIGNIFICANT_INT,</dt><dd><p>ThriftCSFType.INT, 1, 0, 32, ThriftFeatureUpdateConstraint.IMMUTABLE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(REFERENCE_AUTHOR_ID_MOST_SIGNIFICANT_INT,</dt><dd><p>ThriftCSFType.INT, 2, 0, 32, ThriftFeatureUpdateConstraint.IMMUTABLE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(RETWEET_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 3, 0, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(FAVORITE_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 3, 8, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(REPLY_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 3, 16, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EMBEDS_IMPRESSION_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 3, 24, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EMBEDS_URL_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 4, 0, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(VIDEO_VIEW_COUNT_V2,</dt><dd><p>ThriftCSFType.DOUBLE, 4, 8, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(QUOTE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 4, 16, 8);</p>
</dd>
</dl>
<p>newEarlybirdFeatureConfiguration(LABEL_ABUSIVE_FLAG,        ThriftCSFType.BOOLEAN, 4, 24, 1);
newEarlybirdFeatureConfiguration(LABEL_ABUSIVE_HI_RCL_FLAG, ThriftCSFType.BOOLEAN, 4, 25, 1);
newEarlybirdFeatureConfiguration(LABEL_DUP_CONTENT_FLAG,    ThriftCSFType.BOOLEAN, 4, 26, 1);
newEarlybirdFeatureConfiguration(LABEL_NSFW_HI_PRC_FLAG,    ThriftCSFType.BOOLEAN, 4, 27, 1);
newEarlybirdFeatureConfiguration(LABEL_NSFW_HI_RCL_FLAG,    ThriftCSFType.BOOLEAN, 4, 28, 1);
newEarlybirdFeatureConfiguration(LABEL_SPAM_FLAG,           ThriftCSFType.BOOLEAN, 4, 29, 1);
newEarlybirdFeatureConfiguration(LABEL_SPAM_HI_RCL_FLAG,    ThriftCSFType.BOOLEAN, 4, 30, 1);</p>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_4_31_1,</dt><dd><p>ThriftCSFType.INT, 4, 31, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(WEIGHTED_RETWEET_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 5, 0, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(WEIGHTED_REPLY_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 5, 8, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(WEIGHTED_FAVORITE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 5, 16, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(WEIGHTED_QUOTE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 5, 24, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(PERISCOPE_EXISTS,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 0, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(PERISCOPE_HAS_BEEN_FEATURED,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 1, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(PERISCOPE_IS_CURRENTLY_FEATURED,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 2, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(PERISCOPE_IS_FROM_QUALITY_SOURCE,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 3, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(PERISCOPE_IS_LIVE,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 4, 1);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(IS_TRENDING_NOW_FLAG,</dt><dd><p>ThriftCSFType.BOOLEAN, 6, 5, 1);</p>
</dd>
</dl>
<p>// remaining bits for integer 6
newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_7_6_26,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 6, 6, 26);</p>
</div></blockquote>
<p>// The decaying counters can become smaller
newEarlybirdFeatureConfiguration(DECAYED_RETWEET_COUNT,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 7, 0, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(DECAYED_REPLY_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 7, 8, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(DECAYED_FAVORITE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 7, 16, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(DECAYED_QUOTE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 7, 24, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
</dl>
<p>// The fake engagement counters.
newEarlybirdFeatureConfiguration(FAKE_RETWEET_COUNT,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 8, 0, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(FAKE_REPLY_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 8, 8, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(FAKE_FAVORITE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 8, 16, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(FAKE_QUOTE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 8, 24, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(LAST_RETWEET_SINCE_CREATION_HRS,</dt><dd><p>ThriftCSFType.INT, 9, 0, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(LAST_REPLY_SINCE_CREATION_HRS,</dt><dd><p>ThriftCSFType.INT, 9, 8, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(LAST_FAVORITE_SINCE_CREATION_HRS,</dt><dd><p>ThriftCSFType.INT, 9, 16, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(LAST_QUOTE_SINCE_CREATION_HRS,</dt><dd><p>ThriftCSFType.INT, 9, 24, 8, ThriftFeatureUpdateConstraint.INC_ONLY);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(NUM_HASHTAGS_V2,</dt><dd><p>ThriftCSFType.INT, 10, 0, 4);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(NUM_MENTIONS_V2,</dt><dd><p>ThriftCSFType.INT, 10, 4, 4);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(NUM_STOCKS,</dt><dd><p>ThriftCSFType.INT, 10, 8, 4);</p>
</dd>
</dl>
<p>// Remaining bits for integer 10
// Production Toxicity and PBlock score from HML (go/toxicity, go/pblock)
newEarlybirdFeatureConfiguration(TOXICITY_SCORE,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 10, 12, 10);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(PBLOCK_SCORE,</dt><dd><p>ThriftCSFType.DOUBLE, 10, 22, 10);</p>
</dd>
</dl>
<p>// The blink engagement counters
newEarlybirdFeatureConfiguration(BLINK_RETWEET_COUNT,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 11, 0, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(BLINK_REPLY_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 11, 8, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(BLINK_FAVORITE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 11, 16, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(BLINK_QUOTE_COUNT,</dt><dd><p>ThriftCSFType.DOUBLE, 11, 24, 8, ThriftFeatureUpdateConstraint.POSITIVE);</p>
</dd>
</dl>
<p>// Experimental health model scores from HML
newEarlybirdFeatureConfiguration(EXPERIMENTAL_HEALTH_MODEL_SCORE_1,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 12, 0, 10);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(EXPERIMENTAL_HEALTH_MODEL_SCORE_2,</dt><dd><p>ThriftCSFType.DOUBLE, 12, 10, 10);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EXPERIMENTAL_HEALTH_MODEL_SCORE_3,</dt><dd><p>ThriftCSFType.DOUBLE, 12, 20, 10);</p>
</dd>
</dl>
<p>// remaining bits for integer 12
newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_12_30_2,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 12, 30, 2);</p>
</div></blockquote>
<p>// Experimental health model scores from HML (cont.)
newEarlybirdFeatureConfiguration(EXPERIMENTAL_HEALTH_MODEL_SCORE_4,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 13, 0, 10);</p>
</div></blockquote>
<p>// Production pSpammyTweet score from HML (go/pspammytweet)
newEarlybirdFeatureConfiguration(P_SPAMMY_TWEET_SCORE,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 13, 10, 10);</p>
</div></blockquote>
<p>// Production pReportedTweet score from HML (go/preportedtweet)
newEarlybirdFeatureConfiguration(P_REPORTED_TWEET_SCORE,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 13, 20, 10);</p>
</div></blockquote>
<p>// remaining bits for integer 13
newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_13_30_2,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 13, 30, 2);</p>
</div></blockquote>
<p>// Experimental health model scores from HML (cont.)
// Prod Spammy Tweet Content model score from Platform Manipulation (go/spammy-tweet-content)
newEarlybirdFeatureConfiguration(SPAMMY_TWEET_CONTENT_SCORE,</p>
<blockquote>
<div><p>ThriftCSFType.DOUBLE, 14, 0, 10);</p>
</div></blockquote>
<p>// remaining bits for integer 14
newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_14_10_22,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 14, 10, 22);</p>
</div></blockquote>
<p>// Note that the integer index below is 0-based, but the index j in UNUSED_BITS_{j} below
// is 1-based.
newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_16,</p>
<blockquote>
<div><p>ThriftCSFType.INT, 15, 0, 32);</p>
</div></blockquote>
<dl class="simple">
<dt>newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_17,</dt><dd><p>ThriftCSFType.INT, 16, 0, 32);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_18,</dt><dd><p>ThriftCSFType.INT, 17, 0, 32);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_19,</dt><dd><p>ThriftCSFType.INT, 18, 0, 32);</p>
</dd>
<dt>newEarlybirdFeatureConfiguration(EXTENDED_TEST_FEATURE_UNUSED_BITS_20,</dt><dd><p>ThriftCSFType.INT, 19, 0, 32);</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
<p>private EarlybirdSchemaCreateTool() { }</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Get schema for the Earlybird.</p></li>
</ul>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>/</p>
</dd>
<dt>public static DynamicSchema buildSchema(EarlybirdCluster cluster)</dt><dd><blockquote>
<div><p>throws Schema.SchemaValidationException {</p>
</div></blockquote>
<p>SCHEMA_BUILD_COUNT.increment();
return new DynamicSchema(new ImmutableSchema(buildThriftSchema(cluster),</p>
<blockquote>
<div><p>new AnalyzerFactory(),
cluster.getNameForStats()));</p>
</div></blockquote>
</dd>
</dl>
<p>}</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Get schema for the Earlybird, can throw runtime exception.  This is mostly for static schema</p></li>
<li><p>usage, which does not care about schema updates.</p></li>
</ul>
<p><a href="#id5"><span class="problematic" id="id6">*</span></a>/</p>
</dd>
</dl>
<p>&#64;VisibleForTesting
public static DynamicSchema buildSchemaWithRuntimeException(EarlybirdCluster cluster) {</p>
<blockquote>
<div><dl class="simple">
<dt>try {</dt><dd><p>return buildSchema(cluster);</p>
</dd>
<dt>} catch (Schema.SchemaValidationException e) {</dt><dd><p>throw new RuntimeException(e);</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
<dl>
<dt>private static FeatureConfiguration newEarlybirdFeatureConfiguration(</dt><dd><blockquote>
<div><p>EarlybirdFieldConstant fieldConstant,
ThriftCSFType type,
int intIndex, int bitStartPos, int bitLength,
ThriftFeatureUpdateConstraint… constraints) {</p>
</div></blockquote>
<dl class="simple">
<dt>if (!fieldConstant.isFlagFeatureField() &amp;&amp; type == ThriftCSFType.BOOLEAN) {</dt><dd><dl class="simple">
<dt>throw new IllegalArgumentException(</dt><dd><p>“Non-flag feature field configured with boolean Thrift type: “ + fieldConstant);</p>
</dd>
</dl>
</dd>
</dl>
<p>}
if (fieldConstant.isFlagFeatureField() &amp;&amp; type != ThriftCSFType.BOOLEAN) {</p>
<blockquote>
<div><dl class="simple">
<dt>throw new IllegalArgumentException(</dt><dd><p>“Flag feature field configured with non-boolean Thrift type: “ + fieldConstant);</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
<p>String baseFieldName = getBaseFieldName(fieldConstant);
String name = getFeatureNameInField(fieldConstant);
FeatureConfiguration.Builder builder = FeatureConfiguration.builder()</p>
<blockquote>
<div><p>.withName(name)
.withType(type)
.withBitRange(intIndex, bitStartPos, bitLength);</p>
</div></blockquote>
<p>// remove the following line once we configure features purely by the schema
builder.withBaseField(baseFieldName);</p>
<dl class="simple">
<dt>if (!fieldConstant.isUnusedField()) {</dt><dd><p>builder.withOutputType(type);</p>
</dd>
</dl>
<p>}
if (fieldConstant.getFeatureNormalizationType() != null) {</p>
<blockquote>
<div><p>builder.withFeatureNormalizationType(fieldConstant.getFeatureNormalizationType());</p>
</div></blockquote>
<p>}</p>
<dl class="simple">
<dt>for (ThriftFeatureUpdateConstraint constraint<span class="classifier">constraints) {</span></dt><dd><p>builder.withFeatureUpdateConstraint(constraint);</p>
</dd>
</dl>
<p>}
FeatureConfiguration featureConfiguration = builder.build();
FEATURE_CONFIGURATION_MAP.put(fieldConstant.getFieldName(), featureConfiguration);
return featureConfiguration;</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>/**</dt><dd><ul class="simple">
<li><p>Build ThriftSchema for the Earlybird. Note that the schema returned can be used</p></li>
<li><p>all Earlybird clusters. However, some clusters may not use all the field configurations.</p></li>
</ul>
<p><a href="#id7"><span class="problematic" id="id8">*</span></a>/</p>
</dd>
</dl>
<p>&#64;VisibleForTesting
public static ThriftSchema buildThriftSchema(EarlybirdCluster cluster) {</p>
<blockquote>
<div><dl class="simple">
<dt>EarlybirdSchemaBuilder builder = new EarlybirdSchemaBuilder(</dt><dd><p>new EarlybirdFieldConstants(), cluster, TokenStreamSerializer.Version.VERSION_2);</p>
</dd>
<dt>builder.withSchemaVersion(</dt><dd><p>FlushVersion.CURRENT_FLUSH_VERSION.getVersionNumber(),
FlushVersion.CURRENT_FLUSH_VERSION.getMinorVersion(),
FlushVersion.CURRENT_FLUSH_VERSION.getDescription(),
FlushVersion.CURRENT_FLUSH_VERSION.isOfficial());</p>
</dd>
</dl>
<p>// ID field, used for partitioning
builder.withPartitionFieldId(0)</p>
<blockquote>
<div><p>.withSortableLongTermField(EarlybirdFieldConstant.ID_FIELD.getFieldName())
// Text Fields that are searched by default
.withTextField(EarlybirdFieldConstant.RESOLVED_LINKS_TEXT_FIELD.getFieldName(), true)
.withSearchFieldByDefault(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.RESOLVED_LINKS_TEXT_FIELD.getFieldName(), 0.1f)</p>
</div></blockquote>
<p>.withPretokenizedTextField(EarlybirdFieldConstant.TEXT_FIELD.getFieldName(), true)
.withSearchFieldByDefault(EarlybirdFieldConstant.TEXT_FIELD.getFieldName(), 1.0f);</p>
</div></blockquote>
<dl>
<dt>builder.withTweetSpecificNormalization(EarlybirdFieldConstant.TEXT_FIELD.getFieldName())</dt><dd><p>.withTextField(EarlybirdFieldConstant.TOKENIZED_FROM_USER_FIELD.getFieldName(), true)
.withSearchFieldByDefault(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.TOKENIZED_FROM_USER_FIELD.getFieldName(), 0.2f)</p>
</div></blockquote>
<p>// Text fields not searched by default
.withTextField(EarlybirdFieldConstant.FROM_USER_FIELD.getFieldName(), false)
.withTextField(EarlybirdFieldConstant.TO_USER_FIELD.getFieldName(), false)</p>
<p>// cards are not searched by default, and have weight 0.
.withPretokenizedTextField(EarlybirdFieldConstant.CARD_TITLE_FIELD.getFieldName(), false)
.withPretokenizedTextField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.CARD_DESCRIPTION_FIELD.getFieldName(), false)</p>
</div></blockquote>
<p>.withTextField(EarlybirdFieldConstant.CARD_LANG.getFieldName(), false)</p>
<p>// Out-of-order append fields
.withLongTermField(EarlybirdFieldConstant.LIKED_BY_USER_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.RETWEETED_BY_USER_ID.getFieldName())
.withLongTermField(EarlybirdFieldConstant.REPLIED_TO_BY_USER_ID.getFieldName())</p>
<p>// No Position fields, sorted alphabetically
.withPretokenizedNoPositionField(EarlybirdFieldConstant.CARD_DOMAIN_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.CARD_NAME_FIELD.getFieldName())
.withIntTermField(EarlybirdFieldConstant.CREATED_AT_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.ENTITY_ID_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.GEO_HASH_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.FROM_USER_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.IN_REPLY_TO_TWEET_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.IN_REPLY_TO_USER_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.RETWEET_SOURCE_TWEET_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.RETWEET_SOURCE_USER_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.CONVERSATION_ID_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.PLACE_ID_FIELD.getFieldName())
.withTextField(EarlybirdFieldConstant.PLACE_FULL_NAME_FIELD.getFieldName(), false)
.withIndexedNotTokenizedField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.PLACE_COUNTRY_CODE_FIELD.getFieldName())</p>
</div></blockquote>
<dl class="simple">
<dt>.withIndexedNotTokenizedField(</dt><dd><p>EarlybirdFieldConstant.PROFILE_GEO_COUNTRY_CODE_FIELD.getFieldName())</p>
</dd>
</dl>
<p>.withTextField(EarlybirdFieldConstant.PROFILE_GEO_REGION_FIELD.getFieldName(), false)
.withTextField(EarlybirdFieldConstant.PROFILE_GEO_LOCALITY_FIELD.getFieldName(), false)
.withTermTextLookup(EarlybirdFieldConstant.FROM_USER_ID_FIELD.getFieldName())
.withTermTextLookup(EarlybirdFieldConstant.IN_REPLY_TO_USER_ID_FIELD.getFieldName())
.withPretokenizedNoPositionField(EarlybirdFieldConstant.HASHTAGS_FIELD.getFieldName())
.withIndexedNotTokenizedField(ImmutableSchema.HF_PHRASE_PAIRS_FIELD)
.withIndexedNotTokenizedField(ImmutableSchema.HF_TERM_PAIRS_FIELD)
.withIndexedNotTokenizedField(EarlybirdFieldConstant.IMAGE_LINKS_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.INTERNAL_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.ISO_LANGUAGE_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.LINKS_FIELD.getFieldName())
.withIntTermField(EarlybirdFieldConstant.LINK_CATEGORY_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.MENTIONS_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.NEWS_LINKS_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.NORMALIZED_SOURCE_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.PLACE_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.SOURCE_FIELD.getFieldName())
.withPretokenizedNoPositionField(EarlybirdFieldConstant.STOCKS_FIELD.getFieldName())
.withIndexedNotTokenizedField(EarlybirdFieldConstant.VIDEO_LINKS_FIELD.getFieldName())
.withIntTermField(NORMALIZED_FAVORITE_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD.getFieldName())
.withIntTermField(NORMALIZED_REPLY_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD.getFieldName())
.withIntTermField(NORMALIZED_RETWEET_COUNT_GREATER_THAN_OR_EQUAL_TO_FIELD.getFieldName())</p>
<p>.withIntTermField(EarlybirdFieldConstant.COMPOSER_SOURCE.getFieldName())</p>
<p>.withLongTermField(EarlybirdFieldConstant.QUOTED_TWEET_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.QUOTED_USER_ID_FIELD.getFieldName())
.withLongTermField(EarlybirdFieldConstant.DIRECTED_AT_USER_ID_FIELD.getFieldName())</p>
<p>// Named entity fields
.withIndexedNotTokenizedField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.NAMED_ENTITY_FROM_URL_FIELD.getFieldName(), true)</p>
</div></blockquote>
<dl class="simple">
<dt>.withIndexedNotTokenizedField(</dt><dd><p>EarlybirdFieldConstant.NAMED_ENTITY_FROM_TEXT_FIELD.getFieldName(), true)</p>
</dd>
<dt>.withIndexedNotTokenizedField(</dt><dd><p>EarlybirdFieldConstant.NAMED_ENTITY_WITH_TYPE_FROM_URL_FIELD.getFieldName(), true)</p>
</dd>
<dt>.withIndexedNotTokenizedField(</dt><dd><p>EarlybirdFieldConstant.NAMED_ENTITY_WITH_TYPE_FROM_TEXT_FIELD.getFieldName(), true)</p>
</dd>
</dl>
<p>// camelCase-tokenized user handles and tokenized user names, not searchable by default
.withPretokenizedTextField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.CAMELCASE_USER_HANDLE_FIELD.getFieldName(), false)</p>
</div></blockquote>
<dl class="simple">
<dt>.withPretokenizedTextField(</dt><dd><p>EarlybirdFieldConstant.TOKENIZED_USER_NAME_FIELD.getFieldName(), false)</p>
</dd>
<dt>.withIndexedNotTokenizedField(</dt><dd><p>EarlybirdFieldConstant.SPACE_ID_FIELD.getFieldName())</p>
</dd>
</dl>
<p>.withTextField(EarlybirdFieldConstant.SPACE_ADMIN_FIELD.getFieldName(), false)
.withPretokenizedTextField(EarlybirdFieldConstant.SPACE_TITLE_FIELD.getFieldName(), false)
.withTextField(EarlybirdFieldConstant.TOKENIZED_SPACE_ADMIN_FIELD.getFieldName(), true)
.withPretokenizedTextField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.CAMELCASE_TOKENIZED_SPACE_ADMIN_FIELD.getFieldName(), false)</p>
</div></blockquote>
<dl class="simple">
<dt>.withPretokenizedTextField(</dt><dd><p>EarlybirdFieldConstant.TOKENIZED_SPACE_ADMIN_DISPLAY_NAME_FIELD.getFieldName(), false)</p>
</dd>
<dt>.withPretokenizedTextField(</dt><dd><p>EarlybirdFieldConstant.URL_DESCRIPTION_FIELD.getFieldName(), false)</p>
</dd>
<dt>.withPretokenizedTextField(</dt><dd><p>EarlybirdFieldConstant.URL_TITLE_FIELD.getFieldName(), false);</p>
</dd>
</dl>
</dd>
<dt>builder</dt><dd><p>.withPhotoUrlFacetField(EarlybirdFieldConstant.TWIMG_LINKS_FIELD.getFieldName())
.withOutOfOrderEnabledForField(</p>
<blockquote>
<div><p>EarlybirdFieldConstant.LIKED_BY_USER_ID_FIELD.getFieldName())</p>
</div></blockquote>
<dl class="simple">
<dt>.withOutOfOrderEnabledForField(</dt><dd><p>EarlybirdFieldConstant.RETWEETED_BY_USER_ID.getFieldName())</p>
</dd>
<dt>.withOutOfOrderEnabledForField(</dt><dd><p>EarlybirdFieldConstant.REPLIED_TO_BY_USER_ID.getFieldName());</p>
</dd>
</dl>
</dd>
</dl>
<p>// ColumnStrideFields.
boolean loadCSFIntoRAMDefault = cluster != EarlybirdCluster.FULL_ARCHIVE;</p>
<dl>
<dt>builder</dt><dd><dl>
<dt>.withColumnStrideField(EarlybirdFieldConstants.ENCODED_TWEET_FEATURES_FIELD_NAME,</dt><dd><p>ThriftCSFType.INT, NUMBER_OF_INTEGERS_FOR_FEATURES,
true, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.FROM_USER_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, /* the full archive loads this field into RAM <a href="#id9"><span class="problematic" id="id10">*</span></a>/ true)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.SHARED_STATUS_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.CARD_TYPE_CSF_FIELD.getFieldName(),</dt><dd><blockquote>
<div><p>ThriftCSFType.BYTE, 1, false, loadCSFIntoRAMDefault)</p>
</div></blockquote>
<p>// CSF Used by archive mappers</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.CREATED_AT_CSF_FIELD.getFieldName(),</dt><dd><p>ThriftCSFType.INT, 1, false, /* the full archive loads this field into RAM <a href="#id11"><span class="problematic" id="id12">*</span></a>/ true)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.ID_CSF_FIELD.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, /* the full archive loads this field into RAM <a href="#id13"><span class="problematic" id="id14">*</span></a>/ true)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.LAT_LON_CSF_FIELD.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.CONVERSATION_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.QUOTED_TWEET_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.QUOTED_USER_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.CARD_LANG_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.INT, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.CARD_URI_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.DIRECTED_AT_USER_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(EarlybirdFieldConstant.REFERENCE_AUTHOR_ID_CSF.getFieldName(),</dt><dd><p>ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
<dt>.withColumnStrideField(</dt><dd><p>EarlybirdFieldConstant.EXCLUSIVE_CONVERSATION_AUTHOR_ID_CSF.getFieldName(),
ThriftCSFType.LONG, 1, false, loadCSFIntoRAMDefault)</p>
</dd>
</dl>
</dd>
</dl>
<p>/* Semicolon on separate line to preserve git blame. <a href="#id15"><span class="problematic" id="id16">*</span></a>/;</p>
<dl>
<dt>builder.withColumnStrideField(</dt><dd><p>EarlybirdFieldConstants.EXTENDED_ENCODED_TWEET_FEATURES_FIELD_NAME,
ThriftCSFType.INT, NUMBER_OF_INTEGERS_FOR_EXTENDED_FEATURES,
true, loadCSFIntoRAMDefault);</p>
</dd>
<dt>for (Map.Entry&lt;String, FeatureConfiguration&gt; entry<span class="classifier">FEATURE_CONFIGURATION_MAP.entrySet()) {</span></dt><dd><p>String fullName = entry.getKey();
String baseName = getBaseFieldName(fullName);
EarlybirdFieldConstant fieldConstant = EarlybirdFieldConstants.getFieldConstant(fullName);
if (fieldConstant.isValidFieldInCluster(cluster)) {</p>
<blockquote>
<div><p>builder.withFeatureConfiguration(baseName, fullName, entry.getValue());</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}
// Add facet settings for facet fields
// boolean args are respectively whether to use skiplist, whether offensive, whether to use CSF
builder</p>
<blockquote>
<div><dl class="simple">
<dt>.withFacetConfigs(EarlybirdFieldConstant.MENTIONS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.MENTIONS_FACET, true, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.HASHTAGS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.HASHTAGS_FACET, true, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.STOCKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.STOCKS_FACET, true, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.IMAGE_LINKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.IMAGES_FACET, true, true, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.VIDEO_LINKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.VIDEOS_FACET, true, true, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.NEWS_LINKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.NEWS_FACET, true, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.ISO_LANGUAGE_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.LANGUAGES_FACET, false, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.SOURCE_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.SOURCES_FACET, false, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.TWIMG_LINKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.TWIMG_FACET, true, true, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.FROM_USER_ID_CSF.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.FROM_USER_ID_FACET, false, false, true /* facet on CSF <a href="#id17"><span class="problematic" id="id18">*</span></a>/)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.SHARED_STATUS_ID_CSF.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.RETWEETS_FACET, false, false, true /* facet on CSF <a href="#id19"><span class="problematic" id="id20">*</span></a>/)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.LINKS_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.LINKS_FACET, true, false, false)</p>
</dd>
<dt>.withFacetConfigs(</dt><dd><p>EarlybirdFieldConstant.NAMED_ENTITY_WITH_TYPE_FROM_URL_FIELD.getFieldName(),
true, false, false)</p>
</dd>
<dt>.withFacetConfigs(</dt><dd><p>EarlybirdFieldConstant.NAMED_ENTITY_WITH_TYPE_FROM_TEXT_FIELD.getFieldName(),
true, false, false)</p>
</dd>
<dt>.withFacetConfigs(</dt><dd><p>EarlybirdFieldConstant.ENTITY_ID_FIELD.getFieldName(),
true, false, false)</p>
</dd>
<dt>.withFacetConfigs(EarlybirdFieldConstant.SPACE_ID_FIELD.getFieldName(),</dt><dd><p>EarlybirdFieldConstant.SPACES_FACET, true, false, false);</p>
</dd>
</dl>
</div></blockquote>
<p>return builder.build();</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../../../../index2.rst.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../../index2.rst.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../../../../../../_sources/src/java/com/twitter/search/common/schema/earlybird/EarlybirdSchemaCreateTool.java.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>