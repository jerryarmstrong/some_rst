<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; twit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../../../../../../../../" id="documentation_options" src="../../../../../../../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../../../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>package com.twitter.visibility.rules</p>
<p>import com.twitter.visibility.features.AuthorScreenName
import com.twitter.visibility.features.Feature
import com.twitter.visibility.features.FeatureMap
import com.twitter.visibility.features.RawQuery
import com.twitter.visibility.models.SafetyLevel
import com.twitter.visibility.models.SafetyLevel._</p>
<p>object RuleBase {</p>
<blockquote>
<div><dl class="simple">
<dt>val DeprecatedFeatures: Seq[Feature[_]] =</dt><dd><p>Seq(AuthorScreenName, RawQuery)</p>
</dd>
<dt>val RuleMap: Map[SafetyLevel, VisibilityPolicy] = Map(</dt><dd><p>AccessInternalPromotedContent -&gt; InternalPromotedContentPolicy,
AllSubscribedLists -&gt; AllSubscribedListsPolicy,
AdsBusinessSettings -&gt; AdsBusinessSettingsPolicy,
AdsCampaign -&gt; AdsCampaignPolicy,
AdsManager -&gt; AdsManagerPolicy,
AdsReportingDashboard -&gt; AdsReportingDashboardPolicy,
Appeals -&gt; AppealsPolicy,
ArticleTweetTimeline -&gt; ArticleTweetTimelinePolicy,
BaseQig -&gt; BaseQigPolicy,
BirdwatchNoteAuthor -&gt; BirdwatchNoteAuthorPolicy,
BirdwatchNoteTweetsTimeline -&gt; BirdwatchNoteTweetsTimelinePolicy,
BirdwatchNeedsYourHelpNotifications -&gt; BirdwatchNeedsYourHelpNotificationsPolicy,
BlockMuteUsersTimeline -&gt; BlockMuteUsersTimelinePolicy,
BrandSafety -&gt; BrandSafetyPolicy,
CardPollVoting -&gt; CardPollVotingPolicy,
CardsService -&gt; CardsServicePolicy,
Communities -&gt; CommunitiesPolicy,
ContentControlToolInstall -&gt; ContentControlToolInstallPolicy,
ConversationFocalPrehydration -&gt; ConversationFocalPrehydrationPolicy,
ConversationFocalTweet -&gt; ConversationFocalTweetPolicy,
ConversationInjectedTweet -&gt; ConversationInjectedTweetPolicy,
ConversationReply -&gt; ConversationReplyPolicy,
CuratedTrendsRepresentativeTweet -&gt; CuratedTrendsRepresentativeTweetPolicy,
CurationPolicyViolations -&gt; CurationPolicyViolationsPolicy,
FollowingAndFollowersUserList -&gt; FollowingAndFollowersUserListPolicy,
DeprecatedSafetyLevel -&gt; FilterNonePolicy,
DevPlatformGetListTweets -&gt; DevPlatformGetListTweetsPolicy,
DesFollowingAndFollowersUserList -&gt; FollowingAndFollowersUserListPolicy,
DesHomeTimeline -&gt; DESHomeTimelinePolicy,
DesQuoteTweetTimeline -&gt; DesQuoteTweetTimelinePolicy,
DesRealtime -&gt; DESRealtimePolicy,
DesRealtimeSpamEnrichment -&gt; DESRealtimeSpamEnrichmentPolicy,
DesRealtimeTweetFilter -&gt; DESRealtimeSpamEnrichmentPolicy,
DesRetweetingUsers -&gt; DESRetweetingUsersPolicy,
DesTweetDetail -&gt; DesTweetDetailPolicy,
DesTweetLikingUsers -&gt; DESTweetLikingUsersPolicy,
DesUserBookmarks -&gt; DESUserBookmarksPolicy,
DesUserLikedTweets -&gt; DESUserLikedTweetsPolicy,
DesUserMentions -&gt; DESUserMentionsPolicy,
DesUserTweets -&gt; DESUserTweetsPolicy,
DevPlatformComplianceStream -&gt; DevPlatformComplianceStreamPolicy,
DirectMessages -&gt; DirectMessagesPolicy,
DirectMessagesConversationList -&gt; DirectMessagesConversationListPolicy,
DirectMessagesConversationTimeline -&gt; DirectMessagesConversationTimelinePolicy,
DirectMessagesInbox -&gt; DirectMessagesInboxPolicy,
DirectMessagesMutedUsers -&gt; DirectMessagesMutedUsersPolicy,
DirectMessagesPinned -&gt; DirectMessagesPinnedPolicy,
DirectMessagesSearch -&gt; DirectMessagesSearchPolicy,
EditHistoryTimeline -&gt; EditHistoryTimelinePolicy,
ElevatedQuoteTweetTimeline -&gt; ElevatedQuoteTweetTimelinePolicy,
EmbeddedTweet -&gt; EmbeddedTweetsPolicy,
EmbedsPublicInterestNotice -&gt; EmbedsPublicInterestNoticePolicy,
EmbedTweetMarkup -&gt; EmbedTweetMarkupPolicy,
WritePathLimitedActionsEnforcement -&gt; WritePathLimitedActionsEnforcementPolicy,
FilterAll -&gt; FilterAllPolicy,
FilterAllPlaceholder -&gt; FilterAllPolicy,
FilterNone -&gt; FilterNonePolicy,
FilterDefault -&gt; FilterDefaultPolicy,
FollowedTopicsTimeline -&gt; FollowedTopicsTimelinePolicy,
FollowerConnections -&gt; FollowerConnectionsPolicy,
ForDevelopmentOnly -&gt; ForDevelopmentOnlyPolicy,
FriendsFollowingList -&gt; FriendsFollowingListPolicy,
GraphqlDefault -&gt; GraphqlDefaultPolicy,
GryphonDecksAndColumns -&gt; GryphonDecksAndColumnsSharingPolicy,
HumanizationNudge -&gt; HumanizationNudgePolicy,
KitchenSinkDevelopment -&gt; KitchenSinkDevelopmentPolicy,
ListHeader -&gt; ListHeaderPolicy,
ListMemberships -&gt; ListMembershipsPolicy,
ListOwnerships -&gt; ListOwnershipsPolicy,
ListRecommendations -&gt; ListRecommendationsPolicy,
ListSearch -&gt; ListSearchPolicy,
ListSubscriptions -&gt; ListSubscriptionsPolicy,
LivePipelineEngagementCounts -&gt; LivePipelineEngagementCountsPolicy,
LiveVideoTimeline -&gt; LiveVideoTimelinePolicy,
MagicRecs -&gt; MagicRecsPolicy,
MagicRecsAggressive -&gt; MagicRecsAggressivePolicy,
MagicRecsAggressiveV2 -&gt; MagicRecsAggressiveV2Policy,
MagicRecsV2 -&gt; MagicRecsV2Policy,
Minimal -&gt; MinimalPolicy,
ModeratedTweetsTimeline -&gt; ModeratedTweetsTimelinePolicy,
Moments -&gt; MomentsPolicy,
NearbyTimeline -&gt; NearbyTimelinePolicy,
NewUserExperience -&gt; NewUserExperiencePolicy,
NotificationsIbis -&gt; NotificationsIbisPolicy,
NotificationsPlatform -&gt; NotificationsPlatformPolicy,
NotificationsPlatformPush -&gt; NotificationsPlatformPushPolicy,
NotificationsQig -&gt; NotificationsQigPolicy,
NotificationsRead -&gt; NotificationsReadPolicy,
NotificationsTimelineDeviceFollow -&gt; NotificationsTimelineDeviceFollowPolicy,
NotificationsWrite -&gt; NotificationsWritePolicy,
NotificationsWriterV2 -&gt; NotificationsWriterV2Policy,
NotificationsWriterTweetHydrator -&gt; NotificationsWriterTweetHydratorPolicy,
ProfileMixerMedia -&gt; ProfileMixerMediaPolicy,
ProfileMixerFavorites -&gt; ProfileMixerFavoritesPolicy,
QuickPromoteTweetEligibility -&gt; QuickPromoteTweetEligibilityPolicy,
QuoteTweetTimeline -&gt; QuoteTweetTimelinePolicy,
QuotedTweetRules -&gt; QuotedTweetRulesPolicy,
Recommendations -&gt; RecommendationsPolicy,
RecosVideo -&gt; RecosVideoPolicy,
RecosWritePath -&gt; RecosWritePathPolicy,
RepliesGrouping -&gt; RepliesGroupingPolicy,
ReportCenter -&gt; ReportCenterPolicy,
ReturningUserExperience -&gt; ReturningUserExperiencePolicy,
ReturningUserExperienceFocalTweet -&gt; ReturningUserExperienceFocalTweetPolicy,
Revenue -&gt; RevenuePolicy,
RitoActionedTweetTimeline -&gt; RitoActionedTweetTimelinePolicy,
SearchHydration -&gt; SearchHydrationPolicy,
SearchMixerSrpMinimal -&gt; SearchMixerSrpMinimalPolicy,
SearchMixerSrpStrict -&gt; SearchMixerSrpStrictPolicy,
SearchLatest -&gt; SearchLatestPolicy,
SearchPeopleSrp -&gt; SearchPeopleSrpPolicy,
SearchPeopleTypeahead -&gt; SearchPeopleTypeaheadPolicy,
SearchPhoto -&gt; SearchPhotoPolicy,
SearchTrendTakeoverPromotedTweet -&gt; SearchTrendTakeoverPromotedTweetPolicy,
SearchTop -&gt; SearchTopPolicy,
SearchTopQig -&gt; SearchTopQigPolicy,
SearchVideo -&gt; SearchVideoPolicy,
SearchBlenderUserRules -&gt; SearchBlenderUserRulesPolicy,
SearchLatestUserRules -&gt; SearchLatestUserRulesPolicy,
ShoppingManagerSpyMode -&gt; ShoppingManagerSpyModePolicy,
SignalsReactions -&gt; SignalsReactionsPolicy,
SignalsTweetReactingUsers -&gt; SignalsTweetReactingUsersPolicy,
SocialProof -&gt; SocialProofPolicy,
SoftInterventionPivot -&gt; SoftInterventionPivotPolicy,
SpaceFleetline -&gt; SpaceFleetlinePolicy,
SpaceHomeTimelineUpranking -&gt; SpaceHomeTimelineUprankingPolicy,
SpaceJoinScreen -&gt; SpaceJoinScreenPolicy,
SpaceNotifications -&gt; SpaceNotificationsPolicy,
Spaces -&gt; SpacesPolicy,
SpacesParticipants -&gt; SpacesParticipantsPolicy,
SpacesSellerApplicationStatus -&gt; SpacesSellerApplicationStatusPolicy,
SpacesSharing -&gt; SpacesSharingPolicy,
SpaceTweetAvatarHomeTimeline -&gt; SpaceTweetAvatarHomeTimelinePolicy,
StickersTimeline -&gt; StickersTimelinePolicy,
StratoExtLimitedEngagements -&gt; StratoExtLimitedEngagementsPolicy,
StreamServices -&gt; StreamServicesPolicy,
SuperFollowerConnections -&gt; SuperFollowerConnectionsPolicy,
SuperLike -&gt; SuperLikePolicy,
Test -&gt; TestPolicy,
TimelineContentControls -&gt; TimelineContentControlsPolicy,
TimelineConversations -&gt; TimelineConversationsPolicy,
TimelineConversationsDownranking -&gt; TimelineConversationsDownrankingPolicy,
TimelineConversationsDownrankingMinimal -&gt; TimelineConversationsDownrankingMinimalPolicy,
TimelineFollowingActivity -&gt; TimelineFollowingActivityPolicy,
TimelineHome -&gt; TimelineHomePolicy,
TimelineHomeCommunities -&gt; TimelineHomeCommunitiesPolicy,
TimelineHomeHydration -&gt; TimelineHomeHydrationPolicy,
TimelineHomePromotedHydration -&gt; TimelineHomePromotedHydrationPolicy,
TimelineHomeRecommendations -&gt; TimelineHomeRecommendationsPolicy,
TimelineHomeTopicFollowRecommendations -&gt; TimelineHomeTopicFollowRecommendationsPolicy,
TimelineScorer -&gt; TimelineScorerPolicy,
TopicsLandingPageTopicRecommendations -&gt; TopicsLandingPageTopicRecommendationsPolicy,
ExploreRecommendations -&gt; ExploreRecommendationsPolicy,
TimelineInjection -&gt; TimelineInjectionPolicy,
TimelineMentions -&gt; TimelineMentionsPolicy,
TimelineModeratedTweetsHydration -&gt; TimelineModeratedTweetsHydrationPolicy,
TimelineHomeLatest -&gt; TimelineHomeLatestPolicy,
TimelineLikedBy -&gt; TimelineLikedByPolicy,
TimelineRetweetedBy -&gt; TimelineRetweetedByPolicy,
TimelineSuperLikedBy -&gt; TimelineSuperLikedByPolicy,
TimelineBookmark -&gt; TimelineBookmarkPolicy,
TimelineMedia -&gt; TimelineMediaPolicy,
TimelineReactiveBlending -&gt; TimelineReactiveBlendingPolicy,
TimelineFavorites -&gt; TimelineFavoritesPolicy,
TimelineFavoritesSelfView -&gt; TimelineFavoritesSelfViewPolicy,
TimelineLists -&gt; TimelineListsPolicy,
TimelineProfile -&gt; TimelineProfilePolicy,
TimelineProfileAll -&gt; TimelineProfileAllPolicy,
TimelineProfileSpaces -&gt; TimelineProfileSpacesPolicy,
TimelineProfileSuperFollows -&gt; TimelineProfileSuperFollowsPolicy,
TimelineFocalTweet -&gt; TimelineFocalTweetPolicy,
Tombstoning -&gt; TombstoningPolicy,
TopicRecommendations -&gt; TopicRecommendationsPolicy,
TrendsRepresentativeTweet -&gt; TrendsRepresentativeTweetPolicy,
TrustedFriendsUserList -&gt; TrustedFriendsUserListPolicy,
TwitterDelegateUserList -&gt; TwitterDelegateUserListPolicy,
TweetDetail -&gt; TweetDetailPolicy,
TweetDetailNonToo -&gt; TweetDetailNonTooPolicy,
TweetDetailWithInjectionsHydration -&gt; TweetDetailWithInjectionsHydrationPolicy,
TweetEngagers -&gt; TweetEngagersPolicy,
TweetReplyNudge -&gt; TweetReplyNudgePolicy,
TweetScopedTimeline -&gt; TweetScopedTimelinePolicy,
TweetWritesApi -&gt; TweetWritesApiPolicy,
TwitterArticleCompose -&gt; TwitterArticleComposePolicy,
TwitterArticleProfileTab -&gt; TwitterArticleProfileTabPolicy,
TwitterArticleRead -&gt; TwitterArticleReadPolicy,
UserMilestoneRecommendation -&gt; UserMilestoneRecommendationPolicy,
UserProfileHeader -&gt; UserProfileHeaderPolicy,
UserScopedTimeline -&gt; UserScopedTimelinePolicy,
UserSearchSrp -&gt; UserSearchSrpPolicy,
UserSearchTypeahead -&gt; UserSearchTypeaheadPolicy,
UserSelfViewOnly -&gt; UserSelfViewOnlyPolicy,
UserSettings -&gt; UserSettingsPolicy,
VideoAds -&gt; VideoAdsPolicy,
ZipbirdConsumerArchives -&gt; ZipbirdConsumerArchivesPolicy,
TweetAward -&gt; TweetAwardPolicy,</p>
</dd>
</dl>
<p>)</p>
<dl>
<dt>def removeUnusedFeaturesFromFeatureMap(</dt><dd><p>featureMap: FeatureMap,
rules: Seq[Rule],</p>
</dd>
<dt>): FeatureMap = {</dt><dd><dl class="simple">
<dt>val featuresInSafetyLevel: Set[Feature[_]] =</dt><dd><p>RuleBase.getFeaturesForRules(rules)</p>
</dd>
</dl>
<p>val filteredMap = featureMap.map.filterKeys(featuresInSafetyLevel.contains(_))</p>
<p>new FeatureMap(filteredMap, featureMap.constantMap)</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>def getFeaturesForRules(rules: Seq[Rule]): Set[Feature[_]] = {</dt><dd><dl class="simple">
<dt>rules.flatMap { r: Rule =&gt;</dt><dd><p>r.featureDependencies ++ r.optionalFeatureDependencies</p>
</dd>
</dl>
<p>}.toSet</p>
</dd>
</dl>
<p>}</p>
<p>def hasTweetRules(safetyLevel: SafetyLevel): Boolean = RuleMap(safetyLevel).tweetRules.nonEmpty
def hasUserRules(safetyLevel: SafetyLevel): Boolean = RuleMap(safetyLevel).userRules.nonEmpty
def hasCardRules(safetyLevel: SafetyLevel): Boolean = RuleMap(safetyLevel).cardRules.nonEmpty
def hasDmRules(safetyLevel: SafetyLevel): Boolean = RuleMap(safetyLevel).dmRules.nonEmpty
def hasDmConversationRules(safetyLevel: SafetyLevel): Boolean = RuleMap(</p>
<blockquote>
<div><p>safetyLevel).dmConversationRules.nonEmpty</p>
</div></blockquote>
<dl class="simple">
<dt>def hasDmEventRules(safetyLevel: SafetyLevel): Boolean = RuleMap(</dt><dd><p>safetyLevel).dmEventRules.nonEmpty</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../../../../index2.rst.html">twit</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../../index2.rst.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, jare.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../../../../../../_sources/visibilitylib/src/main/scala/com/twitter/visibility/rules/RuleBase.scala.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>